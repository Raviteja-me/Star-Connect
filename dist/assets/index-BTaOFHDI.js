var FS=Object.defineProperty;var US=(t,e,n)=>e in t?FS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H=(t,e,n)=>US(t,typeof e!="symbol"?e+"":e,n);function BS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Zw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eE={exports:{}},dd={},tE={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pl=Symbol.for("react.element"),$S=Symbol.for("react.portal"),WS=Symbol.for("react.fragment"),zS=Symbol.for("react.strict_mode"),HS=Symbol.for("react.profiler"),YS=Symbol.for("react.provider"),KS=Symbol.for("react.context"),qS=Symbol.for("react.forward_ref"),QS=Symbol.for("react.suspense"),GS=Symbol.for("react.memo"),XS=Symbol.for("react.lazy"),_v=Symbol.iterator;function JS(t){return t===null||typeof t!="object"?null:(t=_v&&t[_v]||t["@@iterator"],typeof t=="function"?t:null)}var nE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rE=Object.assign,sE={};function So(t,e,n){this.props=t,this.context=e,this.refs=sE,this.updater=n||nE}So.prototype.isReactComponent={};So.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};So.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iE(){}iE.prototype=So.prototype;function fm(t,e,n){this.props=t,this.context=e,this.refs=sE,this.updater=n||nE}var pm=fm.prototype=new iE;pm.constructor=fm;rE(pm,So.prototype);pm.isPureReactComponent=!0;var wv=Array.isArray,oE=Object.prototype.hasOwnProperty,mm={current:null},aE={key:!0,ref:!0,__self:!0,__source:!0};function lE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)oE.call(e,r)&&!aE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:pl,type:t,key:i,ref:o,props:s,_owner:mm.current}}function ZS(t,e){return{$$typeof:pl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gm(t){return typeof t=="object"&&t!==null&&t.$$typeof===pl}function eb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ev=/\/+/g;function Dh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eb(""+t.key):e.toString(36)}function Rc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pl:case $S:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Dh(o,0):r,wv(s)?(n="",t!=null&&(n=t.replace(Ev,"$&/")+"/"),Rc(s,e,n,"",function(u){return u})):s!=null&&(gm(s)&&(s=ZS(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ev,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",wv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Dh(i,a);o+=Rc(i,e,n,l,s)}else if(l=JS(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Dh(i,a++),o+=Rc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zl(t,e,n){if(t==null)return t;var r=[],s=0;return Rc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function tb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},Nc={transition:null},nb={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:Nc,ReactCurrentOwner:mm};function cE(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:Zl,forEach:function(t,e,n){Zl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zl(t,function(){e++}),e},toArray:function(t){return Zl(t,function(e){return e})||[]},only:function(t){if(!gm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=So;se.Fragment=WS;se.Profiler=HS;se.PureComponent=fm;se.StrictMode=zS;se.Suspense=QS;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nb;se.act=cE;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=mm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)oE.call(e,l)&&!aE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:pl,type:t.type,key:s,ref:i,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:KS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YS,_context:t},t.Consumer=t};se.createElement=lE;se.createFactory=function(t){var e=lE.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:qS,render:t}};se.isValidElement=gm;se.lazy=function(t){return{$$typeof:XS,_payload:{_status:-1,_result:t},_init:tb}};se.memo=function(t,e){return{$$typeof:GS,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Nc.transition;Nc.transition={};try{t()}finally{Nc.transition=e}};se.unstable_act=cE;se.useCallback=function(t,e){return Vt.current.useCallback(t,e)};se.useContext=function(t){return Vt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};se.useEffect=function(t,e){return Vt.current.useEffect(t,e)};se.useId=function(){return Vt.current.useId()};se.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Vt.current.useMemo(t,e)};se.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};se.useRef=function(t){return Vt.current.useRef(t)};se.useState=function(t){return Vt.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Vt.current.useTransition()};se.version="18.3.1";tE.exports=se;var O=tE.exports;const L=Zw(O),uE=BS({__proto__:null,default:L},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb=O,sb=Symbol.for("react.element"),ib=Symbol.for("react.fragment"),ob=Object.prototype.hasOwnProperty,ab=rb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lb={key:!0,ref:!0,__self:!0,__source:!0};function dE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ob.call(e,r)&&!lb.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:sb,type:t,key:i,ref:o,props:s,_owner:ab.current}}dd.Fragment=ib;dd.jsx=dE;dd.jsxs=dE;eE.exports=dd;var p=eE.exports,hE={exports:{}},tn={},fE={exports:{}},pE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Q){var J=$.length;$.push(Q);e:for(;0<J;){var Re=J-1>>>1,we=$[Re];if(0<s(we,Q))$[Re]=Q,$[J]=we,J=Re;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Q=$[0],J=$.pop();if(J!==Q){$[0]=J;e:for(var Re=0,we=$.length,$e=we>>>1;Re<$e;){var Qn=2*(Re+1)-1,Gn=$[Qn],Xn=Qn+1,Jn=$[Xn];if(0>s(Gn,J))Xn<we&&0>s(Jn,Gn)?($[Re]=Jn,$[Xn]=J,Re=Xn):($[Re]=Gn,$[Qn]=J,Re=Qn);else if(Xn<we&&0>s(Jn,J))$[Re]=Jn,$[Xn]=J,Re=Xn;else break e}}return Q}function s($,Q){var J=$.sortIndex-Q.sortIndex;return J!==0?J:$.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,g=3,y=!1,_=!1,I=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T($){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=$)r(u),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(u)}}function N($){if(I=!1,T($),!_)if(n(l)!==null)_=!0,xe(j);else{var Q=n(u);Q!==null&&ke(N,Q.startTime-$)}}function j($,Q){_=!1,I&&(I=!1,E(w),w=-1),y=!0;var J=g;try{for(T(Q),f=n(l);f!==null&&(!(f.expirationTime>Q)||$&&!R());){var Re=f.callback;if(typeof Re=="function"){f.callback=null,g=f.priorityLevel;var we=Re(f.expirationTime<=Q);Q=t.unstable_now(),typeof we=="function"?f.callback=we:f===n(l)&&r(l),T(Q)}else r(l);f=n(l)}if(f!==null)var $e=!0;else{var Qn=n(u);Qn!==null&&ke(N,Qn.startTime-Q),$e=!1}return $e}finally{f=null,g=J,y=!1}}var F=!1,x=null,w=-1,b=5,D=-1;function R(){return!(t.unstable_now()-D<b)}function A(){if(x!==null){var $=t.unstable_now();D=$;var Q=!0;try{Q=x(!0,$)}finally{Q?P():(F=!1,x=null)}}else F=!1}var P;if(typeof v=="function")P=function(){v(A)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Ge=ae.port2;ae.port1.onmessage=A,P=function(){Ge.postMessage(null)}}else P=function(){C(A,0)};function xe($){x=$,F||(F=!0,P())}function ke($,Q){w=C(function(){$(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,xe(j))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var J=g;g=Q;try{return $()}finally{g=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=g;g=$;try{return Q()}finally{g=J}},t.unstable_scheduleCallback=function($,Q,J){var Re=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Re+J:Re):J=Re,$){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=J+we,$={id:d++,callback:Q,priorityLevel:$,startTime:J,expirationTime:we,sortIndex:-1},J>Re?($.sortIndex=J,e(u,$),n(l)===null&&$===n(u)&&(I?(E(w),w=-1):I=!0,ke(N,J-Re))):($.sortIndex=we,e(l,$),_||y||(_=!0,xe(j))),$},t.unstable_shouldYield=R,t.unstable_wrapCallback=function($){var Q=g;return function(){var J=g;g=Q;try{return $.apply(this,arguments)}finally{g=J}}}})(pE);fE.exports=pE;var cb=fE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub=O,en=cb;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mE=new Set,Ma={};function hi(t,e){so(t,e),so(t+"Capture",e)}function so(t,e){for(Ma[t]=e,t=0;t<e.length;t++)mE.add(e[t])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nf=Object.prototype.hasOwnProperty,db=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kv={},Tv={};function hb(t){return Nf.call(Tv,t)?!0:Nf.call(kv,t)?!1:db.test(t)?Tv[t]=!0:(kv[t]=!0,!1)}function fb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pb(t,e,n,r){if(e===null||typeof e>"u"||fb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ym=/[\-:]([a-z])/g;function vm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ym,vm);gt[e]=new jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ym,vm);gt[e]=new jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ym,vm);gt[e]=new jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new jt(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function _m(t,e,n,r){var s=gt.hasOwnProperty(e)?gt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pb(e,n,s,r)&&(n=null),r||s===null?hb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xr=ub.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ec=Symbol.for("react.element"),Ai=Symbol.for("react.portal"),Mi=Symbol.for("react.fragment"),wm=Symbol.for("react.strict_mode"),Af=Symbol.for("react.profiler"),gE=Symbol.for("react.provider"),yE=Symbol.for("react.context"),Em=Symbol.for("react.forward_ref"),Mf=Symbol.for("react.suspense"),Of=Symbol.for("react.suspense_list"),km=Symbol.for("react.memo"),Mr=Symbol.for("react.lazy"),vE=Symbol.for("react.offscreen"),xv=Symbol.iterator;function Qo(t){return t===null||typeof t!="object"?null:(t=xv&&t[xv]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,Ph;function aa(t){if(Ph===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ph=e&&e[1]||""}return`
`+Ph+t}var Rh=!1;function Nh(t,e){if(!t||Rh)return"";Rh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Rh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?aa(t):""}function mb(t){switch(t.tag){case 5:return aa(t.type);case 16:return aa("Lazy");case 13:return aa("Suspense");case 19:return aa("SuspenseList");case 0:case 2:case 15:return t=Nh(t.type,!1),t;case 11:return t=Nh(t.type.render,!1),t;case 1:return t=Nh(t.type,!0),t;default:return""}}function Lf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mi:return"Fragment";case Ai:return"Portal";case Af:return"Profiler";case wm:return"StrictMode";case Mf:return"Suspense";case Of:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yE:return(t.displayName||"Context")+".Consumer";case gE:return(t._context.displayName||"Context")+".Provider";case Em:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case km:return e=t.displayName||null,e!==null?e:Lf(t.type)||"Memo";case Mr:e=t._payload,t=t._init;try{return Lf(t(e))}catch{}}return null}function gb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lf(e);case 8:return e===wm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _E(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yb(t){var e=_E(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tc(t){t._valueTracker||(t._valueTracker=yb(t))}function wE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_E(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function su(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vf(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Iv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function EE(t,e){e=e.checked,e!=null&&_m(t,"checked",e,!1)}function jf(t,e){EE(t,e);var n=hs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ff(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ff(t,e.type,hs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ff(t,e,n){(e!=="number"||su(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var la=Array.isArray;function Yi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Uf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(la(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hs(n)}}function kE(t,e){var n=hs(e.value),r=hs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function TE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?TE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nc,xE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nc=nc||document.createElement("div"),nc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Oa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _a={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vb=["Webkit","ms","Moz","O"];Object.keys(_a).forEach(function(t){vb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_a[e]=_a[t]})});function IE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_a.hasOwnProperty(t)&&_a[t]?(""+e).trim():e+"px"}function SE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=IE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var _b=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $f(t,e){if(e){if(_b[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Wf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zf=null;function Tm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hf=null,Ki=null,qi=null;function Dv(t){if(t=yl(t)){if(typeof Hf!="function")throw Error(W(280));var e=t.stateNode;e&&(e=gd(e),Hf(t.stateNode,t.type,e))}}function bE(t){Ki?qi?qi.push(t):qi=[t]:Ki=t}function CE(){if(Ki){var t=Ki,e=qi;if(qi=Ki=null,Dv(t),e)for(t=0;t<e.length;t++)Dv(e[t])}}function DE(t,e){return t(e)}function PE(){}var Ah=!1;function RE(t,e,n){if(Ah)return t(e,n);Ah=!0;try{return DE(t,e,n)}finally{Ah=!1,(Ki!==null||qi!==null)&&(PE(),CE())}}function La(t,e){var n=t.stateNode;if(n===null)return null;var r=gd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Yf=!1;if(mr)try{var Go={};Object.defineProperty(Go,"passive",{get:function(){Yf=!0}}),window.addEventListener("test",Go,Go),window.removeEventListener("test",Go,Go)}catch{Yf=!1}function wb(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var wa=!1,iu=null,ou=!1,Kf=null,Eb={onError:function(t){wa=!0,iu=t}};function kb(t,e,n,r,s,i,o,a,l){wa=!1,iu=null,wb.apply(Eb,arguments)}function Tb(t,e,n,r,s,i,o,a,l){if(kb.apply(this,arguments),wa){if(wa){var u=iu;wa=!1,iu=null}else throw Error(W(198));ou||(ou=!0,Kf=u)}}function fi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function NE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pv(t){if(fi(t)!==t)throw Error(W(188))}function xb(t){var e=t.alternate;if(!e){if(e=fi(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Pv(s),t;if(i===r)return Pv(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function AE(t){return t=xb(t),t!==null?ME(t):null}function ME(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ME(t);if(e!==null)return e;t=t.sibling}return null}var OE=en.unstable_scheduleCallback,Rv=en.unstable_cancelCallback,Ib=en.unstable_shouldYield,Sb=en.unstable_requestPaint,ze=en.unstable_now,bb=en.unstable_getCurrentPriorityLevel,xm=en.unstable_ImmediatePriority,LE=en.unstable_UserBlockingPriority,au=en.unstable_NormalPriority,Cb=en.unstable_LowPriority,VE=en.unstable_IdlePriority,hd=null,An=null;function Db(t){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(hd,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:Nb,Pb=Math.log,Rb=Math.LN2;function Nb(t){return t>>>=0,t===0?32:31-(Pb(t)/Rb|0)|0}var rc=64,sc=4194304;function ca(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ca(a):(i&=o,i!==0&&(r=ca(i)))}else o=n&~s,o!==0?r=ca(o):i!==0&&(r=ca(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_n(e),s=1<<n,r|=t[n],e&=~s;return r}function Ab(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-_n(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Ab(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function qf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jE(){var t=rc;return rc<<=1,!(rc&4194240)&&(rc=64),t}function Mh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ml(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function Ob(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-_n(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Im(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_n(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var _e=0;function FE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var UE,Sm,BE,$E,WE,Qf=!1,ic=[],Qr=null,Gr=null,Xr=null,Va=new Map,ja=new Map,Vr=[],Lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nv(t,e){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Va.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ja.delete(e.pointerId)}}function Xo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=yl(e),e!==null&&Sm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Vb(t,e,n,r,s){switch(e){case"focusin":return Qr=Xo(Qr,t,e,n,r,s),!0;case"dragenter":return Gr=Xo(Gr,t,e,n,r,s),!0;case"mouseover":return Xr=Xo(Xr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Va.set(i,Xo(Va.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ja.set(i,Xo(ja.get(i)||null,t,e,n,r,s)),!0}return!1}function zE(t){var e=js(t.target);if(e!==null){var n=fi(e);if(n!==null){if(e=n.tag,e===13){if(e=NE(n),e!==null){t.blockedOn=e,WE(t.priority,function(){BE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ac(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zf=r,n.target.dispatchEvent(r),zf=null}else return e=yl(n),e!==null&&Sm(e),t.blockedOn=n,!1;e.shift()}return!0}function Av(t,e,n){Ac(t)&&n.delete(e)}function jb(){Qf=!1,Qr!==null&&Ac(Qr)&&(Qr=null),Gr!==null&&Ac(Gr)&&(Gr=null),Xr!==null&&Ac(Xr)&&(Xr=null),Va.forEach(Av),ja.forEach(Av)}function Jo(t,e){t.blockedOn===e&&(t.blockedOn=null,Qf||(Qf=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,jb)))}function Fa(t){function e(s){return Jo(s,t)}if(0<ic.length){Jo(ic[0],t);for(var n=1;n<ic.length;n++){var r=ic[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qr!==null&&Jo(Qr,t),Gr!==null&&Jo(Gr,t),Xr!==null&&Jo(Xr,t),Va.forEach(e),ja.forEach(e),n=0;n<Vr.length;n++)r=Vr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vr.length&&(n=Vr[0],n.blockedOn===null);)zE(n),n.blockedOn===null&&Vr.shift()}var Qi=xr.ReactCurrentBatchConfig,cu=!0;function Fb(t,e,n,r){var s=_e,i=Qi.transition;Qi.transition=null;try{_e=1,bm(t,e,n,r)}finally{_e=s,Qi.transition=i}}function Ub(t,e,n,r){var s=_e,i=Qi.transition;Qi.transition=null;try{_e=4,bm(t,e,n,r)}finally{_e=s,Qi.transition=i}}function bm(t,e,n,r){if(cu){var s=Gf(t,e,n,r);if(s===null)zh(t,e,r,uu,n),Nv(t,r);else if(Vb(s,t,e,n,r))r.stopPropagation();else if(Nv(t,r),e&4&&-1<Lb.indexOf(t)){for(;s!==null;){var i=yl(s);if(i!==null&&UE(i),i=Gf(t,e,n,r),i===null&&zh(t,e,r,uu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else zh(t,e,r,null,n)}}var uu=null;function Gf(t,e,n,r){if(uu=null,t=Tm(r),t=js(t),t!==null)if(e=fi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=NE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uu=t,null}function HE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bb()){case xm:return 1;case LE:return 4;case au:case Cb:return 16;case VE:return 536870912;default:return 16}default:return 16}}var zr=null,Cm=null,Mc=null;function YE(){if(Mc)return Mc;var t,e=Cm,n=e.length,r,s="value"in zr?zr.value:zr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Mc=s.slice(t,1<r?1-r:void 0)}function Oc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oc(){return!0}function Mv(){return!1}function nn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?oc:Mv,this.isPropagationStopped=Mv,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),e}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dm=nn(bo),gl=Oe({},bo,{view:0,detail:0}),Bb=nn(gl),Oh,Lh,Zo,fd=Oe({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zo&&(Zo&&t.type==="mousemove"?(Oh=t.screenX-Zo.screenX,Lh=t.screenY-Zo.screenY):Lh=Oh=0,Zo=t),Oh)},movementY:function(t){return"movementY"in t?t.movementY:Lh}}),Ov=nn(fd),$b=Oe({},fd,{dataTransfer:0}),Wb=nn($b),zb=Oe({},gl,{relatedTarget:0}),Vh=nn(zb),Hb=Oe({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),Yb=nn(Hb),Kb=Oe({},bo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qb=nn(Kb),Qb=Oe({},bo,{data:0}),Lv=nn(Qb),Gb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jb[t])?!!e[t]:!1}function Pm(){return Zb}var eC=Oe({},gl,{key:function(t){if(t.key){var e=Gb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pm,charCode:function(t){return t.type==="keypress"?Oc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tC=nn(eC),nC=Oe({},fd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vv=nn(nC),rC=Oe({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pm}),sC=nn(rC),iC=Oe({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),oC=nn(iC),aC=Oe({},fd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lC=nn(aC),cC=[9,13,27,32],Rm=mr&&"CompositionEvent"in window,Ea=null;mr&&"documentMode"in document&&(Ea=document.documentMode);var uC=mr&&"TextEvent"in window&&!Ea,KE=mr&&(!Rm||Ea&&8<Ea&&11>=Ea),jv=" ",Fv=!1;function qE(t,e){switch(t){case"keyup":return cC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oi=!1;function dC(t,e){switch(t){case"compositionend":return QE(e);case"keypress":return e.which!==32?null:(Fv=!0,jv);case"textInput":return t=e.data,t===jv&&Fv?null:t;default:return null}}function hC(t,e){if(Oi)return t==="compositionend"||!Rm&&qE(t,e)?(t=YE(),Mc=Cm=zr=null,Oi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return KE&&e.locale!=="ko"?null:e.data;default:return null}}var fC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fC[t.type]:e==="textarea"}function GE(t,e,n,r){bE(r),e=du(e,"onChange"),0<e.length&&(n=new Dm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ka=null,Ua=null;function pC(t){a1(t,0)}function pd(t){var e=ji(t);if(wE(e))return t}function mC(t,e){if(t==="change")return e}var XE=!1;if(mr){var jh;if(mr){var Fh="oninput"in document;if(!Fh){var Bv=document.createElement("div");Bv.setAttribute("oninput","return;"),Fh=typeof Bv.oninput=="function"}jh=Fh}else jh=!1;XE=jh&&(!document.documentMode||9<document.documentMode)}function $v(){ka&&(ka.detachEvent("onpropertychange",JE),Ua=ka=null)}function JE(t){if(t.propertyName==="value"&&pd(Ua)){var e=[];GE(e,Ua,t,Tm(t)),RE(pC,e)}}function gC(t,e,n){t==="focusin"?($v(),ka=e,Ua=n,ka.attachEvent("onpropertychange",JE)):t==="focusout"&&$v()}function yC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pd(Ua)}function vC(t,e){if(t==="click")return pd(e)}function _C(t,e){if(t==="input"||t==="change")return pd(e)}function wC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var En=typeof Object.is=="function"?Object.is:wC;function Ba(t,e){if(En(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Nf.call(e,s)||!En(t[s],e[s]))return!1}return!0}function Wv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zv(t,e){var n=Wv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wv(n)}}function ZE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ZE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function e1(){for(var t=window,e=su();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=su(t.document)}return e}function Nm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EC(t){var e=e1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ZE(n.ownerDocument.documentElement,n)){if(r!==null&&Nm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=zv(n,i);var o=zv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kC=mr&&"documentMode"in document&&11>=document.documentMode,Li=null,Xf=null,Ta=null,Jf=!1;function Hv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jf||Li==null||Li!==su(r)||(r=Li,"selectionStart"in r&&Nm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ta&&Ba(Ta,r)||(Ta=r,r=du(Xf,"onSelect"),0<r.length&&(e=new Dm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Li)))}function ac(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vi={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionend:ac("Transition","TransitionEnd")},Uh={},t1={};mr&&(t1=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function md(t){if(Uh[t])return Uh[t];if(!Vi[t])return t;var e=Vi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in t1)return Uh[t]=e[n];return t}var n1=md("animationend"),r1=md("animationiteration"),s1=md("animationstart"),i1=md("transitionend"),o1=new Map,Yv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(t,e){o1.set(t,e),hi(e,[t])}for(var Bh=0;Bh<Yv.length;Bh++){var $h=Yv[Bh],TC=$h.toLowerCase(),xC=$h[0].toUpperCase()+$h.slice(1);xs(TC,"on"+xC)}xs(n1,"onAnimationEnd");xs(r1,"onAnimationIteration");xs(s1,"onAnimationStart");xs("dblclick","onDoubleClick");xs("focusin","onFocus");xs("focusout","onBlur");xs(i1,"onTransitionEnd");so("onMouseEnter",["mouseout","mouseover"]);so("onMouseLeave",["mouseout","mouseover"]);so("onPointerEnter",["pointerout","pointerover"]);so("onPointerLeave",["pointerout","pointerover"]);hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hi("onBeforeInput",["compositionend","keypress","textInput","paste"]);hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ua));function Kv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Tb(r,e,void 0,t),t.currentTarget=null}function a1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Kv(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Kv(s,a,u),i=l}}}if(ou)throw t=Kf,ou=!1,Kf=null,t}function Se(t,e){var n=e[rp];n===void 0&&(n=e[rp]=new Set);var r=t+"__bubble";n.has(r)||(l1(e,t,2,!1),n.add(r))}function Wh(t,e,n){var r=0;e&&(r|=4),l1(n,t,r,e)}var lc="_reactListening"+Math.random().toString(36).slice(2);function $a(t){if(!t[lc]){t[lc]=!0,mE.forEach(function(n){n!=="selectionchange"&&(IC.has(n)||Wh(n,!1,t),Wh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lc]||(e[lc]=!0,Wh("selectionchange",!1,e))}}function l1(t,e,n,r){switch(HE(e)){case 1:var s=Fb;break;case 4:s=Ub;break;default:s=bm}n=s.bind(null,e,n,t),s=void 0,!Yf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function zh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=js(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}RE(function(){var u=i,d=Tm(n),f=[];e:{var g=o1.get(t);if(g!==void 0){var y=Dm,_=t;switch(t){case"keypress":if(Oc(n)===0)break e;case"keydown":case"keyup":y=tC;break;case"focusin":_="focus",y=Vh;break;case"focusout":_="blur",y=Vh;break;case"beforeblur":case"afterblur":y=Vh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ov;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Wb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=sC;break;case n1:case r1:case s1:y=Yb;break;case i1:y=oC;break;case"scroll":y=Bb;break;case"wheel":y=lC;break;case"copy":case"cut":case"paste":y=qb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Vv}var I=(e&4)!==0,C=!I&&t==="scroll",E=I?g!==null?g+"Capture":null:g;I=[];for(var v=u,T;v!==null;){T=v;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,E!==null&&(N=La(v,E),N!=null&&I.push(Wa(v,N,T)))),C)break;v=v.return}0<I.length&&(g=new y(g,_,null,n,d),f.push({event:g,listeners:I}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&n!==zf&&(_=n.relatedTarget||n.fromElement)&&(js(_)||_[gr]))break e;if((y||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=u,_=_?js(_):null,_!==null&&(C=fi(_),_!==C||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=u),y!==_)){if(I=Ov,N="onMouseLeave",E="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(I=Vv,N="onPointerLeave",E="onPointerEnter",v="pointer"),C=y==null?g:ji(y),T=_==null?g:ji(_),g=new I(N,v+"leave",y,n,d),g.target=C,g.relatedTarget=T,N=null,js(d)===u&&(I=new I(E,v+"enter",_,n,d),I.target=T,I.relatedTarget=C,N=I),C=N,y&&_)t:{for(I=y,E=_,v=0,T=I;T;T=Si(T))v++;for(T=0,N=E;N;N=Si(N))T++;for(;0<v-T;)I=Si(I),v--;for(;0<T-v;)E=Si(E),T--;for(;v--;){if(I===E||E!==null&&I===E.alternate)break t;I=Si(I),E=Si(E)}I=null}else I=null;y!==null&&qv(f,g,y,I,!1),_!==null&&C!==null&&qv(f,C,_,I,!0)}}e:{if(g=u?ji(u):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var j=mC;else if(Uv(g))if(XE)j=_C;else{j=yC;var F=gC}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(j=vC);if(j&&(j=j(t,u))){GE(f,j,n,d);break e}F&&F(t,g,u),t==="focusout"&&(F=g._wrapperState)&&F.controlled&&g.type==="number"&&Ff(g,"number",g.value)}switch(F=u?ji(u):window,t){case"focusin":(Uv(F)||F.contentEditable==="true")&&(Li=F,Xf=u,Ta=null);break;case"focusout":Ta=Xf=Li=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,Hv(f,n,d);break;case"selectionchange":if(kC)break;case"keydown":case"keyup":Hv(f,n,d)}var x;if(Rm)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Oi?qE(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(KE&&n.locale!=="ko"&&(Oi||w!=="onCompositionStart"?w==="onCompositionEnd"&&Oi&&(x=YE()):(zr=d,Cm="value"in zr?zr.value:zr.textContent,Oi=!0)),F=du(u,w),0<F.length&&(w=new Lv(w,t,null,n,d),f.push({event:w,listeners:F}),x?w.data=x:(x=QE(n),x!==null&&(w.data=x)))),(x=uC?dC(t,n):hC(t,n))&&(u=du(u,"onBeforeInput"),0<u.length&&(d=new Lv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=x))}a1(f,e)})}function Wa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function du(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=La(t,n),i!=null&&r.unshift(Wa(t,i,s)),i=La(t,e),i!=null&&r.push(Wa(t,i,s))),t=t.return}return r}function Si(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=La(n,i),l!=null&&o.unshift(Wa(n,l,a))):s||(l=La(n,i),l!=null&&o.push(Wa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var SC=/\r\n?/g,bC=/\u0000|\uFFFD/g;function Qv(t){return(typeof t=="string"?t:""+t).replace(SC,`
`).replace(bC,"")}function cc(t,e,n){if(e=Qv(e),Qv(t)!==e&&n)throw Error(W(425))}function hu(){}var Zf=null,ep=null;function tp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var np=typeof setTimeout=="function"?setTimeout:void 0,CC=typeof clearTimeout=="function"?clearTimeout:void 0,Gv=typeof Promise=="function"?Promise:void 0,DC=typeof queueMicrotask=="function"?queueMicrotask:typeof Gv<"u"?function(t){return Gv.resolve(null).then(t).catch(PC)}:np;function PC(t){setTimeout(function(){throw t})}function Hh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Fa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Fa(e)}function Jr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Co=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Co,za="__reactProps$"+Co,gr="__reactContainer$"+Co,rp="__reactEvents$"+Co,RC="__reactListeners$"+Co,NC="__reactHandles$"+Co;function js(t){var e=t[Dn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gr]||n[Dn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xv(t);t!==null;){if(n=t[Dn])return n;t=Xv(t)}return e}t=n,n=t.parentNode}return null}function yl(t){return t=t[Dn]||t[gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ji(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function gd(t){return t[za]||null}var sp=[],Fi=-1;function Is(t){return{current:t}}function be(t){0>Fi||(t.current=sp[Fi],sp[Fi]=null,Fi--)}function Te(t,e){Fi++,sp[Fi]=t.current,t.current=e}var fs={},bt=Is(fs),$t=Is(!1),Qs=fs;function io(t,e){var n=t.type.contextTypes;if(!n)return fs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Wt(t){return t=t.childContextTypes,t!=null}function fu(){be($t),be(bt)}function Jv(t,e,n){if(bt.current!==fs)throw Error(W(168));Te(bt,e),Te($t,n)}function c1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,gb(t)||"Unknown",s));return Oe({},n,r)}function pu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fs,Qs=bt.current,Te(bt,t),Te($t,$t.current),!0}function Zv(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=c1(t,e,Qs),r.__reactInternalMemoizedMergedChildContext=t,be($t),be(bt),Te(bt,t)):be($t),Te($t,n)}var nr=null,yd=!1,Yh=!1;function u1(t){nr===null?nr=[t]:nr.push(t)}function AC(t){yd=!0,u1(t)}function Ss(){if(!Yh&&nr!==null){Yh=!0;var t=0,e=_e;try{var n=nr;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nr=null,yd=!1}catch(s){throw nr!==null&&(nr=nr.slice(t+1)),OE(xm,Ss),s}finally{_e=e,Yh=!1}}return null}var Ui=[],Bi=0,mu=null,gu=0,sn=[],on=0,Gs=null,sr=1,ir="";function Ms(t,e){Ui[Bi++]=gu,Ui[Bi++]=mu,mu=t,gu=e}function d1(t,e,n){sn[on++]=sr,sn[on++]=ir,sn[on++]=Gs,Gs=t;var r=sr;t=ir;var s=32-_n(r)-1;r&=~(1<<s),n+=1;var i=32-_n(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,sr=1<<32-_n(e)+s|n<<s|r,ir=i+t}else sr=1<<i|n<<s|r,ir=t}function Am(t){t.return!==null&&(Ms(t,1),d1(t,1,0))}function Mm(t){for(;t===mu;)mu=Ui[--Bi],Ui[Bi]=null,gu=Ui[--Bi],Ui[Bi]=null;for(;t===Gs;)Gs=sn[--on],sn[on]=null,ir=sn[--on],sn[on]=null,sr=sn[--on],sn[on]=null}var Xt=null,Qt=null,De=!1,yn=null;function h1(t,e){var n=ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function e0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Qt=Jr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gs!==null?{id:sr,overflow:ir}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Qt=null,!0):!1;default:return!1}}function ip(t){return(t.mode&1)!==0&&(t.flags&128)===0}function op(t){if(De){var e=Qt;if(e){var n=e;if(!e0(t,e)){if(ip(t))throw Error(W(418));e=Jr(n.nextSibling);var r=Xt;e&&e0(t,e)?h1(r,n):(t.flags=t.flags&-4097|2,De=!1,Xt=t)}}else{if(ip(t))throw Error(W(418));t.flags=t.flags&-4097|2,De=!1,Xt=t}}}function t0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function uc(t){if(t!==Xt)return!1;if(!De)return t0(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tp(t.type,t.memoizedProps)),e&&(e=Qt)){if(ip(t))throw f1(),Error(W(418));for(;e;)h1(t,e),e=Jr(e.nextSibling)}if(t0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qt=Jr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=Xt?Jr(t.stateNode.nextSibling):null;return!0}function f1(){for(var t=Qt;t;)t=Jr(t.nextSibling)}function oo(){Qt=Xt=null,De=!1}function Om(t){yn===null?yn=[t]:yn.push(t)}var MC=xr.ReactCurrentBatchConfig;function ea(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function dc(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function n0(t){var e=t._init;return e(t._payload)}function p1(t){function e(E,v){if(t){var T=E.deletions;T===null?(E.deletions=[v],E.flags|=16):T.push(v)}}function n(E,v){if(!t)return null;for(;v!==null;)e(E,v),v=v.sibling;return null}function r(E,v){for(E=new Map;v!==null;)v.key!==null?E.set(v.key,v):E.set(v.index,v),v=v.sibling;return E}function s(E,v){return E=ns(E,v),E.index=0,E.sibling=null,E}function i(E,v,T){return E.index=T,t?(T=E.alternate,T!==null?(T=T.index,T<v?(E.flags|=2,v):T):(E.flags|=2,v)):(E.flags|=1048576,v)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,v,T,N){return v===null||v.tag!==6?(v=Zh(T,E.mode,N),v.return=E,v):(v=s(v,T),v.return=E,v)}function l(E,v,T,N){var j=T.type;return j===Mi?d(E,v,T.props.children,N,T.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Mr&&n0(j)===v.type)?(N=s(v,T.props),N.ref=ea(E,v,T),N.return=E,N):(N=$c(T.type,T.key,T.props,null,E.mode,N),N.ref=ea(E,v,T),N.return=E,N)}function u(E,v,T,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=ef(T,E.mode,N),v.return=E,v):(v=s(v,T.children||[]),v.return=E,v)}function d(E,v,T,N,j){return v===null||v.tag!==7?(v=zs(T,E.mode,N,j),v.return=E,v):(v=s(v,T),v.return=E,v)}function f(E,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Zh(""+v,E.mode,T),v.return=E,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ec:return T=$c(v.type,v.key,v.props,null,E.mode,T),T.ref=ea(E,null,v),T.return=E,T;case Ai:return v=ef(v,E.mode,T),v.return=E,v;case Mr:var N=v._init;return f(E,N(v._payload),T)}if(la(v)||Qo(v))return v=zs(v,E.mode,T,null),v.return=E,v;dc(E,v)}return null}function g(E,v,T,N){var j=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return j!==null?null:a(E,v,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ec:return T.key===j?l(E,v,T,N):null;case Ai:return T.key===j?u(E,v,T,N):null;case Mr:return j=T._init,g(E,v,j(T._payload),N)}if(la(T)||Qo(T))return j!==null?null:d(E,v,T,N,null);dc(E,T)}return null}function y(E,v,T,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return E=E.get(T)||null,a(v,E,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ec:return E=E.get(N.key===null?T:N.key)||null,l(v,E,N,j);case Ai:return E=E.get(N.key===null?T:N.key)||null,u(v,E,N,j);case Mr:var F=N._init;return y(E,v,T,F(N._payload),j)}if(la(N)||Qo(N))return E=E.get(T)||null,d(v,E,N,j,null);dc(v,N)}return null}function _(E,v,T,N){for(var j=null,F=null,x=v,w=v=0,b=null;x!==null&&w<T.length;w++){x.index>w?(b=x,x=null):b=x.sibling;var D=g(E,x,T[w],N);if(D===null){x===null&&(x=b);break}t&&x&&D.alternate===null&&e(E,x),v=i(D,v,w),F===null?j=D:F.sibling=D,F=D,x=b}if(w===T.length)return n(E,x),De&&Ms(E,w),j;if(x===null){for(;w<T.length;w++)x=f(E,T[w],N),x!==null&&(v=i(x,v,w),F===null?j=x:F.sibling=x,F=x);return De&&Ms(E,w),j}for(x=r(E,x);w<T.length;w++)b=y(x,E,w,T[w],N),b!==null&&(t&&b.alternate!==null&&x.delete(b.key===null?w:b.key),v=i(b,v,w),F===null?j=b:F.sibling=b,F=b);return t&&x.forEach(function(R){return e(E,R)}),De&&Ms(E,w),j}function I(E,v,T,N){var j=Qo(T);if(typeof j!="function")throw Error(W(150));if(T=j.call(T),T==null)throw Error(W(151));for(var F=j=null,x=v,w=v=0,b=null,D=T.next();x!==null&&!D.done;w++,D=T.next()){x.index>w?(b=x,x=null):b=x.sibling;var R=g(E,x,D.value,N);if(R===null){x===null&&(x=b);break}t&&x&&R.alternate===null&&e(E,x),v=i(R,v,w),F===null?j=R:F.sibling=R,F=R,x=b}if(D.done)return n(E,x),De&&Ms(E,w),j;if(x===null){for(;!D.done;w++,D=T.next())D=f(E,D.value,N),D!==null&&(v=i(D,v,w),F===null?j=D:F.sibling=D,F=D);return De&&Ms(E,w),j}for(x=r(E,x);!D.done;w++,D=T.next())D=y(x,E,w,D.value,N),D!==null&&(t&&D.alternate!==null&&x.delete(D.key===null?w:D.key),v=i(D,v,w),F===null?j=D:F.sibling=D,F=D);return t&&x.forEach(function(A){return e(E,A)}),De&&Ms(E,w),j}function C(E,v,T,N){if(typeof T=="object"&&T!==null&&T.type===Mi&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ec:e:{for(var j=T.key,F=v;F!==null;){if(F.key===j){if(j=T.type,j===Mi){if(F.tag===7){n(E,F.sibling),v=s(F,T.props.children),v.return=E,E=v;break e}}else if(F.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Mr&&n0(j)===F.type){n(E,F.sibling),v=s(F,T.props),v.ref=ea(E,F,T),v.return=E,E=v;break e}n(E,F);break}else e(E,F);F=F.sibling}T.type===Mi?(v=zs(T.props.children,E.mode,N,T.key),v.return=E,E=v):(N=$c(T.type,T.key,T.props,null,E.mode,N),N.ref=ea(E,v,T),N.return=E,E=N)}return o(E);case Ai:e:{for(F=T.key;v!==null;){if(v.key===F)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(E,v.sibling),v=s(v,T.children||[]),v.return=E,E=v;break e}else{n(E,v);break}else e(E,v);v=v.sibling}v=ef(T,E.mode,N),v.return=E,E=v}return o(E);case Mr:return F=T._init,C(E,v,F(T._payload),N)}if(la(T))return _(E,v,T,N);if(Qo(T))return I(E,v,T,N);dc(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(E,v.sibling),v=s(v,T),v.return=E,E=v):(n(E,v),v=Zh(T,E.mode,N),v.return=E,E=v),o(E)):n(E,v)}return C}var ao=p1(!0),m1=p1(!1),yu=Is(null),vu=null,$i=null,Lm=null;function Vm(){Lm=$i=vu=null}function jm(t){var e=yu.current;be(yu),t._currentValue=e}function ap(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Gi(t,e){vu=t,Lm=$i=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(Lm!==t)if(t={context:t,memoizedValue:e,next:null},$i===null){if(vu===null)throw Error(W(308));$i=t,vu.dependencies={lanes:0,firstContext:t}}else $i=$i.next=t;return e}var Fs=null;function Fm(t){Fs===null?Fs=[t]:Fs.push(t)}function g1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Fm(e)):(n.next=s.next,s.next=n),e.interleaved=n,yr(t,r)}function yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Or=!1;function Um(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,yr(t,n)}return s=r.interleaved,s===null?(e.next=e,Fm(r)):(e.next=s.next,s.next=e),r.interleaved=e,yr(t,n)}function Lc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Im(t,n)}}function r0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _u(t,e,n,r){var s=t.updateQueue;Or=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var g=a.lane,y=a.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,I=a;switch(g=e,y=n,I.tag){case 1:if(_=I.payload,typeof _=="function"){f=_.call(y,f,g);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=I.payload,g=typeof _=="function"?_.call(y,f,g):_,g==null)break e;f=Oe({},f,g);break e;case 2:Or=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else y={eventTime:y,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=f):d=d.next=y,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Js|=o,t.lanes=o,t.memoizedState=f}}function s0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var vl={},Mn=Is(vl),Ha=Is(vl),Ya=Is(vl);function Us(t){if(t===vl)throw Error(W(174));return t}function Bm(t,e){switch(Te(Ya,e),Te(Ha,t),Te(Mn,vl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bf(e,t)}be(Mn),Te(Mn,e)}function lo(){be(Mn),be(Ha),be(Ya)}function v1(t){Us(Ya.current);var e=Us(Mn.current),n=Bf(e,t.type);e!==n&&(Te(Ha,t),Te(Mn,n))}function $m(t){Ha.current===t&&(be(Mn),be(Ha))}var Ne=Is(0);function wu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kh=[];function Wm(){for(var t=0;t<Kh.length;t++)Kh[t]._workInProgressVersionPrimary=null;Kh.length=0}var Vc=xr.ReactCurrentDispatcher,qh=xr.ReactCurrentBatchConfig,Xs=0,Me=null,Xe=null,st=null,Eu=!1,xa=!1,Ka=0,OC=0;function Et(){throw Error(W(321))}function zm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!En(t[n],e[n]))return!1;return!0}function Hm(t,e,n,r,s,i){if(Xs=i,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vc.current=t===null||t.memoizedState===null?FC:UC,t=n(r,s),xa){i=0;do{if(xa=!1,Ka=0,25<=i)throw Error(W(301));i+=1,st=Xe=null,e.updateQueue=null,Vc.current=BC,t=n(r,s)}while(xa)}if(Vc.current=ku,e=Xe!==null&&Xe.next!==null,Xs=0,st=Xe=Me=null,Eu=!1,e)throw Error(W(300));return t}function Ym(){var t=Ka!==0;return Ka=0,t}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Me.memoizedState=st=t:st=st.next=t,st}function dn(){if(Xe===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=st===null?Me.memoizedState:st.next;if(e!==null)st=e,Xe=t;else{if(t===null)throw Error(W(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},st===null?Me.memoizedState=st=t:st=st.next=t}return st}function qa(t,e){return typeof e=="function"?e(t):e}function Qh(t){var e=dn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Xe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Xs&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Me.lanes|=d,Js|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,En(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Me.lanes|=i,Js|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gh(t){var e=dn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);En(i,e.memoizedState)||(Bt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function _1(){}function w1(t,e){var n=Me,r=dn(),s=e(),i=!En(r.memoizedState,s);if(i&&(r.memoizedState=s,Bt=!0),r=r.queue,Km(T1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,Qa(9,k1.bind(null,n,r,s,e),void 0,null),it===null)throw Error(W(349));Xs&30||E1(n,e,s)}return s}function E1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function k1(t,e,n,r){e.value=n,e.getSnapshot=r,x1(e)&&I1(t)}function T1(t,e,n){return n(function(){x1(e)&&I1(t)})}function x1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!En(t,n)}catch{return!0}}function I1(t){var e=yr(t,1);e!==null&&wn(e,t,1,-1)}function i0(t){var e=In();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:t},e.queue=t,t=t.dispatch=jC.bind(null,Me,t),[e.memoizedState,t]}function Qa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function S1(){return dn().memoizedState}function jc(t,e,n,r){var s=In();Me.flags|=t,s.memoizedState=Qa(1|e,n,void 0,r===void 0?null:r)}function vd(t,e,n,r){var s=dn();r=r===void 0?null:r;var i=void 0;if(Xe!==null){var o=Xe.memoizedState;if(i=o.destroy,r!==null&&zm(r,o.deps)){s.memoizedState=Qa(e,n,i,r);return}}Me.flags|=t,s.memoizedState=Qa(1|e,n,i,r)}function o0(t,e){return jc(8390656,8,t,e)}function Km(t,e){return vd(2048,8,t,e)}function b1(t,e){return vd(4,2,t,e)}function C1(t,e){return vd(4,4,t,e)}function D1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function P1(t,e,n){return n=n!=null?n.concat([t]):null,vd(4,4,D1.bind(null,e,t),n)}function qm(){}function R1(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function N1(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function A1(t,e,n){return Xs&21?(En(n,e)||(n=jE(),Me.lanes|=n,Js|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function LC(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=qh.transition;qh.transition={};try{t(!1),e()}finally{_e=n,qh.transition=r}}function M1(){return dn().memoizedState}function VC(t,e,n){var r=ts(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},O1(t))L1(e,n);else if(n=g1(t,e,n,r),n!==null){var s=Lt();wn(n,t,r,s),V1(n,e,r)}}function jC(t,e,n){var r=ts(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(O1(t))L1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,En(a,o)){var l=e.interleaved;l===null?(s.next=s,Fm(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=g1(t,e,s,r),n!==null&&(s=Lt(),wn(n,t,r,s),V1(n,e,r))}}function O1(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function L1(t,e){xa=Eu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function V1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Im(t,n)}}var ku={readContext:un,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},FC={readContext:un,useCallback:function(t,e){return In().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:o0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jc(4194308,4,D1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jc(4194308,4,t,e)},useInsertionEffect:function(t,e){return jc(4,2,t,e)},useMemo:function(t,e){var n=In();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=In();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=VC.bind(null,Me,t),[r.memoizedState,t]},useRef:function(t){var e=In();return t={current:t},e.memoizedState=t},useState:i0,useDebugValue:qm,useDeferredValue:function(t){return In().memoizedState=t},useTransition:function(){var t=i0(!1),e=t[0];return t=LC.bind(null,t[1]),In().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Me,s=In();if(De){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),it===null)throw Error(W(349));Xs&30||E1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,o0(T1.bind(null,r,i,t),[t]),r.flags|=2048,Qa(9,k1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=In(),e=it.identifierPrefix;if(De){var n=ir,r=sr;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ka++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UC={readContext:un,useCallback:R1,useContext:un,useEffect:Km,useImperativeHandle:P1,useInsertionEffect:b1,useLayoutEffect:C1,useMemo:N1,useReducer:Qh,useRef:S1,useState:function(){return Qh(qa)},useDebugValue:qm,useDeferredValue:function(t){var e=dn();return A1(e,Xe.memoizedState,t)},useTransition:function(){var t=Qh(qa)[0],e=dn().memoizedState;return[t,e]},useMutableSource:_1,useSyncExternalStore:w1,useId:M1,unstable_isNewReconciler:!1},BC={readContext:un,useCallback:R1,useContext:un,useEffect:Km,useImperativeHandle:P1,useInsertionEffect:b1,useLayoutEffect:C1,useMemo:N1,useReducer:Gh,useRef:S1,useState:function(){return Gh(qa)},useDebugValue:qm,useDeferredValue:function(t){var e=dn();return Xe===null?e.memoizedState=t:A1(e,Xe.memoizedState,t)},useTransition:function(){var t=Gh(qa)[0],e=dn().memoizedState;return[t,e]},useMutableSource:_1,useSyncExternalStore:w1,useId:M1,unstable_isNewReconciler:!1};function mn(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function lp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _d={isMounted:function(t){return(t=t._reactInternals)?fi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lt(),s=ts(t),i=cr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Zr(t,i,s),e!==null&&(wn(e,t,s,r),Lc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lt(),s=ts(t),i=cr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Zr(t,i,s),e!==null&&(wn(e,t,s,r),Lc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lt(),r=ts(t),s=cr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Zr(t,s,r),e!==null&&(wn(e,t,r,n),Lc(e,t,r))}};function a0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ba(n,r)||!Ba(s,i):!0}function j1(t,e,n){var r=!1,s=fs,i=e.contextType;return typeof i=="object"&&i!==null?i=un(i):(s=Wt(e)?Qs:bt.current,r=e.contextTypes,i=(r=r!=null)?io(t,s):fs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_d,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function l0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_d.enqueueReplaceState(e,e.state,null)}function cp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Um(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=un(i):(i=Wt(e)?Qs:bt.current,s.context=io(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(lp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_d.enqueueReplaceState(s,s.state,null),_u(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function co(t,e){try{var n="",r=e;do n+=mb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Xh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function up(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $C=typeof WeakMap=="function"?WeakMap:Map;function F1(t,e,n){n=cr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xu||(xu=!0,wp=r),up(t,e)},n}function U1(t,e,n){n=cr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){up(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){up(t,e),typeof r!="function"&&(es===null?es=new Set([this]):es.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function c0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $C;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=nD.bind(null,t,e,n),e.then(t,t))}function u0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function d0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=cr(-1,1),e.tag=2,Zr(n,e,1))),n.lanes|=1),t)}var WC=xr.ReactCurrentOwner,Bt=!1;function Nt(t,e,n,r){e.child=t===null?m1(e,null,n,r):ao(e,t.child,n,r)}function h0(t,e,n,r,s){n=n.render;var i=e.ref;return Gi(e,s),r=Hm(t,e,n,r,i,s),n=Ym(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vr(t,e,s)):(De&&n&&Am(e),e.flags|=1,Nt(t,e,r,s),e.child)}function f0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ng(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,B1(t,e,i,r,s)):(t=$c(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ba,n(o,r)&&t.ref===e.ref)return vr(t,e,s)}return e.flags|=1,t=ns(i,r),t.ref=e.ref,t.return=e,e.child=t}function B1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ba(i,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,vr(t,e,s)}return dp(t,e,n,r,s)}function $1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(zi,Yt),Yt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(zi,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Te(zi,Yt),Yt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Te(zi,Yt),Yt|=r;return Nt(t,e,s,n),e.child}function W1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dp(t,e,n,r,s){var i=Wt(n)?Qs:bt.current;return i=io(e,i),Gi(e,s),n=Hm(t,e,n,r,i,s),r=Ym(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vr(t,e,s)):(De&&r&&Am(e),e.flags|=1,Nt(t,e,n,s),e.child)}function p0(t,e,n,r,s){if(Wt(n)){var i=!0;pu(e)}else i=!1;if(Gi(e,s),e.stateNode===null)Fc(t,e),j1(e,n,r),cp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=un(u):(u=Wt(n)?Qs:bt.current,u=io(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&l0(e,o,r,u),Or=!1;var g=e.memoizedState;o.state=g,_u(e,r,o,s),l=e.memoizedState,a!==r||g!==l||$t.current||Or?(typeof d=="function"&&(lp(e,n,d,r),l=e.memoizedState),(a=Or||a0(e,n,a,r,g,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,y1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:mn(e.type,a),o.props=u,f=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=un(l):(l=Wt(n)?Qs:bt.current,l=io(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||g!==l)&&l0(e,o,r,l),Or=!1,g=e.memoizedState,o.state=g,_u(e,r,o,s);var _=e.memoizedState;a!==f||g!==_||$t.current||Or?(typeof y=="function"&&(lp(e,n,y,r),_=e.memoizedState),(u=Or||a0(e,n,u,r,g,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return hp(t,e,n,r,i,s)}function hp(t,e,n,r,s,i){W1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Zv(e,n,!1),vr(t,e,i);r=e.stateNode,WC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ao(e,t.child,null,i),e.child=ao(e,null,a,i)):Nt(t,e,a,i),e.memoizedState=r.state,s&&Zv(e,n,!0),e.child}function z1(t){var e=t.stateNode;e.pendingContext?Jv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jv(t,e.context,!1),Bm(t,e.containerInfo)}function m0(t,e,n,r,s){return oo(),Om(s),e.flags|=256,Nt(t,e,n,r),e.child}var fp={dehydrated:null,treeContext:null,retryLane:0};function pp(t){return{baseLanes:t,cachePool:null,transitions:null}}function H1(t,e,n){var r=e.pendingProps,s=Ne.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Te(Ne,s&1),t===null)return op(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=kd(o,r,0,null),t=zs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=pp(n),e.memoizedState=fp,t):Qm(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return zC(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ns(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ns(a,i):(i=zs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?pp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=fp,r}return i=t.child,t=i.sibling,r=ns(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qm(t,e){return e=kd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hc(t,e,n,r){return r!==null&&Om(r),ao(e,t.child,null,n),t=Qm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zC(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Xh(Error(W(422))),hc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=kd({mode:"visible",children:r.children},s,0,null),i=zs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ao(e,t.child,null,o),e.child.memoizedState=pp(o),e.memoizedState=fp,i);if(!(e.mode&1))return hc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=Xh(i,r,void 0),hc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Bt||a){if(r=it,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,yr(t,s),wn(r,t,s,-1))}return tg(),r=Xh(Error(W(421))),hc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=rD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Qt=Jr(s.nextSibling),Xt=e,De=!0,yn=null,t!==null&&(sn[on++]=sr,sn[on++]=ir,sn[on++]=Gs,sr=t.id,ir=t.overflow,Gs=e),e=Qm(e,r.children),e.flags|=4096,e)}function g0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ap(t.return,e,n)}function Jh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Y1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Nt(t,e,r.children,n),r=Ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g0(t,n,e);else if(t.tag===19)g0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(Ne,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&wu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Jh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&wu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Jh(e,!0,n,null,i);break;case"together":Jh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Js|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=ns(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ns(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function HC(t,e,n){switch(e.tag){case 3:z1(e),oo();break;case 5:v1(e);break;case 1:Wt(e.type)&&pu(e);break;case 4:Bm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Te(yu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(Ne,Ne.current&1),e.flags|=128,null):n&e.child.childLanes?H1(t,e,n):(Te(Ne,Ne.current&1),t=vr(t,e,n),t!==null?t.sibling:null);Te(Ne,Ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Y1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(Ne,Ne.current),r)break;return null;case 22:case 23:return e.lanes=0,$1(t,e,n)}return vr(t,e,n)}var K1,mp,q1,Q1;K1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mp=function(){};q1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Us(Mn.current);var i=null;switch(n){case"input":s=Vf(t,s),r=Vf(t,r),i=[];break;case"select":s=Oe({},s,{value:void 0}),r=Oe({},r,{value:void 0}),i=[];break;case"textarea":s=Uf(t,s),r=Uf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hu)}$f(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ma.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ma.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Se("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Q1=function(t,e,n,r){n!==r&&(e.flags|=4)};function ta(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function YC(t,e,n){var r=e.pendingProps;switch(Mm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return Wt(e.type)&&fu(),kt(e),null;case 3:return r=e.stateNode,lo(),be($t),be(bt),Wm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(uc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yn!==null&&(Tp(yn),yn=null))),mp(t,e),kt(e),null;case 5:$m(e);var s=Us(Ya.current);if(n=e.type,t!==null&&e.stateNode!=null)q1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return kt(e),null}if(t=Us(Mn.current),uc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Dn]=e,r[za]=i,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(s=0;s<ua.length;s++)Se(ua[s],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":Iv(r,i),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Se("invalid",r);break;case"textarea":bv(r,i),Se("invalid",r)}$f(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&cc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&cc(r.textContent,a,t),s=["children",""+a]):Ma.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":tc(r),Sv(r,i,!0);break;case"textarea":tc(r),Cv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=hu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=TE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Dn]=e,t[za]=r,K1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wf(n,r),n){case"dialog":Se("cancel",t),Se("close",t),s=r;break;case"iframe":case"object":case"embed":Se("load",t),s=r;break;case"video":case"audio":for(s=0;s<ua.length;s++)Se(ua[s],t);s=r;break;case"source":Se("error",t),s=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),s=r;break;case"details":Se("toggle",t),s=r;break;case"input":Iv(t,r),s=Vf(t,r),Se("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Oe({},r,{value:void 0}),Se("invalid",t);break;case"textarea":bv(t,r),s=Uf(t,r),Se("invalid",t);break;default:s=r}$f(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?SE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xE(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Oa(t,l):typeof l=="number"&&Oa(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ma.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Se("scroll",t):l!=null&&_m(t,i,l,o))}switch(n){case"input":tc(t),Sv(t,r,!1);break;case"textarea":tc(t),Cv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Yi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Yi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=hu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)Q1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Us(Ya.current),Us(Mn.current),uc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Dn]=e,(i=r.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:cc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dn]=e,e.stateNode=r}return kt(e),null;case 13:if(be(Ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Qt!==null&&e.mode&1&&!(e.flags&128))f1(),oo(),e.flags|=98560,i=!1;else if(i=uc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Dn]=e}else oo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kt(e),i=!1}else yn!==null&&(Tp(yn),yn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ne.current&1?Ze===0&&(Ze=3):tg())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return lo(),mp(t,e),t===null&&$a(e.stateNode.containerInfo),kt(e),null;case 10:return jm(e.type._context),kt(e),null;case 17:return Wt(e.type)&&fu(),kt(e),null;case 19:if(be(Ne),i=e.memoizedState,i===null)return kt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ta(i,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wu(t),o!==null){for(e.flags|=128,ta(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(Ne,Ne.current&1|2),e.child}t=t.sibling}i.tail!==null&&ze()>uo&&(e.flags|=128,r=!0,ta(i,!1),e.lanes=4194304)}else{if(!r)if(t=wu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ta(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!De)return kt(e),null}else 2*ze()-i.renderingStartTime>uo&&n!==1073741824&&(e.flags|=128,r=!0,ta(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ze(),e.sibling=null,n=Ne.current,Te(Ne,r?n&1|2:n&1),e):(kt(e),null);case 22:case 23:return eg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function KC(t,e){switch(Mm(e),e.tag){case 1:return Wt(e.type)&&fu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return lo(),be($t),be(bt),Wm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $m(e),null;case 13:if(be(Ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));oo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(Ne),null;case 4:return lo(),null;case 10:return jm(e.type._context),null;case 22:case 23:return eg(),null;case 24:return null;default:return null}}var fc=!1,It=!1,qC=typeof WeakSet=="function"?WeakSet:Set,q=null;function Wi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(t,e,r)}else n.current=null}function gp(t,e,n){try{n()}catch(r){je(t,e,r)}}var y0=!1;function QC(t,e){if(Zf=cu,t=e1(),Nm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,g=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)g=f,f=y;for(;;){if(f===t)break t;if(g===n&&++u===s&&(a=o),g===i&&++d===r&&(l=o),(y=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ep={focusedElem:t,selectionRange:n},cu=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var I=_.memoizedProps,C=_.memoizedState,E=e.stateNode,v=E.getSnapshotBeforeUpdate(e.elementType===e.type?I:mn(e.type,I),C);E.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(N){je(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return _=y0,y0=!1,_}function Ia(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&gp(e,n,i)}s=s.next}while(s!==r)}}function wd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function G1(t){var e=t.alternate;e!==null&&(t.alternate=null,G1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dn],delete e[za],delete e[rp],delete e[RC],delete e[NC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function X1(t){return t.tag===5||t.tag===3||t.tag===4}function v0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||X1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hu));else if(r!==4&&(t=t.child,t!==null))for(vp(t,e,n),t=t.sibling;t!==null;)vp(t,e,n),t=t.sibling}function _p(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_p(t,e,n),t=t.sibling;t!==null;)_p(t,e,n),t=t.sibling}var dt=null,gn=!1;function Pr(t,e,n){for(n=n.child;n!==null;)J1(t,e,n),n=n.sibling}function J1(t,e,n){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(hd,n)}catch{}switch(n.tag){case 5:It||Wi(n,e);case 6:var r=dt,s=gn;dt=null,Pr(t,e,n),dt=r,gn=s,dt!==null&&(gn?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(gn?(t=dt,n=n.stateNode,t.nodeType===8?Hh(t.parentNode,n):t.nodeType===1&&Hh(t,n),Fa(t)):Hh(dt,n.stateNode));break;case 4:r=dt,s=gn,dt=n.stateNode.containerInfo,gn=!0,Pr(t,e,n),dt=r,gn=s;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gp(n,e,o),s=s.next}while(s!==r)}Pr(t,e,n);break;case 1:if(!It&&(Wi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){je(n,e,a)}Pr(t,e,n);break;case 21:Pr(t,e,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,Pr(t,e,n),It=r):Pr(t,e,n);break;default:Pr(t,e,n)}}function _0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qC),e.forEach(function(r){var s=sD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,gn=!1;break e;case 3:dt=a.stateNode.containerInfo,gn=!0;break e;case 4:dt=a.stateNode.containerInfo,gn=!0;break e}a=a.return}if(dt===null)throw Error(W(160));J1(i,o,s),dt=null,gn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){je(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Z1(e,t),e=e.sibling}function Z1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pn(e,t),xn(t),r&4){try{Ia(3,t,t.return),wd(3,t)}catch(I){je(t,t.return,I)}try{Ia(5,t,t.return)}catch(I){je(t,t.return,I)}}break;case 1:pn(e,t),xn(t),r&512&&n!==null&&Wi(n,n.return);break;case 5:if(pn(e,t),xn(t),r&512&&n!==null&&Wi(n,n.return),t.flags&32){var s=t.stateNode;try{Oa(s,"")}catch(I){je(t,t.return,I)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&EE(s,i),Wf(a,o);var u=Wf(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?SE(s,f):d==="dangerouslySetInnerHTML"?xE(s,f):d==="children"?Oa(s,f):_m(s,d,f,u)}switch(a){case"input":jf(s,i);break;case"textarea":kE(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Yi(s,!!i.multiple,y,!1):g!==!!i.multiple&&(i.defaultValue!=null?Yi(s,!!i.multiple,i.defaultValue,!0):Yi(s,!!i.multiple,i.multiple?[]:"",!1))}s[za]=i}catch(I){je(t,t.return,I)}}break;case 6:if(pn(e,t),xn(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(I){je(t,t.return,I)}}break;case 3:if(pn(e,t),xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fa(e.containerInfo)}catch(I){je(t,t.return,I)}break;case 4:pn(e,t),xn(t);break;case 13:pn(e,t),xn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Jm=ze())),r&4&&_0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(It=(u=It)||d,pn(e,t),It=u):pn(e,t),xn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(q=t,d=t.child;d!==null;){for(f=q=d;q!==null;){switch(g=q,y=g.child,g.tag){case 0:case 11:case 14:case 15:Ia(4,g,g.return);break;case 1:Wi(g,g.return);var _=g.stateNode;if(typeof _.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(I){je(r,n,I)}}break;case 5:Wi(g,g.return);break;case 22:if(g.memoizedState!==null){E0(f);continue}}y!==null?(y.return=g,q=y):E0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=IE("display",o))}catch(I){je(t,t.return,I)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(I){je(t,t.return,I)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pn(e,t),xn(t),r&4&&_0(t);break;case 21:break;default:pn(e,t),xn(t)}}function xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(X1(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Oa(s,""),r.flags&=-33);var i=v0(t);_p(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=v0(t);vp(t,a,o);break;default:throw Error(W(161))}}catch(l){je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GC(t,e,n){q=t,ek(t)}function ek(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var s=q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||fc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||It;a=fc;var u=It;if(fc=o,(It=l)&&!u)for(q=s;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?k0(s):l!==null?(l.return=o,q=l):k0(s);for(;i!==null;)q=i,ek(i),i=i.sibling;q=s,fc=a,It=u}w0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,q=i):w0(t)}}function w0(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||wd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!It)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:mn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&s0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}s0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Fa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}It||e.flags&512&&yp(e)}catch(g){je(e,e.return,g)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function E0(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function k0(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wd(4,e)}catch(l){je(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){je(e,s,l)}}var i=e.return;try{yp(e)}catch(l){je(e,i,l)}break;case 5:var o=e.return;try{yp(e)}catch(l){je(e,o,l)}}}catch(l){je(e,e.return,l)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var XC=Math.ceil,Tu=xr.ReactCurrentDispatcher,Gm=xr.ReactCurrentOwner,cn=xr.ReactCurrentBatchConfig,de=0,it=null,qe=null,pt=0,Yt=0,zi=Is(0),Ze=0,Ga=null,Js=0,Ed=0,Xm=0,Sa=null,Ut=null,Jm=0,uo=1/0,tr=null,xu=!1,wp=null,es=null,pc=!1,Hr=null,Iu=0,ba=0,Ep=null,Uc=-1,Bc=0;function Lt(){return de&6?ze():Uc!==-1?Uc:Uc=ze()}function ts(t){return t.mode&1?de&2&&pt!==0?pt&-pt:MC.transition!==null?(Bc===0&&(Bc=jE()),Bc):(t=_e,t!==0||(t=window.event,t=t===void 0?16:HE(t.type)),t):1}function wn(t,e,n,r){if(50<ba)throw ba=0,Ep=null,Error(W(185));ml(t,n,r),(!(de&2)||t!==it)&&(t===it&&(!(de&2)&&(Ed|=n),Ze===4&&jr(t,pt)),zt(t,r),n===1&&de===0&&!(e.mode&1)&&(uo=ze()+500,yd&&Ss()))}function zt(t,e){var n=t.callbackNode;Mb(t,e);var r=lu(t,t===it?pt:0);if(r===0)n!==null&&Rv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Rv(n),e===1)t.tag===0?AC(T0.bind(null,t)):u1(T0.bind(null,t)),DC(function(){!(de&6)&&Ss()}),n=null;else{switch(FE(r)){case 1:n=xm;break;case 4:n=LE;break;case 16:n=au;break;case 536870912:n=VE;break;default:n=au}n=lk(n,tk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tk(t,e){if(Uc=-1,Bc=0,de&6)throw Error(W(327));var n=t.callbackNode;if(Xi()&&t.callbackNode!==n)return null;var r=lu(t,t===it?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Su(t,r);else{e=r;var s=de;de|=2;var i=rk();(it!==t||pt!==e)&&(tr=null,uo=ze()+500,Ws(t,e));do try{eD();break}catch(a){nk(t,a)}while(!0);Vm(),Tu.current=i,de=s,qe!==null?e=0:(it=null,pt=0,e=Ze)}if(e!==0){if(e===2&&(s=qf(t),s!==0&&(r=s,e=kp(t,s))),e===1)throw n=Ga,Ws(t,0),jr(t,r),zt(t,ze()),n;if(e===6)jr(t,r);else{if(s=t.current.alternate,!(r&30)&&!JC(s)&&(e=Su(t,r),e===2&&(i=qf(t),i!==0&&(r=i,e=kp(t,i))),e===1))throw n=Ga,Ws(t,0),jr(t,r),zt(t,ze()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Os(t,Ut,tr);break;case 3:if(jr(t,r),(r&130023424)===r&&(e=Jm+500-ze(),10<e)){if(lu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Lt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=np(Os.bind(null,t,Ut,tr),e);break}Os(t,Ut,tr);break;case 4:if(jr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-_n(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XC(r/1960))-r,10<r){t.timeoutHandle=np(Os.bind(null,t,Ut,tr),r);break}Os(t,Ut,tr);break;case 5:Os(t,Ut,tr);break;default:throw Error(W(329))}}}return zt(t,ze()),t.callbackNode===n?tk.bind(null,t):null}function kp(t,e){var n=Sa;return t.current.memoizedState.isDehydrated&&(Ws(t,e).flags|=256),t=Su(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&Tp(e)),t}function Tp(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function JC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!En(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jr(t,e){for(e&=~Xm,e&=~Ed,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),r=1<<n;t[n]=-1,e&=~r}}function T0(t){if(de&6)throw Error(W(327));Xi();var e=lu(t,0);if(!(e&1))return zt(t,ze()),null;var n=Su(t,e);if(t.tag!==0&&n===2){var r=qf(t);r!==0&&(e=r,n=kp(t,r))}if(n===1)throw n=Ga,Ws(t,0),jr(t,e),zt(t,ze()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Os(t,Ut,tr),zt(t,ze()),null}function Zm(t,e){var n=de;de|=1;try{return t(e)}finally{de=n,de===0&&(uo=ze()+500,yd&&Ss())}}function Zs(t){Hr!==null&&Hr.tag===0&&!(de&6)&&Xi();var e=de;de|=1;var n=cn.transition,r=_e;try{if(cn.transition=null,_e=1,t)return t()}finally{_e=r,cn.transition=n,de=e,!(de&6)&&Ss()}}function eg(){Yt=zi.current,be(zi)}function Ws(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CC(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(Mm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fu();break;case 3:lo(),be($t),be(bt),Wm();break;case 5:$m(r);break;case 4:lo();break;case 13:be(Ne);break;case 19:be(Ne);break;case 10:jm(r.type._context);break;case 22:case 23:eg()}n=n.return}if(it=t,qe=t=ns(t.current,null),pt=Yt=e,Ze=0,Ga=null,Xm=Ed=Js=0,Ut=Sa=null,Fs!==null){for(e=0;e<Fs.length;e++)if(n=Fs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Fs=null}return t}function nk(t,e){do{var n=qe;try{if(Vm(),Vc.current=ku,Eu){for(var r=Me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Eu=!1}if(Xs=0,st=Xe=Me=null,xa=!1,Ka=0,Gm.current=null,n===null||n.return===null){Ze=1,Ga=e,qe=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=u0(o);if(y!==null){y.flags&=-257,d0(y,o,a,i,e),y.mode&1&&c0(i,u,e),e=y,l=u;var _=e.updateQueue;if(_===null){var I=new Set;I.add(l),e.updateQueue=I}else _.add(l);break e}else{if(!(e&1)){c0(i,u,e),tg();break e}l=Error(W(426))}}else if(De&&a.mode&1){var C=u0(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),d0(C,o,a,i,e),Om(co(l,a));break e}}i=l=co(l,a),Ze!==4&&(Ze=2),Sa===null?Sa=[i]:Sa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=F1(i,l,e);r0(i,E);break e;case 1:a=l;var v=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(es===null||!es.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=U1(i,a,e);r0(i,N);break e}}i=i.return}while(i!==null)}ik(n)}catch(j){e=j,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function rk(){var t=Tu.current;return Tu.current=ku,t===null?ku:t}function tg(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),it===null||!(Js&268435455)&&!(Ed&268435455)||jr(it,pt)}function Su(t,e){var n=de;de|=2;var r=rk();(it!==t||pt!==e)&&(tr=null,Ws(t,e));do try{ZC();break}catch(s){nk(t,s)}while(!0);if(Vm(),de=n,Tu.current=r,qe!==null)throw Error(W(261));return it=null,pt=0,Ze}function ZC(){for(;qe!==null;)sk(qe)}function eD(){for(;qe!==null&&!Ib();)sk(qe)}function sk(t){var e=ak(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?ik(t):qe=e,Gm.current=null}function ik(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=KC(n,e),n!==null){n.flags&=32767,qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,qe=null;return}}else if(n=YC(n,e,Yt),n!==null){qe=n;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);Ze===0&&(Ze=5)}function Os(t,e,n){var r=_e,s=cn.transition;try{cn.transition=null,_e=1,tD(t,e,n,r)}finally{cn.transition=s,_e=r}return null}function tD(t,e,n,r){do Xi();while(Hr!==null);if(de&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ob(t,i),t===it&&(qe=it=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pc||(pc=!0,lk(au,function(){return Xi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=cn.transition,cn.transition=null;var o=_e;_e=1;var a=de;de|=4,Gm.current=null,QC(t,n),Z1(n,t),EC(ep),cu=!!Zf,ep=Zf=null,t.current=n,GC(n),Sb(),de=a,_e=o,cn.transition=i}else t.current=n;if(pc&&(pc=!1,Hr=t,Iu=s),i=t.pendingLanes,i===0&&(es=null),Db(n.stateNode),zt(t,ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(xu)throw xu=!1,t=wp,wp=null,t;return Iu&1&&t.tag!==0&&Xi(),i=t.pendingLanes,i&1?t===Ep?ba++:(ba=0,Ep=t):ba=0,Ss(),null}function Xi(){if(Hr!==null){var t=FE(Iu),e=cn.transition,n=_e;try{if(cn.transition=null,_e=16>t?16:t,Hr===null)var r=!1;else{if(t=Hr,Hr=null,Iu=0,de&6)throw Error(W(331));var s=de;for(de|=4,q=t.current;q!==null;){var i=q,o=i.child;if(q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(q=u;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:Ia(8,d,i)}var f=d.child;if(f!==null)f.return=d,q=f;else for(;q!==null;){d=q;var g=d.sibling,y=d.return;if(G1(d),d===u){q=null;break}if(g!==null){g.return=y,q=g;break}q=y}}}var _=i.alternate;if(_!==null){var I=_.child;if(I!==null){_.child=null;do{var C=I.sibling;I.sibling=null,I=C}while(I!==null)}}q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,q=o;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ia(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,q=E;break e}q=i.return}}var v=t.current;for(q=v;q!==null;){o=q;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,q=T;else e:for(o=v;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wd(9,a)}}catch(j){je(a,a.return,j)}if(a===o){q=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,q=N;break e}q=a.return}}if(de=s,Ss(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(hd,t)}catch{}r=!0}return r}finally{_e=n,cn.transition=e}}return!1}function x0(t,e,n){e=co(n,e),e=F1(t,e,1),t=Zr(t,e,1),e=Lt(),t!==null&&(ml(t,1,e),zt(t,e))}function je(t,e,n){if(t.tag===3)x0(t,t,n);else for(;e!==null;){if(e.tag===3){x0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(es===null||!es.has(r))){t=co(n,t),t=U1(e,t,1),e=Zr(e,t,1),t=Lt(),e!==null&&(ml(e,1,t),zt(e,t));break}}e=e.return}}function nD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lt(),t.pingedLanes|=t.suspendedLanes&n,it===t&&(pt&n)===n&&(Ze===4||Ze===3&&(pt&130023424)===pt&&500>ze()-Jm?Ws(t,0):Xm|=n),zt(t,e)}function ok(t,e){e===0&&(t.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var n=Lt();t=yr(t,e),t!==null&&(ml(t,e,n),zt(t,n))}function rD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ok(t,n)}function sD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),ok(t,n)}var ak;ak=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$t.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,HC(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,De&&e.flags&1048576&&d1(e,gu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fc(t,e),t=e.pendingProps;var s=io(e,bt.current);Gi(e,n),s=Hm(null,e,r,t,s,n);var i=Ym();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wt(r)?(i=!0,pu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Um(e),s.updater=_d,e.stateNode=s,s._reactInternals=e,cp(e,r,t,n),e=hp(null,e,r,!0,i,n)):(e.tag=0,De&&i&&Am(e),Nt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=oD(r),t=mn(r,t),s){case 0:e=dp(null,e,r,t,n);break e;case 1:e=p0(null,e,r,t,n);break e;case 11:e=h0(null,e,r,t,n);break e;case 14:e=f0(null,e,r,mn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),dp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),p0(t,e,r,s,n);case 3:e:{if(z1(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,y1(t,e),_u(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=co(Error(W(423)),e),e=m0(t,e,r,n,s);break e}else if(r!==s){s=co(Error(W(424)),e),e=m0(t,e,r,n,s);break e}else for(Qt=Jr(e.stateNode.containerInfo.firstChild),Xt=e,De=!0,yn=null,n=m1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oo(),r===s){e=vr(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return v1(e),t===null&&op(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,tp(r,s)?o=null:i!==null&&tp(r,i)&&(e.flags|=32),W1(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&op(e),null;case 13:return H1(t,e,n);case 4:return Bm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ao(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),h0(t,e,r,s,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Te(yu,r._currentValue),r._currentValue=o,i!==null)if(En(i.value,o)){if(i.children===s.children&&!$t.current){e=vr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=cr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ap(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ap(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Nt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Gi(e,n),s=un(s),r=r(s),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,s=mn(r,e.pendingProps),s=mn(r.type,s),f0(t,e,r,s,n);case 15:return B1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),Fc(t,e),e.tag=1,Wt(r)?(t=!0,pu(e)):t=!1,Gi(e,n),j1(e,r,s),cp(e,r,s,n),hp(null,e,r,!0,t,n);case 19:return Y1(t,e,n);case 22:return $1(t,e,n)}throw Error(W(156,e.tag))};function lk(t,e){return OE(t,e)}function iD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,e,n,r){return new iD(t,e,n,r)}function ng(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oD(t){if(typeof t=="function")return ng(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Em)return 11;if(t===km)return 14}return 2}function ns(t,e){var n=t.alternate;return n===null?(n=ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $c(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ng(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Mi:return zs(n.children,s,i,e);case wm:o=8,s|=8;break;case Af:return t=ln(12,n,e,s|2),t.elementType=Af,t.lanes=i,t;case Mf:return t=ln(13,n,e,s),t.elementType=Mf,t.lanes=i,t;case Of:return t=ln(19,n,e,s),t.elementType=Of,t.lanes=i,t;case vE:return kd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gE:o=10;break e;case yE:o=9;break e;case Em:o=11;break e;case km:o=14;break e;case Mr:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=ln(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function zs(t,e,n,r){return t=ln(7,t,r,e),t.lanes=n,t}function kd(t,e,n,r){return t=ln(22,t,r,e),t.elementType=vE,t.lanes=n,t.stateNode={isHidden:!1},t}function Zh(t,e,n){return t=ln(6,t,null,e),t.lanes=n,t}function ef(t,e,n){return e=ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mh(0),this.expirationTimes=Mh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rg(t,e,n,r,s,i,o,a,l){return t=new aD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ln(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Um(i),t}function lD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ai,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ck(t){if(!t)return fs;t=t._reactInternals;e:{if(fi(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Wt(n))return c1(t,n,e)}return e}function uk(t,e,n,r,s,i,o,a,l){return t=rg(n,r,!0,t,s,i,o,a,l),t.context=ck(null),n=t.current,r=Lt(),s=ts(n),i=cr(r,s),i.callback=e??null,Zr(n,i,s),t.current.lanes=s,ml(t,s,r),zt(t,r),t}function Td(t,e,n,r){var s=e.current,i=Lt(),o=ts(s);return n=ck(n),e.context===null?e.context=n:e.pendingContext=n,e=cr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zr(s,e,o),t!==null&&(wn(t,s,o,i),Lc(t,s,o)),o}function bu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function I0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sg(t,e){I0(t,e),(t=t.alternate)&&I0(t,e)}function cD(){return null}var dk=typeof reportError=="function"?reportError:function(t){console.error(t)};function ig(t){this._internalRoot=t}xd.prototype.render=ig.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Td(t,e,null,null)};xd.prototype.unmount=ig.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zs(function(){Td(null,t,null,null)}),e[gr]=null}};function xd(t){this._internalRoot=t}xd.prototype.unstable_scheduleHydration=function(t){if(t){var e=$E();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vr.length&&e!==0&&e<Vr[n].priority;n++);Vr.splice(n,0,t),n===0&&zE(t)}};function og(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Id(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function S0(){}function uD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=bu(o);i.call(u)}}var o=uk(e,r,t,0,null,!1,!1,"",S0);return t._reactRootContainer=o,t[gr]=o.current,$a(t.nodeType===8?t.parentNode:t),Zs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=bu(l);a.call(u)}}var l=rg(t,0,!1,null,null,!1,!1,"",S0);return t._reactRootContainer=l,t[gr]=l.current,$a(t.nodeType===8?t.parentNode:t),Zs(function(){Td(e,l,n,r)}),l}function Sd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=bu(o);a.call(l)}}Td(e,o,t,s)}else o=uD(n,e,t,s,r);return bu(o)}UE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ca(e.pendingLanes);n!==0&&(Im(e,n|1),zt(e,ze()),!(de&6)&&(uo=ze()+500,Ss()))}break;case 13:Zs(function(){var r=yr(t,1);if(r!==null){var s=Lt();wn(r,t,1,s)}}),sg(t,1)}};Sm=function(t){if(t.tag===13){var e=yr(t,134217728);if(e!==null){var n=Lt();wn(e,t,134217728,n)}sg(t,134217728)}};BE=function(t){if(t.tag===13){var e=ts(t),n=yr(t,e);if(n!==null){var r=Lt();wn(n,t,e,r)}sg(t,e)}};$E=function(){return _e};WE=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};Hf=function(t,e,n){switch(e){case"input":if(jf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=gd(r);if(!s)throw Error(W(90));wE(r),jf(r,s)}}}break;case"textarea":kE(t,n);break;case"select":e=n.value,e!=null&&Yi(t,!!n.multiple,e,!1)}};DE=Zm;PE=Zs;var dD={usingClientEntryPoint:!1,Events:[yl,ji,gd,bE,CE,Zm]},na={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hD={bundleType:na.bundleType,version:na.version,rendererPackageName:na.rendererPackageName,rendererConfig:na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AE(t),t===null?null:t.stateNode},findFiberByHostInstance:na.findFiberByHostInstance||cD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{hd=mc.inject(hD),An=mc}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dD;tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!og(e))throw Error(W(200));return lD(t,e,null,n)};tn.createRoot=function(t,e){if(!og(t))throw Error(W(299));var n=!1,r="",s=dk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=rg(t,1,!1,null,null,n,!1,r,s),t[gr]=e.current,$a(t.nodeType===8?t.parentNode:t),new ig(e)};tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=AE(e),t=t===null?null:t.stateNode,t};tn.flushSync=function(t){return Zs(t)};tn.hydrate=function(t,e,n){if(!Id(e))throw Error(W(200));return Sd(null,t,e,!0,n)};tn.hydrateRoot=function(t,e,n){if(!og(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=dk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=uk(e,null,t,1,n??null,s,!1,i,o),t[gr]=e.current,$a(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new xd(e)};tn.render=function(t,e,n){if(!Id(e))throw Error(W(200));return Sd(null,t,e,!1,n)};tn.unmountComponentAtNode=function(t){if(!Id(t))throw Error(W(40));return t._reactRootContainer?(Zs(function(){Sd(null,null,t,!1,function(){t._reactRootContainer=null,t[gr]=null})}),!0):!1};tn.unstable_batchedUpdates=Zm;tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Id(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Sd(t,e,n,!1,r)};tn.version="18.3.1-next-f1338f8080-20240426";function hk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hk)}catch(t){console.error(t)}}hk(),hE.exports=tn;var bd=hE.exports;const fD=Zw(bd);var fk,b0=bd;fk=b0.createRoot,b0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xa(){return Xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xa.apply(this,arguments)}var Yr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yr||(Yr={}));const C0="popstate";function pD(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return xp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Cu(s)}return gD(e,n,null,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mD(){return Math.random().toString(36).substr(2,8)}function D0(t,e){return{usr:t.state,key:t.key,idx:e}}function xp(t,e,n,r){return n===void 0&&(n=null),Xa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Do(e):e,{state:n,key:e&&e.key||r||mD()})}function Cu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Do(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function gD(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Yr.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Xa({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Yr.Pop;let C=d(),E=C==null?null:C-u;u=C,l&&l({action:a,location:I.location,delta:E})}function g(C,E){a=Yr.Push;let v=xp(I.location,C,E);u=d()+1;let T=D0(v,u),N=I.createHref(v);try{o.pushState(T,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(N)}i&&l&&l({action:a,location:I.location,delta:1})}function y(C,E){a=Yr.Replace;let v=xp(I.location,C,E);u=d();let T=D0(v,u),N=I.createHref(v);o.replaceState(T,"",N),i&&l&&l({action:a,location:I.location,delta:0})}function _(C){let E=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof C=="string"?C:Cu(C);return v=v.replace(/ $/,"%20"),Qe(E,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,E)}let I={get action(){return a},get location(){return t(s,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(C0,f),l=C,()=>{s.removeEventListener(C0,f),l=null}},createHref(C){return e(s,C)},createURL:_,encodeLocation(C){let E=_(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:y,go(C){return o.go(C)}};return I}var P0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(P0||(P0={}));function yD(t,e,n){return n===void 0&&(n="/"),vD(t,e,n,!1)}function vD(t,e,n,r){let s=typeof e=="string"?Do(e):e,i=ag(s.pathname||"/",n);if(i==null)return null;let o=mk(t);_D(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=PD(i);a=CD(o[l],u,r)}return a}function mk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Qe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=rs([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Qe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mk(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:SD(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of gk(i.path))s(i,o,l)}),e}function gk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=gk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function _D(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wD=/^:[\w-]+$/,ED=3,kD=2,TD=1,xD=10,ID=-2,R0=t=>t==="*";function SD(t,e){let n=t.split("/"),r=n.length;return n.some(R0)&&(r+=ID),e&&(r+=kD),n.filter(s=>!R0(s)).reduce((s,i)=>s+(wD.test(i)?ED:i===""?TD:xD),r)}function bD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function CD(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=N0({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=N0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:rs([i,f.pathname]),pathnameBase:MD(rs([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=rs([i,f.pathnameBase]))}return o}function N0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=DD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:g,isOptional:y}=d;if(g==="*"){let I=a[f]||"";o=i.slice(0,i.length-I.length).replace(/(.)\/+$/,"$1")}const _=a[f];return y&&!_?u[g]=void 0:u[g]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function DD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),pk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function PD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ag(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function RD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Do(t):t;return{pathname:n?n.startsWith("/")?n:ND(n,e):e,search:OD(r),hash:LD(s)}}function ND(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function tf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yk(t,e){let n=AD(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function vk(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Do(t):(s=Xa({},t),Qe(!s.pathname||!s.pathname.includes("?"),tf("?","pathname","search",s)),Qe(!s.pathname||!s.pathname.includes("#"),tf("#","pathname","hash",s)),Qe(!s.search||!s.search.includes("#"),tf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;s.pathname=g.join("/")}a=f>=0?e[f]:"/"}let l=RD(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const rs=t=>t.join("/").replace(/\/\/+/g,"/"),MD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function VD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _k=["post","put","patch","delete"];new Set(_k);const jD=["get",..._k];new Set(jD);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ja(){return Ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ja.apply(this,arguments)}const lg=O.createContext(null),FD=O.createContext(null),pi=O.createContext(null),Cd=O.createContext(null),bs=O.createContext({outlet:null,matches:[],isDataRoute:!1}),wk=O.createContext(null);function UD(t,e){let{relative:n}=e===void 0?{}:e;_l()||Qe(!1);let{basename:r,navigator:s}=O.useContext(pi),{hash:i,pathname:o,search:a}=Tk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:rs([r,o])),s.createHref({pathname:l,search:a,hash:i})}function _l(){return O.useContext(Cd)!=null}function Dd(){return _l()||Qe(!1),O.useContext(Cd).location}function Ek(t){O.useContext(pi).static||O.useLayoutEffect(t)}function wl(){let{isDataRoute:t}=O.useContext(bs);return t?ZD():BD()}function BD(){_l()||Qe(!1);let t=O.useContext(lg),{basename:e,future:n,navigator:r}=O.useContext(pi),{matches:s}=O.useContext(bs),{pathname:i}=Dd(),o=JSON.stringify(yk(s,n.v7_relativeSplatPath)),a=O.useRef(!1);return Ek(()=>{a.current=!0}),O.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=vk(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:rs([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function kk(){let{matches:t}=O.useContext(bs),e=t[t.length-1];return e?e.params:{}}function Tk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(pi),{matches:s}=O.useContext(bs),{pathname:i}=Dd(),o=JSON.stringify(yk(s,r.v7_relativeSplatPath));return O.useMemo(()=>vk(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function $D(t,e){return WD(t,e)}function WD(t,e,n,r){_l()||Qe(!1);let{navigator:s,static:i}=O.useContext(pi),{matches:o}=O.useContext(bs),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=Dd(),f;if(e){var g;let E=typeof e=="string"?Do(e):e;u==="/"||(g=E.pathname)!=null&&g.startsWith(u)||Qe(!1),f=E}else f=d;let y=f.pathname||"/",_=y;if(u!=="/"){let E=u.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(E.length).join("/")}let I=!i&&n&&n.matches&&n.matches.length>0?n.matches:yD(t,{pathname:_}),C=qD(I&&I.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:rs([u,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:rs([u,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&C?O.createElement(Cd.Provider,{value:{location:Ja({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Yr.Pop}},C):C}function zD(){let t=JD(),e=VD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:s},n):null,null)}const HD=O.createElement(zD,null);class YD extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(bs.Provider,{value:this.props.routeContext},O.createElement(wk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KD(t){let{routeContext:e,match:n,children:r}=t,s=O.useContext(lg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(bs.Provider,{value:e},r)}function qD(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Qe(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:g,errors:y}=n,_=f.route.loader&&g[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||_){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,g)=>{let y,_=!1,I=null,C=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,I=f.route.errorElement||HD,l&&(u<0&&g===0?(_=!0,C=null):u===g&&(_=!0,C=f.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,g+1)),v=()=>{let T;return y?T=I:_?T=C:f.route.Component?T=O.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,O.createElement(KD,{match:f,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?O.createElement(YD,{location:n.location,revalidation:n.revalidation,component:I,error:y,children:v(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):v()},null)}var xk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(xk||{}),Du=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Du||{});function QD(t){let e=O.useContext(lg);return e||Qe(!1),e}function GD(t){let e=O.useContext(FD);return e||Qe(!1),e}function XD(t){let e=O.useContext(bs);return e||Qe(!1),e}function Ik(t){let e=XD(),n=e.matches[e.matches.length-1];return n.route.id||Qe(!1),n.route.id}function JD(){var t;let e=O.useContext(wk),n=GD(Du.UseRouteError),r=Ik(Du.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ZD(){let{router:t}=QD(xk.UseNavigateStable),e=Ik(Du.UseNavigateStable),n=O.useRef(!1);return Ek(()=>{n.current=!0}),O.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ja({fromRouteId:e},i)))},[t,e])}function eP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ar(t){Qe(!1)}function tP(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Yr.Pop,navigator:i,static:o=!1,future:a}=t;_l()&&Qe(!1);let l=e.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:i,static:o,future:Ja({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Do(r));let{pathname:d="/",search:f="",hash:g="",state:y=null,key:_="default"}=r,I=O.useMemo(()=>{let C=ag(d,l);return C==null?null:{location:{pathname:C,search:f,hash:g,state:y,key:_},navigationType:s}},[l,d,f,g,y,_,s]);return I==null?null:O.createElement(pi.Provider,{value:u},O.createElement(Cd.Provider,{children:n,value:I}))}function nP(t){let{children:e,location:n}=t;return $D(Ip(e),n)}new Promise(()=>{});function Ip(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(r,s)=>{if(!O.isValidElement(r))return;let i=[...e,s];if(r.type===O.Fragment){n.push.apply(n,Ip(r.props.children,i));return}r.type!==Ar&&Qe(!1),!r.props.index||!r.props.children||Qe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ip(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sp.apply(this,arguments)}function rP(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function sP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iP(t,e){return t.button===0&&(!e||e==="_self")&&!sP(t)}const oP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aP="6";try{window.__reactRouterVersion=aP}catch{}const lP="startTransition",A0=uE[lP];function cP(t){let{basename:e,children:n,future:r,window:s}=t,i=O.useRef();i.current==null&&(i.current=pD({window:s,v5Compat:!0}));let o=i.current,[a,l]=O.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=O.useCallback(f=>{u&&A0?A0(()=>l(f)):l(f)},[l,u]);return O.useLayoutEffect(()=>o.listen(d),[o,d]),O.useEffect(()=>eP(r),[r]),O.createElement(tP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const uP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Za=O.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,g=rP(e,oP),{basename:y}=O.useContext(pi),_,I=!1;if(typeof u=="string"&&dP.test(u)&&(_=u,uP))try{let T=new URL(window.location.href),N=u.startsWith("//")?new URL(T.protocol+u):new URL(u),j=ag(N.pathname,y);N.origin===T.origin&&j!=null?u=j+N.search+N.hash:I=!0}catch{}let C=UD(u,{relative:s}),E=hP(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function v(T){r&&r(T),T.defaultPrevented||E(T)}return O.createElement("a",Sp({},g,{href:_||C,onClick:I||i?r:v,ref:n,target:l}))});var M0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(M0||(M0={}));var O0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(O0||(O0={}));function hP(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=wl(),u=Dd(),d=Tk(t,{relative:o});return O.useCallback(f=>{if(iP(f,n)){f.preventDefault();let g=r!==void 0?r:Cu(u)===Cu(d);l(t,{replace:g,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,t,i,o,a])}const fP=()=>{};var L0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},pP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},bk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let g=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(g=64)),r.push(n[d],n[f],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new mP;const g=i<<2|a>>4;if(r.push(g),u!==64){const y=a<<4&240|u>>2;if(r.push(y),f!==64){const _=u<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gP=function(t){const e=Sk(t);return bk.encodeByteArray(e,!0)},Pu=function(t){return gP(t).replace(/\./g,"")},Ck=function(t){try{return bk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=()=>yP().__FIREBASE_DEFAULTS__,_P=()=>{if(typeof process>"u"||typeof L0>"u")return;const t=L0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ck(t[1]);return e&&JSON.parse(e)},Pd=()=>{try{return fP()||vP()||_P()||wP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dk=t=>{var e,n;return(n=(e=Pd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Pk=t=>{const e=Dk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Rk=()=>{var t;return(t=Pd())===null||t===void 0?void 0:t.config},Nk=t=>{var e;return(e=Pd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pu(JSON.stringify(n)),Pu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function TP(){var t;const e=(t=Pd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bP(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CP(){return!TP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DP(){try{return typeof indexedDB=="object"}catch{return!1}}function PP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="FirebaseError";class Kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RP,Object.setPrototypeOf(this,Kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,El.prototype.create)}}class El{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?NP(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Kn(s,a,r)}}function NP(t,e){return t.replace(AP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const AP=/\{\$([^}]+)}/g;function MP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ei(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(V0(i)&&V0(o)){if(!ei(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function V0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function da(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ha(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OP(t,e){const n=new LP(t,e);return n.subscribe.bind(n)}class LP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=nf),s.error===void 0&&(s.error=nf),s.complete===void 0&&(s.complete=nf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t){return t&&t._delegate?t._delegate:t}class ps{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UP(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FP(t){return t===Ls?void 0:t}function UP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const $P={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},WP=ie.INFO,zP={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},HP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=zP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cg{constructor(e){this.name=e,this._logLevel=WP,this._logHandler=HP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$P[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const YP=(t,e)=>e.some(n=>t instanceof n);let j0,F0;function KP(){return j0||(j0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qP(){return F0||(F0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mk=new WeakMap,bp=new WeakMap,Ok=new WeakMap,rf=new WeakMap,ug=new WeakMap;function QP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ss(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Mk.set(n,t)}).catch(()=>{}),ug.set(e,t),e}function GP(t){if(bp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});bp.set(t,e)}let Cp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ok.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XP(t){Cp=t(Cp)}function JP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sf(this),e,...n);return Ok.set(r,e.sort?e.sort():[e]),ss(r)}:qP().includes(t)?function(...e){return t.apply(sf(this),e),ss(Mk.get(this))}:function(...e){return ss(t.apply(sf(this),e))}}function ZP(t){return typeof t=="function"?JP(t):(t instanceof IDBTransaction&&GP(t),YP(t,KP())?new Proxy(t,Cp):t)}function ss(t){if(t instanceof IDBRequest)return QP(t);if(rf.has(t))return rf.get(t);const e=ZP(t);return e!==t&&(rf.set(t,e),ug.set(e,t)),e}const sf=t=>ug.get(t);function eR(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ss(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ss(o.result),l.oldVersion,l.newVersion,ss(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const tR=["get","getKey","getAll","getAllKeys","count"],nR=["put","add","delete","clear"],of=new Map;function U0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(of.get(e))return of.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=nR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||tR.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return of.set(e,i),i}XP(t=>({...t,get:(e,n,r)=>U0(e,n)||t.get(e,n,r),has:(e,n)=>!!U0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dp="@firebase/app",B0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new cg("@firebase/app"),iR="@firebase/app-compat",oR="@firebase/analytics-compat",aR="@firebase/analytics",lR="@firebase/app-check-compat",cR="@firebase/app-check",uR="@firebase/auth",dR="@firebase/auth-compat",hR="@firebase/database",fR="@firebase/data-connect",pR="@firebase/database-compat",mR="@firebase/functions",gR="@firebase/functions-compat",yR="@firebase/installations",vR="@firebase/installations-compat",_R="@firebase/messaging",wR="@firebase/messaging-compat",ER="@firebase/performance",kR="@firebase/performance-compat",TR="@firebase/remote-config",xR="@firebase/remote-config-compat",IR="@firebase/storage",SR="@firebase/storage-compat",bR="@firebase/firestore",CR="@firebase/vertexai",DR="@firebase/firestore-compat",PR="firebase",RR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="[DEFAULT]",NR={[Dp]:"fire-core",[iR]:"fire-core-compat",[aR]:"fire-analytics",[oR]:"fire-analytics-compat",[cR]:"fire-app-check",[lR]:"fire-app-check-compat",[uR]:"fire-auth",[dR]:"fire-auth-compat",[hR]:"fire-rtdb",[fR]:"fire-data-connect",[pR]:"fire-rtdb-compat",[mR]:"fire-fn",[gR]:"fire-fn-compat",[yR]:"fire-iid",[vR]:"fire-iid-compat",[_R]:"fire-fcm",[wR]:"fire-fcm-compat",[ER]:"fire-perf",[kR]:"fire-perf-compat",[TR]:"fire-rc",[xR]:"fire-rc-compat",[IR]:"fire-gcs",[SR]:"fire-gcs-compat",[bR]:"fire-fst",[DR]:"fire-fst-compat",[CR]:"fire-vertex","fire-js":"fire-js",[PR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=new Map,AR=new Map,Rp=new Map;function $0(t,e){try{t.container.addComponent(e)}catch(n){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ti(t){const e=t.name;if(Rp.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;Rp.set(e,t);for(const n of Ru.values())$0(n,t);for(const n of AR.values())$0(n,t);return!0}function Rd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new El("app","Firebase",MR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=RR;function Lk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Pp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw is.create("bad-app-name",{appName:String(s)});if(n||(n=Rk()),!n)throw is.create("no-options");const i=Ru.get(s);if(i){if(ei(n,i.options)&&ei(r,i.config))return i;throw is.create("duplicate-app",{appName:s})}const o=new BP(s);for(const l of Rp.values())o.addComponent(l);const a=new OR(n,r,o);return Ru.set(s,a),a}function dg(t=Pp){const e=Ru.get(t);if(!e&&t===Pp&&Rk())return Lk();if(!e)throw is.create("no-app",{appName:t});return e}function On(t,e,n){var r;let s=(r=NR[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(a.join(" "));return}ti(new ps(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="firebase-heartbeat-database",VR=1,el="firebase-heartbeat-store";let af=null;function Vk(){return af||(af=eR(LR,VR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(el)}catch(n){console.warn(n)}}}}).catch(t=>{throw is.create("idb-open",{originalErrorMessage:t.message})})),af}async function jR(t){try{const n=(await Vk()).transaction(el),r=await n.objectStore(el).get(jk(t));return await n.done,r}catch(e){if(e instanceof Kn)_r.warn(e.message);else{const n=is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_r.warn(n.message)}}}async function W0(t,e){try{const r=(await Vk()).transaction(el,"readwrite");await r.objectStore(el).put(e,jk(t)),await r.done}catch(n){if(n instanceof Kn)_r.warn(n.message);else{const r=is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_r.warn(r.message)}}}function jk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=1024,UR=30;class BR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=z0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>UR){const o=zR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_r.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=z0(),{heartbeatsToSend:r,unsentEntries:s}=$R(this._heartbeatsCache.heartbeats),i=Pu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return _r.warn(n),""}}}function z0(){return new Date().toISOString().substring(0,10)}function $R(t,e=FR){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),H0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),H0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DP()?PP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return W0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return W0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function H0(t){return Pu(JSON.stringify({version:2,heartbeats:t})).length}function zR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t){ti(new ps("platform-logger",e=>new rR(e),"PRIVATE")),ti(new ps("heartbeat",e=>new BR(e),"PRIVATE")),On(Dp,B0,t),On(Dp,B0,"esm2017"),On("fire-js","")}HR("");var YR="firebase",KR="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On(YR,KR,"app");function hg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Fk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qR=Fk,Uk=new El("auth","Firebase",Fk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=new cg("@firebase/auth");function QR(t,...e){Nu.logLevel<=ie.WARN&&Nu.warn(`Auth (${mi}): ${t}`,...e)}function Wc(t,...e){Nu.logLevel<=ie.ERROR&&Nu.error(`Auth (${mi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t,...e){throw fg(t,...e)}function Ln(t,...e){return fg(t,...e)}function Bk(t,e,n){const r=Object.assign(Object.assign({},qR()),{[e]:n});return new El("auth","Firebase",r).create(e,{appName:t.name})}function ur(t){return Bk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Uk.create(t,...e)}function Z(t,e,...n){if(!t)throw fg(e,...n)}function or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wc(e),new Error(e)}function wr(t,e){t||or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GR(){return Y0()==="http:"||Y0()==="https:"}function Y0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GR()||IP()||"connection"in navigator)?navigator.onLine:!0}function JR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n){this.shortDelay=e,this.longDelay=n,wr(n>e,"Short delay should be less than long delay!"),this.isMobile=kP()||SP()}get(){return XR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t,e){wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=new Tl(3e4,6e4);function Cs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ir(t,e,n,r,s={}){return Wk(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=kl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return xP()||(u.referrerPolicy="no-referrer"),$k.fetch()(zk(t,t.config.apiHost,n,a),u)})}async function Wk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ZR),e);try{const s=new nN(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw gc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw gc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw gc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Bk(t,d,u);kn(t,d)}}catch(s){if(s instanceof Kn)throw s;kn(t,"network-request-failed",{message:String(s)})}}async function xl(t,e,n,r,s={}){const i=await Ir(t,e,n,r,s);return"mfaPendingCredential"in i&&kn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function zk(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?pg(t.config,s):`${t.config.apiScheme}://${s}`}function tN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ln(this.auth,"network-request-failed")),eN.get())})}}function gc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ln(t,e,r);return s.customData._tokenResponse=n,s}function K0(t){return t!==void 0&&t.enterprise!==void 0}class rN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sN(t,e){return Ir(t,"GET","/v2/recaptchaConfig",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(t,e){return Ir(t,"POST","/v1/accounts:delete",e)}async function Hk(t,e){return Ir(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oN(t,e=!1){const n=nt(t),r=await n.getIdToken(e),s=mg(r);Z(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ca(lf(s.auth_time)),issuedAtTime:Ca(lf(s.iat)),expirationTime:Ca(lf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function lf(t){return Number(t)*1e3}function mg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const s=Ck(n);return s?JSON.parse(s):(Wc("Failed to decode base64 JWT payload"),null)}catch(s){return Wc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function q0(t){const e=mg(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Kn&&aN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function aN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ca(this.lastLoginAt),this.creationTime=Ca(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ho(t,Hk(n,{idToken:r}));Z(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Yk(i.providerUserInfo):[],a=uN(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ap(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function cN(t){const e=nt(t);await Au(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uN(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Yk(t){return t.map(e=>{var{providerId:n}=e,r=hg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(t,e){const n=await Wk(t,{},async()=>{const r=kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=zk(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$k.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hN(t,e){return Ir(t,"POST","/v2/accounts:revokeToken",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):q0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=q0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await dN(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ji;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Z(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Z(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ji,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ar{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=hg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ap(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ho(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oN(this,e)}reload(){return cN(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ar(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Au(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qt(this.auth.app))return Promise.reject(ur(this.auth));const e=await this.getIdToken();return await ho(this,iN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,y=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:N,isAnonymous:j,providerData:F,stsTokenManager:x}=n;Z(T&&x,e,"internal-error");const w=Ji.fromJSON(this.name,x);Z(typeof T=="string",e,"internal-error"),Rr(f,e.name),Rr(g,e.name),Z(typeof N=="boolean",e,"internal-error"),Z(typeof j=="boolean",e,"internal-error"),Rr(y,e.name),Rr(_,e.name),Rr(I,e.name),Rr(C,e.name),Rr(E,e.name),Rr(v,e.name);const b=new ar({uid:T,auth:e,email:g,emailVerified:N,displayName:f,isAnonymous:j,photoURL:_,phoneNumber:y,tenantId:I,stsTokenManager:w,createdAt:E,lastLoginAt:v});return F&&Array.isArray(F)&&(b.providerData=F.map(D=>Object.assign({},D))),C&&(b._redirectEventId=C),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ji;s.updateFromServerResponse(n);const i=new ar({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Au(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Z(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Yk(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ji;a.updateFromIdToken(r);const l=new ar({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ap(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=new Map;function lr(t){wr(t instanceof Function,"Expected a class definition");let e=Q0.get(t);return e?(wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Q0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Kk.type="NONE";const G0=Kk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t,e,n){return`firebase:${t}:${e}:${n}`}class Zi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=zc(this.userKey,s.apiKey,i),this.fullPersistenceKey=zc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ar._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Zi(lr(G0),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||lr(G0);const o=zc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const f=ar._fromJSON(e,d);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Zi(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Zi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zk(e))return"Blackberry";if(eT(e))return"Webos";if(Qk(e))return"Safari";if((e.includes("chrome/")||Gk(e))&&!e.includes("edge/"))return"Chrome";if(Jk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qk(t=Ct()){return/firefox\//i.test(t)}function Qk(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Gk(t=Ct()){return/crios\//i.test(t)}function Xk(t=Ct()){return/iemobile/i.test(t)}function Jk(t=Ct()){return/android/i.test(t)}function Zk(t=Ct()){return/blackberry/i.test(t)}function eT(t=Ct()){return/webos/i.test(t)}function gg(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fN(t=Ct()){var e;return gg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pN(){return bP()&&document.documentMode===10}function tT(t=Ct()){return gg(t)||Jk(t)||eT(t)||Zk(t)||/windows phone/i.test(t)||Xk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t,e=[]){let n;switch(t){case"Browser":n=X0(Ct());break;case"Worker":n=`${X0(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(t,e={}){return Ir(t,"GET","/v2/passwordPolicy",Cs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=6;class vN{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:yN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J0(this),this.idTokenSubscription=new J0(this),this.beforeStateQueue=new mN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Uk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Zi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hk(this,{idToken:e}),r=await ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Au(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qt(this.app))return Promise.reject(ur(this));const n=e?nt(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qt(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qt(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gN(this),n=new vN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new El("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await Zi.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&QR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gi(t){return nt(t)}class J0{constructor(e){this.auth=e,this.observer=null,this.addObserver=OP(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wN(t){Nd=t}function rT(t){return Nd.loadJS(t)}function EN(){return Nd.recaptchaEnterpriseScript}function kN(){return Nd.gapiScript}function TN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xN{constructor(){this.enterprise=new IN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class IN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const SN="recaptcha-enterprise",sT="NO_RECAPTCHA";class bN{constructor(e){this.type=SN,this.auth=gi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{sN(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new rN(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;K0(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(sT)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xN().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&K0(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=EN();l.length!==0&&(l+=a),rT(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Z0(t,e,n,r=!1,s=!1){const i=new bN(t);let o;if(s)o=sT;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Mp(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Z0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Z0(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t,e){const n=Rd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ei(i,e??{}))return s;kn(s,"already-initialized")}return n.initialize({options:e})}function DN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function PN(t,e,n){const r=gi(t);Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=iT(e),{host:o,port:a}=RN(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Z(ei(u,r.config.emulator)&&ei(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,NN()}function iT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RN(t){const e=iT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:e_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:e_(o)}}}function e_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function NN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function AN(t,e){return Ir(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(t,e){return xl(t,"POST","/v1/accounts:signInWithPassword",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(t,e){return xl(t,"POST","/v1/accounts:signInWithEmailLink",Cs(t,e))}async function LN(t,e){return xl(t,"POST","/v1/accounts:signInWithEmailLink",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends yg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new tl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new tl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mp(e,n,"signInWithPassword",MN);case"emailLink":return ON(e,{email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mp(e,r,"signUpPassword",AN);case"emailLink":return LN(e,{idToken:n,email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(t,e){return xl(t,"POST","/v1/accounts:signInWithIdp",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="http://localhost";class ni extends yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ni(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=hg(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ni(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return eo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,eo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eo(e,n)}buildRequest(){const e={requestUri:VN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FN(t){const e=da(ha(t)).link,n=e?da(ha(e)).deep_link_id:null,r=da(ha(t)).deep_link_id;return(r?da(ha(r)).link:null)||r||n||e||t}class vg{constructor(e){var n,r,s,i,o,a;const l=da(ha(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=jN((s=l.mode)!==null&&s!==void 0?s:null);Z(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=FN(e);try{return new vg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,n){return tl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vg.parseLink(n);return Z(r,"argument-error"),tl._fromEmailAndCode(e,r.code,r.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends oT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Il{constructor(){super("facebook.com")}static credential(e){return ni._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Il{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ni._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ur.credential(n,r)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Il{constructor(){super("github.com")}static credential(e){return ni._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Il{constructor(){super("twitter.com")}static credential(e,n){return ni._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $r.credential(n,r)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(t,e){return xl(t,"POST","/v1/accounts:signUp",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ar._fromIdTokenResponse(e,r,s),o=t_(r);return new ri({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=t_(r);return new ri({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function t_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends Kn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Mu.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Mu(e,n,r,s)}}function aT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Mu._fromErrorAndOperation(t,i,e,r):i})}async function BN(t,e,n=!1){const r=await ho(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ri._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(t,e,n=!1){const{auth:r}=t;if(qt(r.app))return Promise.reject(ur(r));const s="reauthenticate";try{const i=await ho(t,aT(r,s,e,t),n);Z(i.idToken,r,"internal-error");const o=mg(i.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),ri._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&kn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lT(t,e,n=!1){if(qt(t.app))return Promise.reject(ur(t));const r="signIn",s=await aT(t,r,e),i=await ri._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function WN(t,e){return lT(gi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(t){const e=gi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zN(t,e,n){if(qt(t.app))return Promise.reject(ur(t));const r=gi(t),o=await Mp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UN).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&cT(t),l}),a=await ri._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function HN(t,e,n){return qt(t.app)?Promise.reject(ur(t)):WN(nt(t),Po.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cT(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(t,e){return Ir(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=nt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ho(r,YN(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function qN(t,e,n,r){return nt(t).onIdTokenChanged(e,n,r)}function QN(t,e,n){return nt(t).beforeAuthStateChanged(e,n)}function GN(t,e,n,r){return nt(t).onAuthStateChanged(e,n,r)}function XN(t){return nt(t).signOut()}const Ou="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ou,"1"),this.storage.removeItem(Ou),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=1e3,ZN=10;class dT extends uT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);pN()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ZN):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},JN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dT.type="LOCAL";const eA=dT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT extends uT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hT.type="SESSION";const fT=hT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Ad(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await tA(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=_g("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return window}function rA(t){Vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function sA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oA(){return pT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="firebaseLocalStorageDb",aA=1,Lu="firebaseLocalStorage",gT="fbase_key";class Sl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Md(t,e){return t.transaction([Lu],e?"readwrite":"readonly").objectStore(Lu)}function lA(){const t=indexedDB.deleteDatabase(mT);return new Sl(t).toPromise()}function Op(){const t=indexedDB.open(mT,aA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lu,{keyPath:gT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lu)?e(r):(r.close(),await lA(),e(await Op()))})})}async function n_(t,e,n){const r=Md(t,!0).put({[gT]:e,value:n});return new Sl(r).toPromise()}async function cA(t,e){const n=Md(t,!1).get(e),r=await new Sl(n).toPromise();return r===void 0?null:r.value}function r_(t,e){const n=Md(t,!0).delete(e);return new Sl(n).toPromise()}const uA=800,dA=3;class yT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Op(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>dA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ad._getInstance(oA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sA(),!this.activeServiceWorker)return;this.sender=new nA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Op();return await n_(e,Ou,"1"),await r_(e,Ou),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>n_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>r_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Md(s,!1).getAll();return new Sl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yT.type="LOCAL";const hA=yT;new Tl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t,e){return e?lr(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg extends yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pA(t){return lT(t.auth,new wg(t),t.bypassAuthState)}function mA(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),$N(n,new wg(t),t.bypassAuthState)}async function gA(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),BN(n,new wg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pA;case"linkViaPopup":case"linkViaRedirect":return gA;case"reauthViaPopup":case"reauthViaRedirect":return mA;default:kn(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=new Tl(2e3,1e4);class Hi extends vT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Hi.currentPopupAction&&Hi.currentPopupAction.cancel(),Hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){wr(this.filter.length===1,"Popup operations only handle one event");const e=_g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yA.get())};e()}}Hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="pendingRedirect",Hc=new Map;class _A extends vT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hc.get(this.auth._key());if(!e){try{const r=await wA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hc.set(this.auth._key(),e)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wA(t,e){const n=TA(e),r=kA(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function EA(t,e){Hc.set(t._key(),e)}function kA(t){return lr(t._redirectPersistence)}function TA(t){return zc(vA,t.config.apiKey,t.name)}async function xA(t,e,n=!1){if(qt(t.app))return Promise.reject(ur(t));const r=gi(t),s=fA(r,e),o=await new _A(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=10*60*1e3;class SA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_T(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ln(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IA&&this.cachedEventUids.clear(),this.cachedEventUids.has(s_(e))}saveEventToCache(e){this.cachedEventUids.add(s_(e)),this.lastProcessedEventTime=Date.now()}}function s_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _T({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _T(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(t,e={}){return Ir(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PA=/^https?/;async function RA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CA(t);for(const n of e)try{if(NA(n))return}catch{}kn(t,"unauthorized-domain")}function NA(t){const e=Np(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!PA.test(n))return!1;if(DA.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=new Tl(3e4,6e4);function i_(){const t=Vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function MA(t){return new Promise((e,n)=>{var r,s,i;function o(){i_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i_(),n(Ln(t,"network-request-failed"))},timeout:AA.get()})}if(!((s=(r=Vn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Vn().gapi)===null||i===void 0)&&i.load)o();else{const a=TN("iframefcb");return Vn()[a]=()=>{gapi.load?o():n(Ln(t,"network-request-failed"))},rT(`${kN()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Yc=null,e})}let Yc=null;function OA(t){return Yc=Yc||MA(t),Yc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=new Tl(5e3,15e3),VA="__/auth/iframe",jA="emulator/auth/iframe",FA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BA(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pg(e,jA):`https://${t.config.authDomain}/${VA}`,r={apiKey:e.apiKey,appName:t.name,v:mi},s=UA.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${kl(r).slice(1)}`}async function $A(t){const e=await OA(t),n=Vn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:BA(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FA,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Ln(t,"network-request-failed"),a=Vn().setTimeout(()=>{i(o)},LA.get());function l(){Vn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zA=500,HA=600,YA="_blank",KA="http://localhost";class o_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qA(t,e,n,r=zA,s=HA){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},WA),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Ct().toLowerCase();n&&(a=Gk(u)?YA:n),qk(u)&&(e=e||KA,l.scrollbars="yes");const d=Object.entries(l).reduce((g,[y,_])=>`${g}${y}=${_},`,"");if(fN(u)&&a!=="_self")return QA(e||"",a),new o_(null);const f=window.open(e||"",a,d);Z(f,t,"popup-blocked");try{f.focus()}catch{}return new o_(f)}function QA(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="__/auth/handler",XA="emulator/auth/handler",JA=encodeURIComponent("fac");async function a_(t,e,n,r,s,i){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mi,eventId:s};if(e instanceof oT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",MP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Il){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${JA}=${encodeURIComponent(l)}`:"";return`${ZA(t)}?${kl(a).slice(1)}${u}`}function ZA({config:t}){return t.emulator?pg(t,XA):`https://${t.authDomain}/${GA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf="webStorageSupport";class e2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fT,this._completeRedirectFn=xA,this._overrideRedirectResult=EA}async _openPopup(e,n,r,s){var i;wr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await a_(e,n,r,Np(),s);return qA(e,o,_g())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await a_(e,n,r,Np(),s);return rA(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(wr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $A(e),r=new SA(e);return n.register("authEvent",s=>(Z(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cf,{type:cf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[cf];o!==void 0&&n(!!o),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tT()||Qk()||gg()}}const t2=e2;var l_="@firebase/auth",c_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s2(t){ti(new ps("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nT(t)},u=new _N(r,s,i,l);return DN(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ti(new ps("auth-internal",e=>{const n=gi(e.getProvider("auth").getImmediate());return(r=>new n2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(l_,c_,r2(t)),On(l_,c_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=5*60,o2=Nk("authIdTokenMaxAge")||i2;let u_=null;const a2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>o2)return;const s=n==null?void 0:n.token;u_!==s&&(u_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function l2(t=dg()){const e=Rd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=CN(t,{popupRedirectResolver:t2,persistence:[hA,eA,fT]}),r=Nk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=a2(i.toString());QN(n,o,()=>o(n.currentUser)),qN(n,a=>o(a))}}const s=Dk("auth");return s&&PN(n,`http://${s}`),n}function c2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ln("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",c2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s2("Browser");var d_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var os,wT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function b(){}b.prototype=w.prototype,x.D=w.prototype,x.prototype=new b,x.prototype.constructor=x,x.C=function(D,R,A){for(var P=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)P[ae-2]=arguments[ae];return w.prototype[R].apply(D,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,w,b){b||(b=0);var D=Array(16);if(typeof w=="string")for(var R=0;16>R;++R)D[R]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(R=0;16>R;++R)D[R]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=x.g[0],b=x.g[1],R=x.g[2];var A=x.g[3],P=w+(A^b&(R^A))+D[0]+3614090360&4294967295;w=b+(P<<7&4294967295|P>>>25),P=A+(R^w&(b^R))+D[1]+3905402710&4294967295,A=w+(P<<12&4294967295|P>>>20),P=R+(b^A&(w^b))+D[2]+606105819&4294967295,R=A+(P<<17&4294967295|P>>>15),P=b+(w^R&(A^w))+D[3]+3250441966&4294967295,b=R+(P<<22&4294967295|P>>>10),P=w+(A^b&(R^A))+D[4]+4118548399&4294967295,w=b+(P<<7&4294967295|P>>>25),P=A+(R^w&(b^R))+D[5]+1200080426&4294967295,A=w+(P<<12&4294967295|P>>>20),P=R+(b^A&(w^b))+D[6]+2821735955&4294967295,R=A+(P<<17&4294967295|P>>>15),P=b+(w^R&(A^w))+D[7]+4249261313&4294967295,b=R+(P<<22&4294967295|P>>>10),P=w+(A^b&(R^A))+D[8]+1770035416&4294967295,w=b+(P<<7&4294967295|P>>>25),P=A+(R^w&(b^R))+D[9]+2336552879&4294967295,A=w+(P<<12&4294967295|P>>>20),P=R+(b^A&(w^b))+D[10]+4294925233&4294967295,R=A+(P<<17&4294967295|P>>>15),P=b+(w^R&(A^w))+D[11]+2304563134&4294967295,b=R+(P<<22&4294967295|P>>>10),P=w+(A^b&(R^A))+D[12]+1804603682&4294967295,w=b+(P<<7&4294967295|P>>>25),P=A+(R^w&(b^R))+D[13]+4254626195&4294967295,A=w+(P<<12&4294967295|P>>>20),P=R+(b^A&(w^b))+D[14]+2792965006&4294967295,R=A+(P<<17&4294967295|P>>>15),P=b+(w^R&(A^w))+D[15]+1236535329&4294967295,b=R+(P<<22&4294967295|P>>>10),P=w+(R^A&(b^R))+D[1]+4129170786&4294967295,w=b+(P<<5&4294967295|P>>>27),P=A+(b^R&(w^b))+D[6]+3225465664&4294967295,A=w+(P<<9&4294967295|P>>>23),P=R+(w^b&(A^w))+D[11]+643717713&4294967295,R=A+(P<<14&4294967295|P>>>18),P=b+(A^w&(R^A))+D[0]+3921069994&4294967295,b=R+(P<<20&4294967295|P>>>12),P=w+(R^A&(b^R))+D[5]+3593408605&4294967295,w=b+(P<<5&4294967295|P>>>27),P=A+(b^R&(w^b))+D[10]+38016083&4294967295,A=w+(P<<9&4294967295|P>>>23),P=R+(w^b&(A^w))+D[15]+3634488961&4294967295,R=A+(P<<14&4294967295|P>>>18),P=b+(A^w&(R^A))+D[4]+3889429448&4294967295,b=R+(P<<20&4294967295|P>>>12),P=w+(R^A&(b^R))+D[9]+568446438&4294967295,w=b+(P<<5&4294967295|P>>>27),P=A+(b^R&(w^b))+D[14]+3275163606&4294967295,A=w+(P<<9&4294967295|P>>>23),P=R+(w^b&(A^w))+D[3]+4107603335&4294967295,R=A+(P<<14&4294967295|P>>>18),P=b+(A^w&(R^A))+D[8]+1163531501&4294967295,b=R+(P<<20&4294967295|P>>>12),P=w+(R^A&(b^R))+D[13]+2850285829&4294967295,w=b+(P<<5&4294967295|P>>>27),P=A+(b^R&(w^b))+D[2]+4243563512&4294967295,A=w+(P<<9&4294967295|P>>>23),P=R+(w^b&(A^w))+D[7]+1735328473&4294967295,R=A+(P<<14&4294967295|P>>>18),P=b+(A^w&(R^A))+D[12]+2368359562&4294967295,b=R+(P<<20&4294967295|P>>>12),P=w+(b^R^A)+D[5]+4294588738&4294967295,w=b+(P<<4&4294967295|P>>>28),P=A+(w^b^R)+D[8]+2272392833&4294967295,A=w+(P<<11&4294967295|P>>>21),P=R+(A^w^b)+D[11]+1839030562&4294967295,R=A+(P<<16&4294967295|P>>>16),P=b+(R^A^w)+D[14]+4259657740&4294967295,b=R+(P<<23&4294967295|P>>>9),P=w+(b^R^A)+D[1]+2763975236&4294967295,w=b+(P<<4&4294967295|P>>>28),P=A+(w^b^R)+D[4]+1272893353&4294967295,A=w+(P<<11&4294967295|P>>>21),P=R+(A^w^b)+D[7]+4139469664&4294967295,R=A+(P<<16&4294967295|P>>>16),P=b+(R^A^w)+D[10]+3200236656&4294967295,b=R+(P<<23&4294967295|P>>>9),P=w+(b^R^A)+D[13]+681279174&4294967295,w=b+(P<<4&4294967295|P>>>28),P=A+(w^b^R)+D[0]+3936430074&4294967295,A=w+(P<<11&4294967295|P>>>21),P=R+(A^w^b)+D[3]+3572445317&4294967295,R=A+(P<<16&4294967295|P>>>16),P=b+(R^A^w)+D[6]+76029189&4294967295,b=R+(P<<23&4294967295|P>>>9),P=w+(b^R^A)+D[9]+3654602809&4294967295,w=b+(P<<4&4294967295|P>>>28),P=A+(w^b^R)+D[12]+3873151461&4294967295,A=w+(P<<11&4294967295|P>>>21),P=R+(A^w^b)+D[15]+530742520&4294967295,R=A+(P<<16&4294967295|P>>>16),P=b+(R^A^w)+D[2]+3299628645&4294967295,b=R+(P<<23&4294967295|P>>>9),P=w+(R^(b|~A))+D[0]+4096336452&4294967295,w=b+(P<<6&4294967295|P>>>26),P=A+(b^(w|~R))+D[7]+1126891415&4294967295,A=w+(P<<10&4294967295|P>>>22),P=R+(w^(A|~b))+D[14]+2878612391&4294967295,R=A+(P<<15&4294967295|P>>>17),P=b+(A^(R|~w))+D[5]+4237533241&4294967295,b=R+(P<<21&4294967295|P>>>11),P=w+(R^(b|~A))+D[12]+1700485571&4294967295,w=b+(P<<6&4294967295|P>>>26),P=A+(b^(w|~R))+D[3]+2399980690&4294967295,A=w+(P<<10&4294967295|P>>>22),P=R+(w^(A|~b))+D[10]+4293915773&4294967295,R=A+(P<<15&4294967295|P>>>17),P=b+(A^(R|~w))+D[1]+2240044497&4294967295,b=R+(P<<21&4294967295|P>>>11),P=w+(R^(b|~A))+D[8]+1873313359&4294967295,w=b+(P<<6&4294967295|P>>>26),P=A+(b^(w|~R))+D[15]+4264355552&4294967295,A=w+(P<<10&4294967295|P>>>22),P=R+(w^(A|~b))+D[6]+2734768916&4294967295,R=A+(P<<15&4294967295|P>>>17),P=b+(A^(R|~w))+D[13]+1309151649&4294967295,b=R+(P<<21&4294967295|P>>>11),P=w+(R^(b|~A))+D[4]+4149444226&4294967295,w=b+(P<<6&4294967295|P>>>26),P=A+(b^(w|~R))+D[11]+3174756917&4294967295,A=w+(P<<10&4294967295|P>>>22),P=R+(w^(A|~b))+D[2]+718787259&4294967295,R=A+(P<<15&4294967295|P>>>17),P=b+(A^(R|~w))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(R+(P<<21&4294967295|P>>>11))&4294967295,x.g[2]=x.g[2]+R&4294967295,x.g[3]=x.g[3]+A&4294967295}r.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var b=w-this.blockSize,D=this.B,R=this.h,A=0;A<w;){if(R==0)for(;A<=b;)s(this,x,A),A+=this.blockSize;if(typeof x=="string"){for(;A<w;)if(D[R++]=x.charCodeAt(A++),R==this.blockSize){s(this,D),R=0;break}}else for(;A<w;)if(D[R++]=x[A++],R==this.blockSize){s(this,D),R=0;break}}this.h=R,this.o+=w},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var b=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=b&255,b/=256;for(this.u(x),x=Array(16),w=b=0;4>w;++w)for(var D=0;32>D;D+=8)x[b++]=this.g[w]>>>D&255;return x};function i(x,w){var b=a;return Object.prototype.hasOwnProperty.call(b,x)?b[x]:b[x]=w(x)}function o(x,w){this.h=w;for(var b=[],D=!0,R=x.length-1;0<=R;R--){var A=x[R]|0;D&&A==w||(b[R]=A,D=!1)}this.g=b}var a={};function l(x){return-128<=x&&128>x?i(x,function(w){return new o([w|0],0>w?-1:0)}):new o([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return f;if(0>x)return C(u(-x));for(var w=[],b=1,D=0;x>=b;D++)w[D]=x/b|0,b*=4294967296;return new o(w,0)}function d(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return C(d(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(w,8)),D=f,R=0;R<x.length;R+=8){var A=Math.min(8,x.length-R),P=parseInt(x.substring(R,R+A),w);8>A?(A=u(Math.pow(w,A)),D=D.j(A).add(u(P))):(D=D.j(b),D=D.add(u(P)))}return D}var f=l(0),g=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(I(this))return-C(this).m();for(var x=0,w=1,b=0;b<this.g.length;b++){var D=this.i(b);x+=(0<=D?D:4294967296+D)*w,w*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(_(this))return"0";if(I(this))return"-"+C(this).toString(x);for(var w=u(Math.pow(x,6)),b=this,D="";;){var R=N(b,w).g;b=E(b,R.j(w));var A=((0<b.g.length?b.g[0]:b.h)>>>0).toString(x);if(b=R,_(b))return A+D;for(;6>A.length;)A="0"+A;D=A+D}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function _(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function I(x){return x.h==-1}t.l=function(x){return x=E(this,x),I(x)?-1:_(x)?0:1};function C(x){for(var w=x.g.length,b=[],D=0;D<w;D++)b[D]=~x.g[D];return new o(b,~x.h).add(g)}t.abs=function(){return I(this)?C(this):this},t.add=function(x){for(var w=Math.max(this.g.length,x.g.length),b=[],D=0,R=0;R<=w;R++){var A=D+(this.i(R)&65535)+(x.i(R)&65535),P=(A>>>16)+(this.i(R)>>>16)+(x.i(R)>>>16);D=P>>>16,A&=65535,P&=65535,b[R]=P<<16|A}return new o(b,b[b.length-1]&-2147483648?-1:0)};function E(x,w){return x.add(C(w))}t.j=function(x){if(_(this)||_(x))return f;if(I(this))return I(x)?C(this).j(C(x)):C(C(this).j(x));if(I(x))return C(this.j(C(x)));if(0>this.l(y)&&0>x.l(y))return u(this.m()*x.m());for(var w=this.g.length+x.g.length,b=[],D=0;D<2*w;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(var R=0;R<x.g.length;R++){var A=this.i(D)>>>16,P=this.i(D)&65535,ae=x.i(R)>>>16,Ge=x.i(R)&65535;b[2*D+2*R]+=P*Ge,v(b,2*D+2*R),b[2*D+2*R+1]+=A*Ge,v(b,2*D+2*R+1),b[2*D+2*R+1]+=P*ae,v(b,2*D+2*R+1),b[2*D+2*R+2]+=A*ae,v(b,2*D+2*R+2)}for(D=0;D<w;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=w;D<2*w;D++)b[D]=0;return new o(b,0)};function v(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function T(x,w){this.g=x,this.h=w}function N(x,w){if(_(w))throw Error("division by zero");if(_(x))return new T(f,f);if(I(x))return w=N(C(x),w),new T(C(w.g),C(w.h));if(I(w))return w=N(x,C(w)),new T(C(w.g),w.h);if(30<x.g.length){if(I(x)||I(w))throw Error("slowDivide_ only works with positive integers.");for(var b=g,D=w;0>=D.l(x);)b=j(b),D=j(D);var R=F(b,1),A=F(D,1);for(D=F(D,2),b=F(b,2);!_(D);){var P=A.add(D);0>=P.l(x)&&(R=R.add(b),A=P),D=F(D,1),b=F(b,1)}return w=E(x,R.j(w)),new T(R,w)}for(R=f;0<=x.l(w);){for(b=Math.max(1,Math.floor(x.m()/w.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),A=u(b),P=A.j(w);I(P)||0<P.l(x);)b-=D,A=u(b),P=A.j(w);_(A)&&(A=g),R=R.add(A),x=E(x,P)}return new T(R,x)}t.A=function(x){return N(this,x).h},t.and=function(x){for(var w=Math.max(this.g.length,x.g.length),b=[],D=0;D<w;D++)b[D]=this.i(D)&x.i(D);return new o(b,this.h&x.h)},t.or=function(x){for(var w=Math.max(this.g.length,x.g.length),b=[],D=0;D<w;D++)b[D]=this.i(D)|x.i(D);return new o(b,this.h|x.h)},t.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),b=[],D=0;D<w;D++)b[D]=this.i(D)^x.i(D);return new o(b,this.h^x.h)};function j(x){for(var w=x.g.length+1,b=[],D=0;D<w;D++)b[D]=x.i(D)<<1|x.i(D-1)>>>31;return new o(b,x.h)}function F(x,w){var b=w>>5;w%=32;for(var D=x.g.length-b,R=[],A=0;A<D;A++)R[A]=0<w?x.i(A+b)>>>w|x.i(A+b+1)<<32-w:x.i(A+b);return new o(R,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,os=o}).apply(typeof d_<"u"?d_:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ET,fa,kT,Kc,Lp,TT,xT,IT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,h,m){return c==Array.prototype||c==Object.prototype||(c[h]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var h=0;h<c.length;++h){var m=c[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(c,h){if(h)e:{var m=r;c=c.split(".");for(var k=0;k<c.length-1;k++){var M=c[k];if(!(M in m))break e;m=m[M]}c=c[c.length-1],k=m[c],h=h(k),h!=k&&h!=null&&e(m,c,{configurable:!0,writable:!0,value:h})}}function i(c,h){c instanceof String&&(c+="");var m=0,k=!1,M={next:function(){if(!k&&m<c.length){var V=m++;return{value:h(V,c[V]),done:!1}}return k=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(c){return c||function(){return i(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var h=typeof c;return h=h!="object"?h:c?Array.isArray(c)?"array":h:"null",h=="array"||h=="object"&&typeof c.length=="number"}function u(c){var h=typeof c;return h=="object"&&c!=null||h=="function"}function d(c,h,m){return c.call.apply(c.bind,arguments)}function f(c,h,m){if(!c)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,k),c.apply(h,M)}}return function(){return c.apply(h,arguments)}}function g(c,h,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function y(c,h){var m=Array.prototype.slice.call(arguments,1);return function(){var k=m.slice();return k.push.apply(k,arguments),c.apply(this,k)}}function _(c,h){function m(){}m.prototype=h.prototype,c.aa=h.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(k,M,V){for(var z=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)z[Ee-2]=arguments[Ee];return h.prototype[M].apply(k,z)}}function I(c){const h=c.length;if(0<h){const m=Array(h);for(let k=0;k<h;k++)m[k]=c[k];return m}return[]}function C(c,h){for(let m=1;m<arguments.length;m++){const k=arguments[m];if(l(k)){const M=c.length||0,V=k.length||0;c.length=M+V;for(let z=0;z<V;z++)c[M+z]=k[z]}else c.push(k)}}class E{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function v(c){return/^[\s\xa0]*$/.test(c)}function T(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function N(c){return N[" "](c),c}N[" "]=function(){};var j=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function F(c,h,m){for(const k in c)h.call(m,c[k],k,c)}function x(c,h){for(const m in c)h.call(void 0,c[m],m,c)}function w(c){const h={};for(const m in c)h[m]=c[m];return h}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,h){let m,k;for(let M=1;M<arguments.length;M++){k=arguments[M];for(m in k)c[m]=k[m];for(let V=0;V<b.length;V++)m=b[V],Object.prototype.hasOwnProperty.call(k,m)&&(c[m]=k[m])}}function R(c){var h=1;c=c.split(":");const m=[];for(;0<h&&c.length;)m.push(c.shift()),h--;return c.length&&m.push(c.join(":")),m}function A(c){a.setTimeout(()=>{throw c},0)}function P(){var c=Q;let h=null;return c.g&&(h=c.g,c.g=c.g.next,c.g||(c.h=null),h.next=null),h}class ae{constructor(){this.h=this.g=null}add(h,m){const k=Ge.get();k.set(h,m),this.h?this.h.next=k:this.g=k,this.h=k}}var Ge=new E(()=>new xe,c=>c.reset());class xe{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,$=!1,Q=new ae,J=()=>{const c=a.Promise.resolve(void 0);ke=()=>{c.then(Re)}};var Re=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(m){A(m)}var h=Ge;h.j(c),100>h.h&&(h.h++,c.next=h.g,h.g=c)}$=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $e(c,h){this.type=c,this.g=this.target=h,this.defaultPrevented=!1}$e.prototype.h=function(){this.defaultPrevented=!0};var Qn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,h=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return c}();function Gn(c,h){if($e.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,k=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=h,h=c.relatedTarget){if(j){e:{try{N(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else m=="mouseover"?h=c.fromElement:m=="mouseout"&&(h=c.toElement);this.relatedTarget=h,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Xn[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Gn.aa.h.call(this)}}_(Gn,$e);var Xn={2:"touch",3:"pen",4:"mouse"};Gn.prototype.h=function(){Gn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Jn="closure_listenable_"+(1e6*Math.random()|0),lS=0;function cS(c,h,m,k,M){this.listener=c,this.proxy=null,this.src=h,this.type=m,this.capture=!!k,this.ha=M,this.key=++lS,this.da=this.fa=!1}function Ol(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ll(c){this.src=c,this.g={},this.h=0}Ll.prototype.add=function(c,h,m,k,M){var V=c.toString();c=this.g[V],c||(c=this.g[V]=[],this.h++);var z=ah(c,h,k,M);return-1<z?(h=c[z],m||(h.fa=!1)):(h=new cS(h,this.src,V,!!k,M),h.fa=m,c.push(h)),h};function oh(c,h){var m=h.type;if(m in c.g){var k=c.g[m],M=Array.prototype.indexOf.call(k,h,void 0),V;(V=0<=M)&&Array.prototype.splice.call(k,M,1),V&&(Ol(h),c.g[m].length==0&&(delete c.g[m],c.h--))}}function ah(c,h,m,k){for(var M=0;M<c.length;++M){var V=c[M];if(!V.da&&V.listener==h&&V.capture==!!m&&V.ha==k)return M}return-1}var lh="closure_lm_"+(1e6*Math.random()|0),ch={};function wy(c,h,m,k,M){if(Array.isArray(h)){for(var V=0;V<h.length;V++)wy(c,h[V],m,k,M);return null}return m=Ty(m),c&&c[Jn]?c.K(h,m,u(k)?!!k.capture:!!k,M):uS(c,h,m,!1,k,M)}function uS(c,h,m,k,M,V){if(!h)throw Error("Invalid event type");var z=u(M)?!!M.capture:!!M,Ee=dh(c);if(Ee||(c[lh]=Ee=new Ll(c)),m=Ee.add(h,m,k,z,V),m.proxy)return m;if(k=dS(),m.proxy=k,k.src=c,k.listener=m,c.addEventListener)Qn||(M=z),M===void 0&&(M=!1),c.addEventListener(h.toString(),k,M);else if(c.attachEvent)c.attachEvent(ky(h.toString()),k);else if(c.addListener&&c.removeListener)c.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return m}function dS(){function c(m){return h.call(c.src,c.listener,m)}const h=hS;return c}function Ey(c,h,m,k,M){if(Array.isArray(h))for(var V=0;V<h.length;V++)Ey(c,h[V],m,k,M);else k=u(k)?!!k.capture:!!k,m=Ty(m),c&&c[Jn]?(c=c.i,h=String(h).toString(),h in c.g&&(V=c.g[h],m=ah(V,m,k,M),-1<m&&(Ol(V[m]),Array.prototype.splice.call(V,m,1),V.length==0&&(delete c.g[h],c.h--)))):c&&(c=dh(c))&&(h=c.g[h.toString()],c=-1,h&&(c=ah(h,m,k,M)),(m=-1<c?h[c]:null)&&uh(m))}function uh(c){if(typeof c!="number"&&c&&!c.da){var h=c.src;if(h&&h[Jn])oh(h.i,c);else{var m=c.type,k=c.proxy;h.removeEventListener?h.removeEventListener(m,k,c.capture):h.detachEvent?h.detachEvent(ky(m),k):h.addListener&&h.removeListener&&h.removeListener(k),(m=dh(h))?(oh(m,c),m.h==0&&(m.src=null,h[lh]=null)):Ol(c)}}}function ky(c){return c in ch?ch[c]:ch[c]="on"+c}function hS(c,h){if(c.da)c=!0;else{h=new Gn(h,this);var m=c.listener,k=c.ha||c.src;c.fa&&uh(c),c=m.call(k,h)}return c}function dh(c){return c=c[lh],c instanceof Ll?c:null}var hh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ty(c){return typeof c=="function"?c:(c[hh]||(c[hh]=function(h){return c.handleEvent(h)}),c[hh])}function vt(){we.call(this),this.i=new Ll(this),this.M=this,this.F=null}_(vt,we),vt.prototype[Jn]=!0,vt.prototype.removeEventListener=function(c,h,m,k){Ey(this,c,h,m,k)};function Dt(c,h){var m,k=c.F;if(k)for(m=[];k;k=k.F)m.push(k);if(c=c.M,k=h.type||h,typeof h=="string")h=new $e(h,c);else if(h instanceof $e)h.target=h.target||c;else{var M=h;h=new $e(k,c),D(h,M)}if(M=!0,m)for(var V=m.length-1;0<=V;V--){var z=h.g=m[V];M=Vl(z,k,!0,h)&&M}if(z=h.g=c,M=Vl(z,k,!0,h)&&M,M=Vl(z,k,!1,h)&&M,m)for(V=0;V<m.length;V++)z=h.g=m[V],M=Vl(z,k,!1,h)&&M}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var c=this.i,h;for(h in c.g){for(var m=c.g[h],k=0;k<m.length;k++)Ol(m[k]);delete c.g[h],c.h--}}this.F=null},vt.prototype.K=function(c,h,m,k){return this.i.add(String(c),h,!1,m,k)},vt.prototype.L=function(c,h,m,k){return this.i.add(String(c),h,!0,m,k)};function Vl(c,h,m,k){if(h=c.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,V=0;V<h.length;++V){var z=h[V];if(z&&!z.da&&z.capture==m){var Ee=z.listener,ut=z.ha||z.src;z.fa&&oh(c.i,z),M=Ee.call(ut,k)!==!1&&M}}return M&&!k.defaultPrevented}function xy(c,h,m){if(typeof c=="function")m&&(c=g(c,m));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(c,h||0)}function Iy(c){c.g=xy(()=>{c.g=null,c.i&&(c.i=!1,Iy(c))},c.l);const h=c.h;c.h=null,c.m.apply(null,h)}class fS extends we{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Iy(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lo(c){we.call(this),this.h=c,this.g={}}_(Lo,we);var Sy=[];function by(c){F(c.g,function(h,m){this.g.hasOwnProperty(m)&&uh(h)},c),c.g={}}Lo.prototype.N=function(){Lo.aa.N.call(this),by(this)},Lo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fh=a.JSON.stringify,pS=a.JSON.parse,mS=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ph(){}ph.prototype.h=null;function Cy(c){return c.h||(c.h=c.i())}function Dy(){}var Vo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mh(){$e.call(this,"d")}_(mh,$e);function gh(){$e.call(this,"c")}_(gh,$e);var Ps={},Py=null;function jl(){return Py=Py||new vt}Ps.La="serverreachability";function Ry(c){$e.call(this,Ps.La,c)}_(Ry,$e);function jo(c){const h=jl();Dt(h,new Ry(h))}Ps.STAT_EVENT="statevent";function Ny(c,h){$e.call(this,Ps.STAT_EVENT,c),this.stat=h}_(Ny,$e);function Pt(c){const h=jl();Dt(h,new Ny(h,c))}Ps.Ma="timingevent";function Ay(c,h){$e.call(this,Ps.Ma,c),this.size=h}_(Ay,$e);function Fo(c,h){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},h)}function Uo(){this.g=!0}Uo.prototype.xa=function(){this.g=!1};function gS(c,h,m,k,M,V){c.info(function(){if(c.g)if(V)for(var z="",Ee=V.split("&"),ut=0;ut<Ee.length;ut++){var he=Ee[ut].split("=");if(1<he.length){var _t=he[0];he=he[1];var wt=_t.split("_");z=2<=wt.length&&wt[1]=="type"?z+(_t+"="+he+"&"):z+(_t+"=redacted&")}}else z=null;else z=V;return"XMLHTTP REQ ("+k+") [attempt "+M+"]: "+h+`
`+m+`
`+z})}function yS(c,h,m,k,M,V,z){c.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+M+"]: "+h+`
`+m+`
`+V+" "+z})}function ki(c,h,m,k){c.info(function(){return"XMLHTTP TEXT ("+h+"): "+_S(c,m)+(k?" "+k:"")})}function vS(c,h){c.info(function(){return"TIMEOUT: "+h})}Uo.prototype.info=function(){};function _S(c,h){if(!c.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var k=m[c];if(!(2>k.length)){var M=k[1];if(Array.isArray(M)&&!(1>M.length)){var V=M[0];if(V!="noop"&&V!="stop"&&V!="close")for(var z=1;z<M.length;z++)M[z]=""}}}}return fh(m)}catch{return h}}var Fl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},My={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yh;function Ul(){}_(Ul,ph),Ul.prototype.g=function(){return new XMLHttpRequest},Ul.prototype.i=function(){return{}},yh=new Ul;function br(c,h,m,k){this.j=c,this.i=h,this.l=m,this.R=k||1,this.U=new Lo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oy}function Oy(){this.i=null,this.g="",this.h=!1}var Ly={},vh={};function _h(c,h,m){c.L=1,c.v=zl(Zn(h)),c.m=m,c.P=!0,Vy(c,null)}function Vy(c,h){c.F=Date.now(),Bl(c),c.A=Zn(c.v);var m=c.A,k=c.R;Array.isArray(k)||(k=[String(k)]),Xy(m.i,"t",k),c.C=0,m=c.j.J,c.h=new Oy,c.g=mv(c.j,m?h:null,!c.m),0<c.O&&(c.M=new fS(g(c.Y,c,c.g),c.O)),h=c.U,m=c.g,k=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(Sy[0]=M.toString()),M=Sy);for(var V=0;V<M.length;V++){var z=wy(m,M[V],k||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,h)):(c.u="GET",c.g.ea(c.A,c.u,null,h)),jo(),gS(c.i,c.u,c.A,c.l,c.R,c.m)}br.prototype.ca=function(c){c=c.target;const h=this.M;h&&er(c)==3?h.j():this.Y(c)},br.prototype.Y=function(c){try{if(c==this.g)e:{const wt=er(this.g);var h=this.g.Ba();const Ii=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||sv(this.g)))){this.J||wt!=4||h==7||(h==8||0>=Ii?jo(3):jo(2)),wh(this);var m=this.g.Z();this.X=m;t:if(jy(this)){var k=sv(this.g);c="";var M=k.length,V=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rs(this),Bo(this);var z="";break t}this.h.i=new a.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,c+=this.h.i.decode(k[h],{stream:!(V&&h==M-1)});k.length=0,this.h.g+=c,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=m==200,yS(this.i,this.u,this.A,this.l,this.R,wt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,ut=this.g;if((Ee=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ee)){var he=Ee;break t}}he=null}if(m=he)ki(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Eh(this,m);else{this.o=!1,this.s=3,Pt(12),Rs(this),Bo(this);break e}}if(this.P){m=!0;let fn;for(;!this.J&&this.C<z.length;)if(fn=wS(this,z),fn==vh){wt==4&&(this.s=4,Pt(14),m=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Ly){this.s=4,Pt(15),ki(this.i,this.l,z,"[Invalid Chunk]"),m=!1;break}else ki(this.i,this.l,fn,null),Eh(this,fn);if(jy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||z.length!=0||this.h.h||(this.s=1,Pt(16),m=!1),this.o=this.o&&m,!m)ki(this.i,this.l,z,"[Invalid Chunked Response]"),Rs(this),Bo(this);else if(0<z.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),bh(_t),_t.M=!0,Pt(11))}}else ki(this.i,this.l,z,null),Eh(this,z);wt==4&&Rs(this),this.o&&!this.J&&(wt==4?dv(this.j,this):(this.o=!1,Bl(this)))}else VS(this.g),m==400&&0<z.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Rs(this),Bo(this)}}}catch{}finally{}};function jy(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function wS(c,h){var m=c.C,k=h.indexOf(`
`,m);return k==-1?vh:(m=Number(h.substring(m,k)),isNaN(m)?Ly:(k+=1,k+m>h.length?vh:(h=h.slice(k,k+m),c.C=k+m,h)))}br.prototype.cancel=function(){this.J=!0,Rs(this)};function Bl(c){c.S=Date.now()+c.I,Fy(c,c.I)}function Fy(c,h){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Fo(g(c.ba,c),h)}function wh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}br.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(vS(this.i,this.A),this.L!=2&&(jo(),Pt(17)),Rs(this),this.s=2,Bo(this)):Fy(this,this.S-c)};function Bo(c){c.j.G==0||c.J||dv(c.j,c)}function Rs(c){wh(c);var h=c.M;h&&typeof h.ma=="function"&&h.ma(),c.M=null,by(c.U),c.g&&(h=c.g,c.g=null,h.abort(),h.ma())}function Eh(c,h){try{var m=c.j;if(m.G!=0&&(m.g==c||kh(m.h,c))){if(!c.K&&kh(m.h,c)&&m.G==3){try{var k=m.Da.g.parse(h)}catch{k=null}if(Array.isArray(k)&&k.length==3){var M=k;if(M[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Gl(m),ql(m);else break e;Sh(m),Pt(18)}}else m.za=M[1],0<m.za-m.T&&37500>M[2]&&m.F&&m.v==0&&!m.C&&(m.C=Fo(g(m.Za,m),6e3));if(1>=$y(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else As(m,11)}else if((c.K||m.g==c)&&Gl(m),!v(h))for(M=m.Da.g.parse(h),h=0;h<M.length;h++){let he=M[h];if(m.T=he[0],he=he[1],m.G==2)if(he[0]=="c"){m.K=he[1],m.ia=he[2];const _t=he[3];_t!=null&&(m.la=_t,m.j.info("VER="+m.la));const wt=he[4];wt!=null&&(m.Aa=wt,m.j.info("SVER="+m.Aa));const Ii=he[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(k=1.5*Ii,m.L=k,m.j.info("backChannelRequestTimeoutMs_="+k)),k=m;const fn=c.g;if(fn){const Jl=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jl){var V=k.h;V.g||Jl.indexOf("spdy")==-1&&Jl.indexOf("quic")==-1&&Jl.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Th(V,V.h),V.h=null))}if(k.D){const Ch=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ch&&(k.ya=Ch,Ie(k.I,k.D,Ch))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),k=m;var z=c;if(k.qa=pv(k,k.J?k.ia:null,k.W),z.K){Wy(k.h,z);var Ee=z,ut=k.L;ut&&(Ee.I=ut),Ee.B&&(wh(Ee),Bl(Ee)),k.g=z}else cv(k);0<m.i.length&&Ql(m)}else he[0]!="stop"&&he[0]!="close"||As(m,7);else m.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?As(m,7):Ih(m):he[0]!="noop"&&m.l&&m.l.ta(he),m.v=0)}}jo(4)}catch{}}var ES=class{constructor(c,h){this.g=c,this.map=h}};function Uy(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function By(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $y(c){return c.h?1:c.g?c.g.size:0}function kh(c,h){return c.h?c.h==h:c.g?c.g.has(h):!1}function Th(c,h){c.g?c.g.add(h):c.h=h}function Wy(c,h){c.h&&c.h==h?c.h=null:c.g&&c.g.has(h)&&c.g.delete(h)}Uy.prototype.cancel=function(){if(this.i=zy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zy(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let h=c.i;for(const m of c.g.values())h=h.concat(m.D);return h}return I(c.i)}function kS(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var h=[],m=c.length,k=0;k<m;k++)h.push(c[k]);return h}h=[],m=0;for(k in c)h[m++]=c[k];return h}function TS(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var h=[];c=c.length;for(var m=0;m<c;m++)h.push(m);return h}h=[],m=0;for(const k in c)h[m++]=k;return h}}}function Hy(c,h){if(c.forEach&&typeof c.forEach=="function")c.forEach(h,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,h,void 0);else for(var m=TS(c),k=kS(c),M=k.length,V=0;V<M;V++)h.call(void 0,k[V],m&&m[V],c)}var Yy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xS(c,h){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var k=c[m].indexOf("="),M=null;if(0<=k){var V=c[m].substring(0,k);M=c[m].substring(k+1)}else V=c[m];h(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Ns(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ns){this.h=c.h,$l(this,c.j),this.o=c.o,this.g=c.g,Wl(this,c.s),this.l=c.l;var h=c.i,m=new zo;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),Ky(this,m),this.m=c.m}else c&&(h=String(c).match(Yy))?(this.h=!1,$l(this,h[1]||"",!0),this.o=$o(h[2]||""),this.g=$o(h[3]||"",!0),Wl(this,h[4]),this.l=$o(h[5]||"",!0),Ky(this,h[6]||"",!0),this.m=$o(h[7]||"")):(this.h=!1,this.i=new zo(null,this.h))}Ns.prototype.toString=function(){var c=[],h=this.j;h&&c.push(Wo(h,qy,!0),":");var m=this.g;return(m||h=="file")&&(c.push("//"),(h=this.o)&&c.push(Wo(h,qy,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(Wo(m,m.charAt(0)=="/"?bS:SS,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",Wo(m,DS)),c.join("")};function Zn(c){return new Ns(c)}function $l(c,h,m){c.j=m?$o(h,!0):h,c.j&&(c.j=c.j.replace(/:$/,""))}function Wl(c,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);c.s=h}else c.s=null}function Ky(c,h,m){h instanceof zo?(c.i=h,PS(c.i,c.h)):(m||(h=Wo(h,CS)),c.i=new zo(h,c.h))}function Ie(c,h,m){c.i.set(h,m)}function zl(c){return Ie(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function $o(c,h){return c?h?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Wo(c,h,m){return typeof c=="string"?(c=encodeURI(c).replace(h,IS),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function IS(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qy=/[#\/\?@]/g,SS=/[#\?:]/g,bS=/[#\?]/g,CS=/[#\?@]/g,DS=/#/g;function zo(c,h){this.h=this.g=null,this.i=c||null,this.j=!!h}function Cr(c){c.g||(c.g=new Map,c.h=0,c.i&&xS(c.i,function(h,m){c.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=zo.prototype,t.add=function(c,h){Cr(this),this.i=null,c=Ti(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(h),this.h+=1,this};function Qy(c,h){Cr(c),h=Ti(c,h),c.g.has(h)&&(c.i=null,c.h-=c.g.get(h).length,c.g.delete(h))}function Gy(c,h){return Cr(c),h=Ti(c,h),c.g.has(h)}t.forEach=function(c,h){Cr(this),this.g.forEach(function(m,k){m.forEach(function(M){c.call(h,M,k,this)},this)},this)},t.na=function(){Cr(this);const c=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let k=0;k<h.length;k++){const M=c[k];for(let V=0;V<M.length;V++)m.push(h[k])}return m},t.V=function(c){Cr(this);let h=[];if(typeof c=="string")Gy(this,c)&&(h=h.concat(this.g.get(Ti(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)h=h.concat(c[m])}return h},t.set=function(c,h){return Cr(this),this.i=null,c=Ti(this,c),Gy(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[h]),this.h+=1,this},t.get=function(c,h){return c?(c=this.V(c),0<c.length?String(c[0]):h):h};function Xy(c,h,m){Qy(c,h),0<m.length&&(c.i=null,c.g.set(Ti(c,h),I(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var k=h[m];const V=encodeURIComponent(String(k)),z=this.V(k);for(k=0;k<z.length;k++){var M=V;z[k]!==""&&(M+="="+encodeURIComponent(String(z[k]))),c.push(M)}}return this.i=c.join("&")};function Ti(c,h){return h=String(h),c.j&&(h=h.toLowerCase()),h}function PS(c,h){h&&!c.j&&(Cr(c),c.i=null,c.g.forEach(function(m,k){var M=k.toLowerCase();k!=M&&(Qy(this,k),Xy(this,M,m))},c)),c.j=h}function RS(c,h){const m=new Uo;if(a.Image){const k=new Image;k.onload=y(Dr,m,"TestLoadImage: loaded",!0,h,k),k.onerror=y(Dr,m,"TestLoadImage: error",!1,h,k),k.onabort=y(Dr,m,"TestLoadImage: abort",!1,h,k),k.ontimeout=y(Dr,m,"TestLoadImage: timeout",!1,h,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=c}else h(!1)}function NS(c,h){const m=new Uo,k=new AbortController,M=setTimeout(()=>{k.abort(),Dr(m,"TestPingServer: timeout",!1,h)},1e4);fetch(c,{signal:k.signal}).then(V=>{clearTimeout(M),V.ok?Dr(m,"TestPingServer: ok",!0,h):Dr(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),Dr(m,"TestPingServer: error",!1,h)})}function Dr(c,h,m,k,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),k(m)}catch{}}function AS(){this.g=new mS}function MS(c,h,m){const k=m||"";try{Hy(c,function(M,V){let z=M;u(M)&&(z=fh(M)),h.push(k+V+"="+encodeURIComponent(z))})}catch(M){throw h.push(k+"type="+encodeURIComponent("_badmap")),M}}function Hl(c){this.l=c.Ub||null,this.j=c.eb||!1}_(Hl,ph),Hl.prototype.g=function(){return new Yl(this.l,this.j)},Hl.prototype.i=function(c){return function(){return c}}({});function Yl(c,h){vt.call(this),this.D=c,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Yl,vt),t=Yl.prototype,t.open=function(c,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=h,this.readyState=1,Yo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(h.body=c),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ho(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yo(this)),this.g&&(this.readyState=3,Yo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jy(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jy(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var h=c.value?c.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!c.done}))&&(this.response=this.responseText+=h)}c.done?Ho(this):Yo(this),this.readyState==3&&Jy(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ho(this))},t.Qa=function(c){this.g&&(this.response=c,Ho(this))},t.ga=function(){this.g&&Ho(this)};function Ho(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Yo(c)}t.setRequestHeader=function(c,h){this.u.append(c,h)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=h.next();return c.join(`\r
`)};function Yo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Zy(c){let h="";return F(c,function(m,k){h+=k,h+=":",h+=m,h+=`\r
`}),h}function xh(c,h,m){e:{for(k in m){var k=!1;break e}k=!0}k||(m=Zy(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):Ie(c,h,m))}function Ve(c){vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Ve,vt);var OS=/^https?$/i,LS=["POST","PUT"];t=Ve.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,h,m,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);h=h?h.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yh.g(),this.v=this.o?Cy(this.o):Cy(yh),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(c),!0),this.B=!1}catch(V){ev(this,V);return}if(c=m||"",m=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var M in k)m.set(M,k[M]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const V of k.keys())m.set(V,k.get(V));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(m.keys()).find(V=>V.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(LS,h,void 0))||k||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,z]of m)this.g.setRequestHeader(V,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rv(this),this.u=!0,this.g.send(c),this.u=!1}catch(V){ev(this,V)}};function ev(c,h){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=h,c.m=5,tv(c),Kl(c)}function tv(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Dt(this,"complete"),Dt(this,"abort"),Kl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kl(this,!0)),Ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nv(this):this.bb())},t.bb=function(){nv(this)};function nv(c){if(c.h&&typeof o<"u"&&(!c.v[1]||er(c)!=4||c.Z()!=2)){if(c.u&&er(c)==4)xy(c.Ea,0,c);else if(Dt(c,"readystatechange"),er(c)==4){c.h=!1;try{const z=c.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var k;if(k=z===0){var M=String(c.D).match(Yy)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),k=!OS.test(M?M.toLowerCase():"")}m=k}if(m)Dt(c,"complete"),Dt(c,"success");else{c.m=6;try{var V=2<er(c)?c.g.statusText:""}catch{V=""}c.l=V+" ["+c.Z()+"]",tv(c)}}finally{Kl(c)}}}}function Kl(c,h){if(c.g){rv(c);const m=c.g,k=c.v[0]?()=>{}:null;c.g=null,c.v=null,h||Dt(c,"ready");try{m.onreadystatechange=k}catch{}}}function rv(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function er(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var h=this.g.responseText;return c&&h.indexOf(c)==0&&(h=h.substring(c.length)),pS(h)}};function sv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function VS(c){const h={};c=(c.g&&2<=er(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<c.length;k++){if(v(c[k]))continue;var m=R(c[k]);const M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const V=h[M]||[];h[M]=V,V.push(m)}x(h,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ko(c,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||h}function iv(c){this.Aa=0,this.i=[],this.j=new Uo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ko("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ko("baseRetryDelayMs",5e3,c),this.cb=Ko("retryDelaySeedMs",1e4,c),this.Wa=Ko("forwardChannelMaxRetries",2,c),this.wa=Ko("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Uy(c&&c.concurrentRequestLimit),this.Da=new AS,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=iv.prototype,t.la=8,t.G=1,t.connect=function(c,h,m,k){Pt(0),this.W=c,this.H=h||{},m&&k!==void 0&&(this.H.OSID=m,this.H.OAID=k),this.F=this.X,this.I=pv(this,null,this.W),Ql(this)};function Ih(c){if(ov(c),c.G==3){var h=c.U++,m=Zn(c.I);if(Ie(m,"SID",c.K),Ie(m,"RID",h),Ie(m,"TYPE","terminate"),qo(c,m),h=new br(c,c.j,h),h.L=2,h.v=zl(Zn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=mv(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Bl(h)}fv(c)}function ql(c){c.g&&(bh(c),c.g.cancel(),c.g=null)}function ov(c){ql(c),c.u&&(a.clearTimeout(c.u),c.u=null),Gl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ql(c){if(!By(c.h)&&!c.s){c.s=!0;var h=c.Ga;ke||J(),$||(ke(),$=!0),Q.add(h,c),c.B=0}}function jS(c,h){return $y(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=h.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Fo(g(c.Ga,c,h),hv(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new br(this,this.j,c);let V=this.o;if(this.S&&(V?(V=w(V),D(V,this.S)):V=this.S),this.m!==null||this.O||(M.H=V,V=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var k=this.i[m];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(h+=k,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=lv(this,M,h),m=Zn(this.I),Ie(m,"RID",c),Ie(m,"CVER",22),this.D&&Ie(m,"X-HTTP-Session-Id",this.D),qo(this,m),V&&(this.O?h="headers="+encodeURIComponent(String(Zy(V)))+"&"+h:this.m&&xh(m,this.m,V)),Th(this.h,M),this.Ua&&Ie(m,"TYPE","init"),this.P?(Ie(m,"$req",h),Ie(m,"SID","null"),M.T=!0,_h(M,m,null)):_h(M,m,h),this.G=2}}else this.G==3&&(c?av(this,c):this.i.length==0||By(this.h)||av(this))};function av(c,h){var m;h?m=h.l:m=c.U++;const k=Zn(c.I);Ie(k,"SID",c.K),Ie(k,"RID",m),Ie(k,"AID",c.T),qo(c,k),c.m&&c.o&&xh(k,c.m,c.o),m=new br(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),h&&(c.i=h.D.concat(c.i)),h=lv(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Th(c.h,m),_h(m,k,h)}function qo(c,h){c.H&&F(c.H,function(m,k){Ie(h,k,m)}),c.l&&Hy({},function(m,k){Ie(h,k,m)})}function lv(c,h,m){m=Math.min(c.i.length,m);var k=c.l?g(c.l.Na,c.l,c):null;e:{var M=c.i;let V=-1;for(;;){const z=["count="+m];V==-1?0<m?(V=M[0].g,z.push("ofs="+V)):V=0:z.push("ofs="+V);let Ee=!0;for(let ut=0;ut<m;ut++){let he=M[ut].g;const _t=M[ut].map;if(he-=V,0>he)V=Math.max(0,M[ut].g-100),Ee=!1;else try{MS(_t,z,"req"+he+"_")}catch{k&&k(_t)}}if(Ee){k=z.join("&");break e}}}return c=c.i.splice(0,m),h.D=c,k}function cv(c){if(!c.g&&!c.u){c.Y=1;var h=c.Fa;ke||J(),$||(ke(),$=!0),Q.add(h,c),c.v=0}}function Sh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Fo(g(c.Fa,c),hv(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,uv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Fo(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),ql(this),uv(this))};function bh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function uv(c){c.g=new br(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var h=Zn(c.qa);Ie(h,"RID","rpc"),Ie(h,"SID",c.K),Ie(h,"AID",c.T),Ie(h,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ie(h,"TO",c.ja),Ie(h,"TYPE","xmlhttp"),qo(c,h),c.m&&c.o&&xh(h,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=zl(Zn(h)),m.m=null,m.P=!0,Vy(m,c)}t.Za=function(){this.C!=null&&(this.C=null,ql(this),Sh(this),Pt(19))};function Gl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function dv(c,h){var m=null;if(c.g==h){Gl(c),bh(c),c.g=null;var k=2}else if(kh(c.h,h))m=h.D,Wy(c.h,h),k=1;else return;if(c.G!=0){if(h.o)if(k==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var M=c.B;k=jl(),Dt(k,new Ay(k,m)),Ql(c)}else cv(c);else if(M=h.s,M==3||M==0&&0<h.X||!(k==1&&jS(c,h)||k==2&&Sh(c)))switch(m&&0<m.length&&(h=c.h,h.i=h.i.concat(m)),M){case 1:As(c,5);break;case 4:As(c,10);break;case 3:As(c,6);break;default:As(c,2)}}}function hv(c,h){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*h}function As(c,h){if(c.j.info("Error code "+h),h==2){var m=g(c.fb,c),k=c.Xa;const M=!k;k=new Ns(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$l(k,"https"),zl(k),M?RS(k.toString(),m):NS(k.toString(),m)}else Pt(2);c.G=0,c.l&&c.l.sa(h),fv(c),ov(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function fv(c){if(c.G=0,c.ka=[],c.l){const h=zy(c.h);(h.length!=0||c.i.length!=0)&&(C(c.ka,h),C(c.ka,c.i),c.h.i.length=0,I(c.i),c.i.length=0),c.l.ra()}}function pv(c,h,m){var k=m instanceof Ns?Zn(m):new Ns(m);if(k.g!="")h&&(k.g=h+"."+k.g),Wl(k,k.s);else{var M=a.location;k=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var V=new Ns(null);k&&$l(V,k),h&&(V.g=h),M&&Wl(V,M),m&&(V.l=m),k=V}return m=c.D,h=c.ya,m&&h&&Ie(k,m,h),Ie(k,"VER",c.la),qo(c,k),k}function mv(c,h,m){if(h&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=c.Ca&&!c.pa?new Ve(new Hl({eb:m})):new Ve(c.pa),h.Ha(c.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gv(){}t=gv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xl(){}Xl.prototype.g=function(c,h){return new Ht(c,h)};function Ht(c,h){vt.call(this),this.g=new iv(h),this.l=c,this.h=h&&h.messageUrlParams||null,c=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(c?c["X-WebChannel-Content-Type"]=h.messageContentType:c={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(c?c["X-WebChannel-Client-Profile"]=h.va:c={"X-WebChannel-Client-Profile":h.va}),this.g.S=c,(c=h&&h.Sb)&&!v(c)&&(this.g.m=c),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!v(h)&&(this.g.D=h,c=this.h,c!==null&&h in c&&(c=this.h,h in c&&delete c[h])),this.j=new xi(this)}_(Ht,vt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Ih(this.g)},Ht.prototype.o=function(c){var h=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=fh(c),c=m);h.i.push(new ES(h.Ya++,c)),h.G==3&&Ql(h)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Ih(this.g),delete this.g,Ht.aa.N.call(this)};function yv(c){mh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var h=c.__sm__;if(h){e:{for(const m in h){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,h=h!==null&&c in h?h[c]:void 0),this.data=h}else this.data=c}_(yv,mh);function vv(){gh.call(this),this.status=1}_(vv,gh);function xi(c){this.g=c}_(xi,gv),xi.prototype.ua=function(){Dt(this.g,"a")},xi.prototype.ta=function(c){Dt(this.g,new yv(c))},xi.prototype.sa=function(c){Dt(this.g,new vv)},xi.prototype.ra=function(){Dt(this.g,"b")},Xl.prototype.createWebChannel=Xl.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,IT=function(){return new Xl},xT=function(){return jl()},TT=Ps,Lp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fl.NO_ERROR=0,Fl.TIMEOUT=8,Fl.HTTP_ERROR=6,Kc=Fl,My.COMPLETE="complete",kT=My,Dy.EventType=Vo,Vo.OPEN="a",Vo.CLOSE="b",Vo.ERROR="c",Vo.MESSAGE="d",vt.prototype.listen=vt.prototype.K,fa=Dy,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,ET=Ve}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const h_="@firebase/firestore",f_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new cg("@firebase/firestore");function Ci(){return si.logLevel}function Y(t,...e){if(si.logLevel<=ie.DEBUG){const n=e.map(Eg);si.debug(`Firestore (${Ro}): ${t}`,...n)}}function Er(t,...e){if(si.logLevel<=ie.ERROR){const n=e.map(Eg);si.error(`Firestore (${Ro}): ${t}`,...n)}}function fo(t,...e){if(si.logLevel<=ie.WARN){const n=e.map(Eg);si.warn(`Firestore (${Ro}): ${t}`,...n)}}function Eg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: `+t;throw Er(e),new Error(e)}function me(t,e){t||ee()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}}class d2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class h2{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){me(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new dr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new dr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string"),new ST(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string"),new xt(e)}}class f2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class p2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new f2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class p_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m2{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,qt(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){me(this.o===void 0);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new p_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string"),this.R=n.token,new p_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=g2(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function po(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=-62135596800,g_=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*g_);return new et(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<m_)throw new G(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g_}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-m_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new et(0,0))}static max(){return new te(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="__name__";class Sn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Sn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Sn.isNumericId(e),s=Sn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Sn.extractNumericId(e).compare(Sn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class Pe extends Sn{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const y2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Sn{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return y2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y_}static keyField(){return new ft([y_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new G(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new G(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new G(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(Pe.fromString(e))}static fromName(e){return new X(Pe.fromString(e).popFirst(5))}static empty(){return new X(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new Pe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=-1;function v2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=te.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new ms(s,X.empty(),e)}function _2(t){return new ms(t.readTime,t.key,nl)}class ms{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ms(te.min(),X.empty(),nl)}static max(){return new ms(te.max(),X.empty(),nl)}}function w2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==E2)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function T2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Od.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg=-1;function Ld(t){return t==null}function Vu(t){return t===0&&1/t==-1/0}function x2(t){return typeof t=="number"&&Number.isInteger(t)&&!Vu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="";function I2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=v_(e)),e=S2(t.get(n),e);return v_(e)}function S2(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case CT:n+="";break;default:n+=i}}return n}function v_(t){return t+CT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vc(this.root,e,this.comparator,!0)}}class vc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ht.RED,this.left=s??ht.EMPTY,this.right=i??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ht(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ht.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,s,i){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w_(this.data.getIterator())}getIteratorFrom(e){return new w_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tt(this.comparator);return n.data=e,n}}class w_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new vn([])}unionWith(e){let n=new tt(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new PT("Invalid base64 string: "+i):i}}(e);return new yt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const b2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(t){if(me(!!t),typeof t=="string"){let e=0;const n=b2.exec(t);if(me(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ys(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="server_timestamp",NT="__type__",AT="__previous_value__",MT="__local_write_time__";function Tg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[NT])===null||n===void 0?void 0:n.stringValue)===RT}function Vd(t){const e=t.mapValue.fields[AT];return Tg(e)?Vd(e):e}function rl(t){const e=gs(t.mapValue.fields[MT].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}const ju="(default)";class sl{constructor(e,n){this.projectId=e,this.database=n||ju}static empty(){return new sl("","")}get isDefaultDatabase(){return this.database===ju}isEqual(e){return e instanceof sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="__type__",LT="__max__",_c={mapValue:{fields:{__type__:{stringValue:LT}}}},VT="__vector__",Fu="value";function vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tg(t)?4:P2(t)?9007199254740991:D2(t)?10:11:ee()}function zn(t,e){if(t===e)return!0;const n=vs(t);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rl(t).isEqual(rl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=gs(s.timestampValue),a=gs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ys(s.bytesValue).isEqual(ys(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return We(s.geoPointValue.latitude)===We(i.geoPointValue.latitude)&&We(s.geoPointValue.longitude)===We(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return We(s.integerValue)===We(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=We(s.doubleValue),a=We(i.doubleValue);return o===a?Vu(o)===Vu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return po(t.arrayValue.values||[],e.arrayValue.values||[],zn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(__(o)!==__(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!zn(o[l],a[l])))return!1;return!0}(t,e);default:return ee()}}function il(t,e){return(t.values||[]).find(n=>zn(n,e))!==void 0}function mo(t,e){if(t===e)return 0;const n=vs(t),r=vs(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=We(i.integerValue||i.doubleValue),l=We(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return E_(t.timestampValue,e.timestampValue);case 4:return E_(rl(t),rl(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ys(i),l=ys(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=le(a[u],l[u]);if(d!==0)return d}return le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=le(We(i.latitude),We(o.latitude));return a!==0?a:le(We(i.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return k_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,d;const f=i.fields||{},g=o.fields||{},y=(a=f[Fu])===null||a===void 0?void 0:a.arrayValue,_=(l=g[Fu])===null||l===void 0?void 0:l.arrayValue,I=le(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return I!==0?I:k_(y,_)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===_c.mapValue&&o===_c.mapValue)return 0;if(i===_c.mapValue)return 1;if(o===_c.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const g=le(l[f],d[f]);if(g!==0)return g;const y=mo(a[l[f]],u[d[f]]);if(y!==0)return y}return le(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ee()}}function E_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=gs(t),r=gs(e),s=le(n.seconds,r.seconds);return s!==0?s:le(n.nanos,r.nanos)}function k_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=mo(n[s],r[s]);if(i)return i}return le(n.length,r.length)}function go(t){return Vp(t)}function Vp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Vp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Vp(n.fields[o])}`;return s+"}"}(t.mapValue):ee()}function qc(t){switch(vs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vd(t);return e?16+qc(e):16;case 5:return 2*t.stringValue.length;case 6:return ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+qc(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return yi(r.fields,(i,o)=>{s+=i.length+qc(o)}),s}(t.mapValue);default:throw ee()}}function jp(t){return!!t&&"integerValue"in t}function xg(t){return!!t&&"arrayValue"in t}function T_(t){return!!t&&"nullValue"in t}function x_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qc(t){return!!t&&"mapValue"in t}function D2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[OT])===null||n===void 0?void 0:n.stringValue)===VT}function Da(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Da(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Da(t.arrayValue.values[n]);return e}return Object.assign({},t)}function P2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===LT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Da(n)}setAll(e){let n=ft.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Da(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Qc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){yi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new an(Da(this.value))}}function jT(t){const e=[];return yi(t.fields,(n,r)=>{const s=new ft([n]);if(Qc(r)){const i=jT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new St(e,0,te.min(),te.min(),te.min(),an.empty(),0)}static newFoundDocument(e,n,r,s){return new St(e,1,n,te.min(),r,s,0)}static newNoDocument(e,n){return new St(e,2,n,te.min(),te.min(),an.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,te.min(),te.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.position=e,this.inclusive=n}}function I_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=mo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function S_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function R2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FT=class{};class Je extends FT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new A2(e,n,r):n==="array-contains"?new L2(e,r):n==="in"?new V2(e,r):n==="not-in"?new j2(e,r):n==="array-contains-any"?new F2(e,r):new Je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new M2(e,r):new O2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(mo(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends FT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Hn(e,n)}matches(e){return UT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function UT(t){return t.op==="and"}function BT(t){return N2(t)&&UT(t)}function N2(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function Fp(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+go(t.value);if(BT(t))return t.filters.map(e=>Fp(e)).join(",");{const e=t.filters.map(n=>Fp(n)).join(",");return`${t.op}(${e})`}}function $T(t,e){return t instanceof Je?function(r,s){return s instanceof Je&&r.op===s.op&&r.field.isEqual(s.field)&&zn(r.value,s.value)}(t,e):t instanceof Hn?function(r,s){return s instanceof Hn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&$T(o,s.filters[a]),!0):!1}(t,e):void ee()}function WT(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`}(t):t instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(WT).join(" ,")+"}"}(t):"Filter"}class A2 extends Je{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class M2 extends Je{constructor(e,n){super(e,"in",n),this.keys=zT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class O2 extends Je{constructor(e,n){super(e,"not-in",n),this.keys=zT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class L2 extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xg(n)&&il(n.arrayValue,this.value)}}class V2 extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&il(this.value.arrayValue,n)}}class j2 extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!il(this.value.arrayValue,n)}}class F2 extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>il(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function b_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new U2(t,e,n,r,s,i,o)}function Ig(t){const e=ne(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>go(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>go(r)).join(",")),e.le=n}return e.le}function Sg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$T(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!S_(t.startAt,e.startAt)&&S_(t.endAt,e.endAt)}function Up(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function B2(t,e,n,r,s,i,o,a){return new jd(t,e,n,r,s,i,o,a)}function bg(t){return new jd(t)}function C_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $2(t){return t.collectionGroup!==null}function Pa(t){const e=ne(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tt(ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new Bu(i,r))}),n.has(ft.keyField().canonicalString())||e.he.push(new Bu(ft.keyField(),r))}return e.he}function jn(t){const e=ne(t);return e.Pe||(e.Pe=W2(e,Pa(t))),e.Pe}function W2(t,e){if(t.limitType==="F")return b_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Bu(s.field,i)});const n=t.endAt?new Uu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uu(t.startAt.position,t.startAt.inclusive):null;return b_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bp(t,e,n){return new jd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fd(t,e){return Sg(jn(t),jn(e))&&t.limitType===e.limitType}function HT(t){return`${Ig(jn(t))}|lt:${t.limitType}`}function Di(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>WT(s)).join(", ")}]`),Ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>go(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>go(s)).join(",")),`Target(${r})`}(jn(t))}; limitType=${t.limitType})`}function Ud(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):X.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Pa(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=I_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Pa(r),s)||r.endAt&&!function(o,a,l){const u=I_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Pa(r),s))}(t,e)}function z2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YT(t){return(e,n)=>{let r=!1;for(const s of Pa(t)){const i=H2(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function H2(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?mo(l,u):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){yi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return DT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new Le(X.comparator);function kr(){return Y2}const KT=new Le(X.comparator);function pa(...t){let e=KT;for(const n of t)e=e.insert(n.key,n);return e}function qT(t){let e=KT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bs(){return Ra()}function QT(){return Ra()}function Ra(){return new vi(t=>t.toString(),(t,e)=>t.isEqual(e))}const K2=new Le(X.comparator),q2=new tt(X.comparator);function oe(...t){let e=q2;for(const n of t)e=e.add(n);return e}const Q2=new tt(le);function G2(){return Q2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vu(e)?"-0":e}}function GT(t){return{integerValue:""+t}}function X2(t,e){return x2(e)?GT(e):Cg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this._=void 0}}function J2(t,e,n){return t instanceof $u?function(s,i){const o={fields:{[NT]:{stringValue:RT},[MT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Tg(i)&&(i=Vd(i)),i&&(o.fields[AT]=i),{mapValue:o}}(n,e):t instanceof ol?JT(t,e):t instanceof al?ZT(t,e):function(s,i){const o=XT(s,i),a=D_(o)+D_(s.Ie);return jp(o)&&jp(s.Ie)?GT(a):Cg(s.serializer,a)}(t,e)}function Z2(t,e,n){return t instanceof ol?JT(t,e):t instanceof al?ZT(t,e):n}function XT(t,e){return t instanceof Wu?function(r){return jp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class $u extends Bd{}class ol extends Bd{constructor(e){super(),this.elements=e}}function JT(t,e){const n=ex(e);for(const r of t.elements)n.some(s=>zn(s,r))||n.push(r);return{arrayValue:{values:n}}}class al extends Bd{constructor(e){super(),this.elements=e}}function ZT(t,e){let n=ex(e);for(const r of t.elements)n=n.filter(s=>!zn(s,r));return{arrayValue:{values:n}}}class Wu extends Bd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function D_(t){return We(t.integerValue||t.doubleValue)}function ex(t){return xg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function eM(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ol&&s instanceof ol||r instanceof al&&s instanceof al?po(r.elements,s.elements,zn):r instanceof Wu&&s instanceof Wu?zn(r.Ie,s.Ie):r instanceof $u&&s instanceof $u}(t.transform,e.transform)}class tM{constructor(e,n){this.version=e,this.transformResults=n}}class hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $d{}function tx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rx(t.key,hr.none()):new bl(t.key,t.data,hr.none());{const n=t.data,r=an.empty();let s=new tt(ft.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new _i(t.key,r,new vn(s.toArray()),hr.none())}}function nM(t,e,n){t instanceof bl?function(s,i,o){const a=s.value.clone(),l=R_(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof _i?function(s,i,o){if(!Gc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=R_(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(nx(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Na(t,e,n,r){return t instanceof bl?function(i,o,a,l){if(!Gc(i.precondition,o))return a;const u=i.value.clone(),d=N_(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof _i?function(i,o,a,l){if(!Gc(i.precondition,o))return a;const u=N_(i.fieldTransforms,l,o),d=o.data;return d.setAll(nx(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Gc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function rM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=XT(r.transform,s||null);i!=null&&(n===null&&(n=an.empty()),n.set(r.field,i))}return n||null}function P_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&po(r,s,(i,o)=>eM(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bl extends $d{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class _i extends $d{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function nx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function R_(t,e,n){const r=new Map;me(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Z2(o,a,n[s]))}return r}function N_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,J2(i,o,e))}return r}class rx extends $d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sM extends $d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&nM(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Na(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Na(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QT();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=tx(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,(n,r)=>P_(n,r))&&po(this.baseMutations,e.baseMutations,(n,r)=>P_(n,r))}}class Dg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){me(e.mutations.length===r.length);let s=function(){return K2}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Dg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,ue;function lM(t){switch(t){case B.OK:return ee();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ee()}}function sx(t){if(t===void 0)return Er("GRPC error has no .code"),B.UNKNOWN;switch(t){case Ke.OK:return B.OK;case Ke.CANCELLED:return B.CANCELLED;case Ke.UNKNOWN:return B.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return B.INTERNAL;case Ke.UNAVAILABLE:return B.UNAVAILABLE;case Ke.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Ke.NOT_FOUND:return B.NOT_FOUND;case Ke.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Ke.ABORTED:return B.ABORTED;case Ke.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Ke.DATA_LOSS:return B.DATA_LOSS;default:return ee()}}(ue=Ke||(Ke={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=new os([4294967295,4294967295],0);function A_(t){const e=cM().encode(t),n=new wT;return n.update(e),new Uint8Array(n.digest())}function M_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new os([n,r],0),new os([s,i],0)]}class Pg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ma(`Invalid padding: ${n}`);if(r<0)throw new ma(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ma(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ma(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=os.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(os.fromNumber(r)));return s.compare(uM)===1&&(s=new os([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=A_(e),[r,s]=M_(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Pg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=A_(e),[r,s]=M_(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ma extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wd(te.min(),s,new Le(le),kr(),oe())}}class Cl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cl(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class ix{constructor(e,n){this.targetId=e,this.ge=n}}class ox{constructor(e,n,r=yt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class O_{constructor(){this.pe=0,this.ye=L_(),this.we=yt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=oe(),n=oe(),r=oe();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ee()}}),new Cl(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=L_()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,me(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class dM{constructor(e){this.ke=e,this.qe=new Map,this.Qe=kr(),this.$e=wc(),this.Ke=wc(),this.Ue=new Le(le)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const i=s.target;if(Up(i))if(r===0){const o=new X(i.path);this.ze(n,o,St.newNoDocument(o,te.min()))}else me(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,u)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ys(r).toUint8Array()}catch(l){if(l instanceof PT)return fo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Pg(o,s,i)}catch(l){return fo(l instanceof ma?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,i,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((i,o)=>{const a=this.Xe(o);if(a){if(i.current&&Up(a.target)){const l=new X(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,St.newNoDocument(l,e))}i.ve&&(n.set(o,i.Fe()),i.Me())}});let r=oe();this.Ke.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new Wd(e,n,this.Ue,this.Qe,r);return this.Qe=kr(),this.$e=wc(),this.Ke=wc(),this.Ue=new Le(le),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new O_,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new tt(le),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new tt(le),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new O_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function wc(){return new Le(X.comparator)}function L_(){return new Le(X.comparator)}const hM={asc:"ASCENDING",desc:"DESCENDING"},fM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pM={and:"AND",or:"OR"};class mM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $p(t,e){return t.useProto3Json||Ld(e)?e:{value:e}}function zu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ax(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gM(t,e){return zu(t,e.toTimestamp())}function Fn(t){return me(!!t),te.fromTimestamp(function(n){const r=gs(n);return new et(r.seconds,r.nanos)}(t))}function Rg(t,e){return Wp(t,e).canonicalString()}function Wp(t,e){const n=function(s){return new Pe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function lx(t){const e=Pe.fromString(t);return me(fx(e)),e}function zp(t,e){return Rg(t.databaseId,e.path)}function uf(t,e){const n=lx(e);if(n.get(1)!==t.databaseId.projectId)throw new G(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(ux(n))}function cx(t,e){return Rg(t.databaseId,e)}function yM(t){const e=lx(t);return e.length===4?Pe.emptyPath():ux(e)}function Hp(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ux(t){return me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function V_(t,e,n){return{name:zp(t,e),fields:n.value.mapValue.fields}}function vM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(me(d===void 0||typeof d=="string"),yt.fromBase64String(d||"")):(me(d===void 0||d instanceof Buffer||d instanceof Uint8Array),yt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?B.UNKNOWN:sx(u.code);return new G(d,u.message||"")}(o);n=new ox(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=uf(t,r.document.name),i=Fn(r.document.updateTime),o=r.document.createTime?Fn(r.document.createTime):te.min(),a=new an({mapValue:{fields:r.document.fields}}),l=St.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Xc(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=uf(t,r.document),i=r.readTime?Fn(r.readTime):te.min(),o=St.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Xc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=uf(t,r.document),i=r.removedTargetIds||[];n=new Xc([],i,s,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new aM(s,i),a=r.targetId;n=new ix(a,o)}}return n}function _M(t,e){let n;if(e instanceof bl)n={update:V_(t,e.key,e.value)};else if(e instanceof rx)n={delete:zp(t,e.key)};else if(e instanceof _i)n={update:V_(t,e.key,e.data),updateMask:CM(e.fieldMask)};else{if(!(e instanceof sM))return ee();n={verify:zp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof $u)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ol)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof al)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wu)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:gM(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee()}(t,e.precondition)),n}function wM(t,e){return t&&t.length>0?(me(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Fn(s.updateTime):Fn(i);return o.isEqual(te.min())&&(o=Fn(i)),new tM(o,s.transformResults||[])}(n,e))):[]}function EM(t,e){return{documents:[cx(t,e.path)]}}function kM(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cx(t,s);const i=function(u){if(u.length!==0)return hx(Hn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:Pi(g.field),direction:IM(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=$p(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:n,parent:s}}function TM(t){let e=yM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){me(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const g=dx(f);return g instanceof Hn&&BT(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(_){return new Bu(Ri(_.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Ld(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(f){const g=!!f.before,y=f.values||[];return new Uu(y,g)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const g=!f.before,y=f.values||[];return new Uu(y,g)}(n.endAt)),B2(e,s,o,i,a,"F",l,u)}function xM(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ri(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ri(n.unaryFilter.field);return Je.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ri(n.unaryFilter.field);return Je.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ri(n.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return Je.create(Ri(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(r=>dx(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function IM(t){return hM[t]}function SM(t){return fM[t]}function bM(t){return pM[t]}function Pi(t){return{fieldPath:t.canonicalString()}}function Ri(t){return ft.fromServerFormat(t.fieldPath)}function hx(t){return t instanceof Je?function(n){if(n.op==="=="){if(x_(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NAN"}};if(T_(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(x_(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NOT_NAN"}};if(T_(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pi(n.field),op:SM(n.op),value:n.value}}}(t):t instanceof Hn?function(n){const r=n.getFilters().map(s=>hx(s));return r.length===1?r[0]:{compositeFilter:{op:bM(n.op),filters:r}}}(t):ee()}function CM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,r,s,i=te.min(),o=te.min(),a=yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.Tt=e}}function PM(t){const e=TM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this.Tn=new NM}addToCollectionParentIndex(e,n){return this.Tn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(ms.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class NM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new tt(Pe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new tt(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},px=41943040;class Ft{static withCacheSize(e){return new Ft(e,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ft.DEFAULT_COLLECTION_PERCENTILE=10,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ft.DEFAULT=new Ft(px,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ft.DISABLED=new Ft(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new yo(0)}static Un(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="LruGarbageCollector",AM=1048576;function U_([t,e],[n,r]){const s=le(t,n);return s===0?le(e,r):s}class MM{constructor(e){this.Hn=e,this.buffer=new tt(U_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();U_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Y(F_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?Y(F_,"Ignoring IndexedDB error during garbage collection: ",n):await No(n)}await this.er(3e5)})}}class LM{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Od.ae);const r=new MM(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(j_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Ci()<=ie.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function VM(t,e){return new LM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this.changes=new vi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Na(r.mutation,s,vn.empty(),et.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const s=Bs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=pa();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Bs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=kr();const o=Ra(),a=function(){return Ra()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof _i)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Na(d.mutation,u,d.mutation.getFieldMask(),et.now())):o.set(u.key,vn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new FM(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ra();let s=new Le((o,a)=>o-a),i=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||vn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(s.get(a.batchId)||oe()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=QT();d.forEach(g=>{if(!i.has(g)){const y=tx(n.get(g),r.get(g));y!==null&&f.set(g,y),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(Bs());let a=nl,l=i;return o.next(u=>U.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{l=l.insert(d,g)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,oe())).next(d=>({batchId:a,changes:qT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let s=pa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=pa();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,l=>{const u=function(f,g){return new jd(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,St.newInvalidDocument(d)))});let a=pa();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&Na(d.mutation,u,vn.empty(),et.now()),Ud(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return U.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Fn(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:PM(s.bundledQuery),readTime:Fn(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.overlays=new Le(X.comparator),this.Rr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bs();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Et(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=Bs(),i=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Le((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Bs(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Bs(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return U.resolve(a)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new oM(n,r));let i=this.Rr.get(n);i===void 0&&(i=oe(),this.Rr.set(n,i)),this.Rr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(){this.Vr=new tt(rt.mr),this.gr=new tt(rt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new rt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new rt(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){const n=new X(new Pe([])),r=new rt(n,e),s=new rt(n,e+1),i=[];return this.gr.forEachInRange([r,s],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new X(new Pe([])),r=new rt(n,e),s=new rt(n,e+1);let i=oe();return this.gr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new rt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return X.comparator(e.key,n.key)||le(e.Cr,n.Cr)}static pr(e,n){return le(e.Cr,n.Cr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new tt(rt.mr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new iM(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Mr=this.Mr.add(new rt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?kg:this.Fr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rt(n,0),s=new rt(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],o=>{const a=this.Or(o.Cr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tt(le);return n.forEach(s=>{const i=new rt(s,0),o=new rt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],a=>{r=r.add(a.Cr)})}),U.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;X.isDocumentKey(i)||(i=i.child(""));const o=new rt(new X(i),0);let a=new tt(le);return this.Mr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Cr)),!0)},o),U.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){me(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return U.forEach(n.mutations,s=>{const i=new rt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new rt(n,0),s=this.Mr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.kr=e,this.docs=function(){return new Le(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=kr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():St.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=kr();const o=n.path,a=new X(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||w2(_2(d),r)<=0||(s.has(d.key)||Ud(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ee()}qr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new YM(this)}getSize(e){return U.resolve(this.size)}}class YM extends jM{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.persistence=e,this.Qr=new vi(n=>Ig(n),Sg),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Ng,this.targetCount=0,this.Ur=yo.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),U.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.zn(n),U.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Od(0),this.zr=!1,this.zr=!0,this.jr=new WM,this.referenceDelegate=e(this),this.Hr=new KM(this),this.indexManager=new RM,this.remoteDocumentCache=function(s){return new HM(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new DM(n),this.Yr=new BM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $M,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new zM(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new qM(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,n){return U.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class qM extends k2{constructor(e){super(),this.currentSequenceNumber=e}}class Ag{constructor(e){this.persistence=e,this.ti=new Ng,this.ni=null}static ri(e){return new Ag(e)}get ii(){if(this.ni)return this.ni;throw ee()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),U.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.ii,r=>{const s=X.fromPath(r);return this.si(e,s).next(i=>{i||n.removeEntry(s,te.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return U.or([()=>U.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Hu{constructor(e,n){this.persistence=e,this.oi=new vi(r=>I2(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=VM(this,n)}static ri(e,n){return new Hu(e,n)}Zr(){}Xr(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return U.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,i.removeEntry(o,te.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),U.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qc(e.data.value)),n}ar(e,n,r){return U.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=oe(),s=oe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Mg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return CP()?8:T2(Ct())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new QM;return this._s(e,n,o).next(a=>{if(i.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>i.result)}us(e,n,r,s){return r.documentReadCount<this.es?(Ci()<=ie.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Di(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),U.resolve()):(Ci()<=ie.DEBUG&&Y("QueryEngine","Query:",Di(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(Ci()<=ie.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Di(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(n))):U.resolve())}rs(e,n){if(C_(n))return U.resolve(null);let r=jn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Bp(n,null,"F"),r=jn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=oe(...i);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.cs(n,a);return this.ls(n,u,o,l.readTime)?this.rs(e,Bp(n,null,"F")):this.hs(e,u,n,l)}))})))}ss(e,n,r,s){return C_(n)||s.isEqual(te.min())?U.resolve(null):this.ns.getDocuments(e,r).next(i=>{const o=this.cs(n,i);return this.ls(n,o,r,s)?U.resolve(null):(Ci()<=ie.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Di(n)),this.hs(e,o,n,v2(s,nl)).next(a=>a))})}cs(e,n){let r=new tt(YT(e));return n.forEach((s,i)=>{Ud(e,i)&&(r=r.add(i))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,n,r){return Ci()<=ie.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Di(n)),this.ns.getDocumentsMatchingQuery(e,n,ms.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="LocalStore",XM=3e8;class JM{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new Le(le),this.Is=new vi(i=>Ig(i),Sg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UM(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function ZM(t,e,n,r){return new JM(t,e,n,r)}async function gx(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=oe();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Rs:u,removedBatchIds:o,addedBatchIds:a}))})})}function eO(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,g=f.keys();let y=U.resolve();return g.forEach(_=>{y=y.next(()=>d.getEntry(l,_)).next(I=>{const C=u.docVersions.get(_);me(C!==null),I.version.compareTo(C)<0&&(f.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),d.addEntry(I)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function yx(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function tO(t,e){const n=ne(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const a=[];e.targetChanges.forEach((d,f)=>{const g=s.get(f);if(!g)return;a.push(n.Hr.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(i,d.addedDocuments,f)));let y=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(yt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),s=s.insert(f,y),function(I,C,E){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=XM?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,y,d)&&a.push(n.Hr.updateTargetData(i,y))});let l=kr(),u=oe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(nO(i,o,e.documentUpdates).next(d=>{l=d.Vs,u=d.fs})),!r.isEqual(te.min())){const d=n.Hr.getLastRemoteSnapshotVersion(i).next(f=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ts=s,i))}function nO(t,e,n){let r=oe(),s=oe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=kr();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y(Og,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Vs:o,fs:s}})}function rO(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=kg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sO(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Hr.allocateTargetId(r).next(o=>(s=new Kr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Yp(t,e,n){const r=ne(t),s=r.Ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ao(o))throw o;Y(Og,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function B_(t,e,n){const r=ne(t);let s=te.min(),i=oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=ne(l),g=f.Is.get(d);return g!==void 0?U.resolve(f.Ts.get(g)):f.Hr.getTargetData(u,d)}(r,o,jn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?s:te.min(),n?i:oe())).next(a=>(iO(r,z2(e),a),{documents:a,gs:i})))}function iO(t,e,n){let r=t.Es.get(e)||te.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Es.set(e,r)}class $_{constructor(){this.activeTargetIds=G2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oO{constructor(){this.ho=new $_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new $_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="ConnectivityMonitor";class z_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Y(W_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Y(W_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function Kp(){return Ec===null?Ec=function(){return 268435456+Math.round(2147483648*Math.random())}():Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="RestConnection",lO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===ju?`project_id=${r}`:`project_id=${r}&database_id=${s}`}bo(e,n,r,s,i){const o=Kp(),a=this.So(e,n.toUriEncodedString());Y(df,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,s,i),this.vo(e,a,l,r).then(u=>(Y(df,`Received RPC '${e}' ${o}: `,u),u),u=>{throw fo(df,`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}Co(e,n,r,s,i,o){return this.bo(e,n,r,s,i)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}So(e,n){const r=lO[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class dO extends cO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=Kp();return new Promise((o,a)=>{const l=new ET;l.setWithCredentials(!0),l.listenOnce(kT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Kc.NO_ERROR:const d=l.getResponseJson();Y(Tt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Kc.TIMEOUT:Y(Tt,`RPC '${e}' ${i} timed out`),a(new G(B.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const f=l.getStatus();if(Y(Tt,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const _=function(C){const E=C.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(E)>=0?E:B.UNKNOWN}(y.status);a(new G(_,y.message))}else a(new G(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new G(B.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{Y(Tt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);Y(Tt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Wo(e,n,r){const s=Kp(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=IT(),a=xT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");Y(Tt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);let g=!1,y=!1;const _=new uO({Fo:C=>{y?Y(Tt,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(g||(Y(Tt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),g=!0),Y(Tt,`RPC '${e}' stream ${s} sending:`,C),f.send(C))},Mo:()=>f.close()}),I=(C,E,v)=>{C.listen(E,T=>{try{v(T)}catch(N){setTimeout(()=>{throw N},0)}})};return I(f,fa.EventType.OPEN,()=>{y||(Y(Tt,`RPC '${e}' stream ${s} transport opened.`),_.Qo())}),I(f,fa.EventType.CLOSE,()=>{y||(y=!0,Y(Tt,`RPC '${e}' stream ${s} transport closed`),_.Ko())}),I(f,fa.EventType.ERROR,C=>{y||(y=!0,fo(Tt,`RPC '${e}' stream ${s} transport errored:`,C),_.Ko(new G(B.UNAVAILABLE,"The operation could not be completed")))}),I(f,fa.EventType.MESSAGE,C=>{var E;if(!y){const v=C.data[0];me(!!v);const T=v,N=(T==null?void 0:T.error)||((E=T[0])===null||E===void 0?void 0:E.error);if(N){Y(Tt,`RPC '${e}' stream ${s} received error:`,N);const j=N.status;let F=function(b){const D=Ke[b];if(D!==void 0)return sx(D)}(j),x=N.message;F===void 0&&(F=B.INTERNAL,x="Unknown error status: "+j+" with message "+N.message),y=!0,_.Ko(new G(F,x)),f.close()}else Y(Tt,`RPC '${e}' stream ${s} received:`,v),_.Uo(v)}}),I(a,TT.STAT_EVENT,C=>{C.stat===Lp.PROXY?Y(Tt,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Lp.NOPROXY&&Y(Tt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.$o()},0),_}}function hf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t){return new mM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="PersistentStream";class _x{constructor(e,n,r,s,i,o,a,l){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new vx(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Er(n.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new G(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Y(H_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Y(H_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hO extends _x{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=vM(this.serializer,e),r=function(i){if(!("targetChange"in i))return te.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Fn(o.readTime):te.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Hp(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Up(l)?{documents:EM(i,l)}:{query:kM(i,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ax(i,o.resumeToken);const u=$p(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=zu(i,o.snapshotVersion.toTimestamp());const u=$p(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=xM(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Hp(this.serializer),n.removeTarget=e,this.I_(n)}}class fO extends _x{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return me(!!e.streamToken),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=wM(e.writeResults,e.commitTime),r=Fn(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Hp(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>_M(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{}class mO extends pO{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new G(B.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.bo(e,Wp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(B.UNKNOWN,i.toString())})}Co(e,n,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,Wp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(B.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class gO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Er(n),this.N_=!1):Y("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="RemoteStore";class yO{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{r.enqueueAndForget(async()=>{wi(this)&&(Y(ii,"Restarting streams for network reachability change."),await async function(l){const u=ne(l);u.W_.add(4),await Dl(u),u.j_.set("Unknown"),u.W_.delete(4),await Hd(u)}(this))})}),this.j_=new gO(r,s)}}async function Hd(t){if(wi(t))for(const e of t.G_)await e(!0)}async function Dl(t){for(const e of t.G_)await e(!1)}function wx(t,e){const n=ne(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Fg(n)?jg(n):Mo(n).c_()&&Vg(n,e))}function Lg(t,e){const n=ne(t),r=Mo(n);n.U_.delete(e),r.c_()&&Ex(n,e),n.U_.size===0&&(r.c_()?r.P_():wi(n)&&n.j_.set("Unknown"))}function Vg(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(t).y_(e)}function Ex(t,e){t.H_.Ne(e),Mo(t).w_(e)}function jg(t){t.H_=new dM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Mo(t).start(),t.j_.B_()}function Fg(t){return wi(t)&&!Mo(t).u_()&&t.U_.size>0}function wi(t){return ne(t).W_.size===0}function kx(t){t.H_=void 0}async function vO(t){t.j_.set("Online")}async function _O(t){t.U_.forEach((e,n)=>{Vg(t,e)})}async function wO(t,e){kx(t),Fg(t)?(t.j_.q_(e),jg(t)):t.j_.set("Unknown")}async function EO(t,e,n){if(t.j_.set("Online"),e instanceof ox&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.U_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.U_.delete(a),s.H_.removeTarget(a))}(t,e)}catch(r){Y(ii,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yu(t,r)}else if(e instanceof Xc?t.H_.We(e):e instanceof ix?t.H_.Ze(e):t.H_.je(e),!n.isEqual(te.min()))try{const r=await yx(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.H_.ot(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.U_.get(u);d&&i.U_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.U_.get(l);if(!d)return;i.U_.set(l,d.withResumeToken(yt.EMPTY_BYTE_STRING,d.snapshotVersion)),Ex(i,l);const f=new Kr(d.target,l,u,d.sequenceNumber);Vg(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(ii,"Failed to raise snapshot:",r),await Yu(t,r)}}async function Yu(t,e,n){if(!Ao(e))throw e;t.W_.add(1),await Dl(t),t.j_.set("Offline"),n||(n=()=>yx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(ii,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Hd(t)})}function Tx(t,e){return e().catch(n=>Yu(t,n,e))}async function Yd(t){const e=ne(t),n=_s(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:kg;for(;kO(e);)try{const s=await rO(e.localStore,r);if(s===null){e.K_.length===0&&n.P_();break}r=s.batchId,TO(e,s)}catch(s){await Yu(e,s)}xx(e)&&Ix(e)}function kO(t){return wi(t)&&t.K_.length<10}function TO(t,e){t.K_.push(e);const n=_s(t);n.c_()&&n.b_&&n.S_(e.mutations)}function xx(t){return wi(t)&&!_s(t).u_()&&t.K_.length>0}function Ix(t){_s(t).start()}async function xO(t){_s(t).C_()}async function IO(t){const e=_s(t);for(const n of t.K_)e.S_(n.mutations)}async function SO(t,e,n){const r=t.K_.shift(),s=Dg.from(r,e,n);await Tx(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Yd(t)}async function bO(t,e){e&&_s(t).b_&&await async function(r,s){if(function(o){return lM(o)&&o!==B.ABORTED}(s.code)){const i=r.K_.shift();_s(r).h_(),await Tx(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Yd(r)}}(t,e),xx(t)&&Ix(t)}async function Y_(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),Y(ii,"RemoteStore received new credentials");const r=wi(n);n.W_.add(3),await Dl(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Hd(n)}async function CO(t,e){const n=ne(t);e?(n.W_.delete(2),await Hd(n)):e||(n.W_.add(2),await Dl(n),n.j_.set("Unknown"))}function Mo(t){return t.J_||(t.J_=function(n,r,s){const i=ne(n);return i.M_(),new hO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:vO.bind(null,t),No:_O.bind(null,t),Lo:wO.bind(null,t),p_:EO.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Fg(t)?jg(t):t.j_.set("Unknown")):(await t.J_.stop(),kx(t))})),t.J_}function _s(t){return t.Y_||(t.Y_=function(n,r,s){const i=ne(n);return i.M_(),new fO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:xO.bind(null,t),Lo:bO.bind(null,t),D_:IO.bind(null,t),v_:SO.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Yd(t)):(await t.Y_.stop(),t.K_.length>0&&(Y(ii,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Ug(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bg(t,e){if(Er("AsyncQueue",`${e}: ${t}`),Ao(t))return new G(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static emptySet(e){return new to(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=pa(),this.sortedSet=new Le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new to;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.Z_=new Le(X.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ee():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class vo{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new vo(e,n,to.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class PO{constructor(){this.queries=q_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=ne(n),i=s.queries;s.queries=q_(),i.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new G(B.ABORTED,"Firestore shutting down"))}}function q_(){return new vi(t=>HT(t),Fd)}async function Sx(t,e){const n=ne(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new DO,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await n.onListen(s,!0);break;case 1:i.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Bg(o,`Initialization of query '${Di(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ta.push(e),e.sa(n.onlineState),i.ea&&e.oa(i.ea)&&$g(n)}async function bx(t,e){const n=ne(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RO(t,e){const n=ne(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ta)a.oa(s)&&(r=!0);o.ea=s}}r&&$g(n)}function NO(t,e,n){const r=ne(t),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(n);r.queries.delete(e)}function $g(t){t.ia.forEach(e=>{e.next()})}var qp,Q_;(Q_=qp||(qp={}))._a="default",Q_.Cache="cache";class Cx{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==qp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.key=e}}class Px{constructor(e){this.key=e}}class AO{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=oe(),this.mutatedKeys=oe(),this.ya=YT(e),this.wa=new to(this.ya)}get ba(){return this.fa}Sa(e,n){const r=n?n.Da:new K_,s=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const g=s.get(d),y=Ud(this.query,f)?f:null,_=!!g&&this.mutatedKeys.has(g.key),I=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let C=!1;g&&y?g.data.isEqual(y.data)?_!==I&&(r.track({type:3,doc:y}),C=!0):this.va(g,y)||(r.track({type:2,doc:y}),C=!0,(l&&this.ya(y,l)>0||u&&this.ya(y,u)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),C=!0):g&&!y&&(r.track({type:1,doc:g}),C=!0,(l||u)&&(a=!0)),C&&(y?(o=o.add(y),i=I?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{wa:o,Da:r,ls:a,mutatedKeys:i}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((d,f)=>function(y,_){const I=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return I(y)-I(_)}(d.type,f.type)||this.ya(d.doc,f.doc)),this.Ca(r),s=s!=null&&s;const a=n&&!s?this.Fa():[],l=this.pa.size===0&&this.current&&!s?1:0,u=l!==this.ga;return this.ga=l,o.length!==0||u?{snapshot:new vo(this.query,e.wa,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new K_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=oe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new Px(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new Dx(r))}),n}Oa(e){this.fa=e.gs,this.pa=oe();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return vo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Wg="SyncEngine";class MO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class OO{constructor(e){this.key=e,this.Ba=!1}}class LO{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new vi(a=>HT(a),Fd),this.qa=new Map,this.Qa=new Set,this.$a=new Le(X.comparator),this.Ka=new Map,this.Ua=new Ng,this.Wa={},this.Ga=new Map,this.za=yo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function VO(t,e,n=!0){const r=Lx(t);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await Rx(r,e,n,!0),s}async function jO(t,e){const n=Lx(t);await Rx(n,e,!0,!1)}async function Rx(t,e,n,r){const s=await sO(t.localStore,jn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await FO(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&wx(t.remoteStore,s),a}async function FO(t,e,n,r,s){t.Ha=(f,g,y)=>async function(I,C,E,v){let T=C.view.Sa(E);T.ls&&(T=await B_(I.localStore,C.query,!1).then(({documents:x})=>C.view.Sa(x,T)));const N=v&&v.targetChanges.get(C.targetId),j=v&&v.targetMismatches.get(C.targetId)!=null,F=C.view.applyChanges(T,I.isPrimaryClient,N,j);return X_(I,C.targetId,F.Ma),F.snapshot}(t,f,g,y);const i=await B_(t.localStore,e,!0),o=new AO(e,i.gs),a=o.Sa(i.documents),l=Cl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);X_(t,n,u.Ma);const d=new MO(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),u.snapshot}async function UO(t,e,n){const r=ne(t),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter(o=>!Fd(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Yp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Lg(r.remoteStore,s.targetId),Qp(r,s.targetId)}).catch(No)):(Qp(r,s.targetId),await Yp(r.localStore,s.targetId,!0))}async function BO(t,e){const n=ne(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Lg(n.remoteStore,r.targetId))}async function $O(t,e,n){const r=QO(t);try{const s=await function(o,a){const l=ne(o),u=et.now(),d=a.reduce((y,_)=>y.add(_.key),oe());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let _=kr(),I=oe();return l.ds.getEntries(y,d).next(C=>{_=C,_.forEach((E,v)=>{v.isValidDocument()||(I=I.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,_)).next(C=>{f=C;const E=[];for(const v of a){const T=rM(v,f.get(v.key).overlayedDocument);T!=null&&E.push(new _i(v.key,T,jT(T.value.mapValue),hr.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,E,a)}).next(C=>{g=C;const E=C.applyToLocalDocumentSet(f,I);return l.documentOverlayCache.saveOverlays(y,C.batchId,E)})}).then(()=>({batchId:g.batchId,changes:qT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Wa[o.currentUser.toKey()];u||(u=new Le(le)),u=u.insert(a,l),o.Wa[o.currentUser.toKey()]=u}(r,s.batchId,n),await Pl(r,s.changes),await Yd(r.remoteStore)}catch(s){const i=Bg(s,"Failed to persist write");n.reject(i)}}async function Nx(t,e){const n=ne(t);try{const r=await tO(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ka.get(i);o&&(me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?me(o.Ba):s.removedDocuments.size>0&&(me(o.Ba),o.Ba=!1))}),await Pl(n,r,e)}catch(r){await No(r)}}function G_(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((i,o)=>{const a=o.view.sa(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ne(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const g of f.ta)g.sa(a)&&(u=!0)}),u&&$g(l)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WO(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ka.get(e),i=s&&s.key;if(i){let o=new Le(X.comparator);o=o.insert(i,St.newNoDocument(i,te.min()));const a=oe().add(i),l=new Wd(te.min(),new Map,new Le(le),o,a);await Nx(r,l),r.$a=r.$a.remove(i),r.Ka.delete(e),zg(r)}else await Yp(r.localStore,e,!1).then(()=>Qp(r,e,n)).catch(No)}async function zO(t,e){const n=ne(t),r=e.batch.batchId;try{const s=await eO(n.localStore,e);Mx(n,r,null),Ax(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pl(n,s)}catch(s){await No(s)}}async function HO(t,e,n){const r=ne(t);try{const s=await function(o,a){const l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(me(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);Mx(r,e,n),Ax(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pl(r,s)}catch(s){await No(s)}}function Ax(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function Mx(t,e,n){const r=ne(t);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function Qp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(r=>{t.Ua.containsKey(r)||Ox(t,r)})}function Ox(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Lg(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),zg(t))}function X_(t,e,n){for(const r of n)r instanceof Dx?(t.Ua.addReference(r.key,e),YO(t,r)):r instanceof Px?(Y(Wg,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||Ox(t,r.key)):ee()}function YO(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(Y(Wg,"New document in limbo: "+n),t.Qa.add(r),zg(t))}function zg(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new X(Pe.fromString(e)),r=t.za.next();t.Ka.set(r,new OO(n)),t.$a=t.$a.insert(n,r),wx(t.remoteStore,new Kr(jn(bg(n.path)),r,"TargetPurposeLimboResolution",Od.ae))}}async function Pl(t,e,n){const r=ne(t),s=[],i=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Mg.Yi(l.targetId,u);i.push(f)}}))}),await Promise.all(o),r.La.p_(s),await async function(l,u){const d=ne(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(u,g=>U.forEach(g.Hi,y=>d.persistence.referenceDelegate.addReference(f,g.targetId,y)).next(()=>U.forEach(g.Ji,y=>d.persistence.referenceDelegate.removeReference(f,g.targetId,y)))))}catch(f){if(!Ao(f))throw f;Y(Og,"Failed to update sequence numbers: "+f)}for(const f of u){const g=f.targetId;if(!f.fromCache){const y=d.Ts.get(g),_=y.snapshotVersion,I=y.withLastLimboFreeSnapshotVersion(_);d.Ts=d.Ts.insert(g,I)}}}(r.localStore,i))}async function KO(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){Y(Wg,"User change. New user:",e.toKey());const r=await gx(n.localStore,e);n.currentUser=e,function(i,o){i.Ga.forEach(a=>{a.forEach(l=>{l.reject(new G(B.CANCELLED,o))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pl(n,r.Rs)}}function qO(t,e){const n=ne(t),r=n.Ka.get(e);if(r&&r.Ba)return oe().add(r.key);{let s=oe();const i=n.qa.get(e);if(!i)return s;for(const o of i){const a=n.ka.get(o);s=s.unionWith(a.view.ba)}return s}}function Lx(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WO.bind(null,e),e.La.p_=RO.bind(null,e.eventManager),e.La.Ja=NO.bind(null,e.eventManager),e}function QO(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HO.bind(null,e),e}class Ku{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return ZM(this.persistence,new GM,e.initialUser,this.serializer)}Xa(e){return new mx(Ag.ri,this.serializer)}Za(e){return new oO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ku.provider={build:()=>new Ku};class GO extends Ku{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){me(this.persistence.referenceDelegate instanceof Hu);const r=this.persistence.referenceDelegate.garbageCollector;return new OM(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Ft.withCacheSize(this.cacheSizeBytes):Ft.DEFAULT;return new mx(r=>Hu.ri(r,n),this.serializer)}}class Gp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KO.bind(null,this.syncEngine),await CO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PO}()}createDatastore(e){const n=zd(e.databaseInfo.databaseId),r=function(i){return new dO(i)}(e.databaseInfo);return function(i,o,a,l){return new mO(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new yO(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>G_(this.syncEngine,n,0),function(){return z_.D()?new z_:new aO}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const f=new LO(s,i,o,a,l,u);return d&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ne(s);Y(ii,"RemoteStore shutting down."),i.W_.add(5),await Dl(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Gp.provider={build:()=>new Gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="FirestoreClient";class XO{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=xt.UNAUTHENTICATED,this.clientId=bT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Y(ws,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(ws,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Bg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ff(t,e){t.asyncQueue.verifyOperationInProgress(),Y(ws,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await gx(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function J_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await JO(t);Y(ws,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Y_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Y_(e.remoteStore,s)),t._onlineComponents=e}async function JO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(ws,"Using user provided OfflineComponentProvider");try{await ff(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await ff(t,new Ku)}}else Y(ws,"Using default OfflineComponentProvider"),await ff(t,new GO(void 0));return t._offlineComponents}async function jx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(ws,"Using user provided OnlineComponentProvider"),await J_(t,t._uninitializedComponentsProvider._online)):(Y(ws,"Using default OnlineComponentProvider"),await J_(t,new Gp))),t._onlineComponents}function ZO(t){return jx(t).then(e=>e.syncEngine)}async function Fx(t){const e=await jx(t),n=e.eventManager;return n.onListen=VO.bind(null,e.syncEngine),n.onUnlisten=UO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BO.bind(null,e.syncEngine),n}function eL(t,e,n={}){const r=new dr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new Vx({next:g=>{d.su(),o.enqueueAndForget(()=>bx(i,f));const y=g.docs.has(a);!y&&g.fromCache?u.reject(new G(B.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&l&&l.source==="server"?u.reject(new G(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new Cx(bg(a.path),d,{includeMetadataChanges:!0,Ta:!0});return Sx(i,f)}(await Fx(t),t.asyncQueue,e,n,r)),r.promise}function tL(t,e,n={}){const r=new dr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new Vx({next:g=>{d.su(),o.enqueueAndForget(()=>bx(i,f)),g.fromCache&&l.source==="server"?u.reject(new G(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new Cx(a,d,{includeMetadataChanges:!0,Ta:!0});return Sx(i,f)}(await Fx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t,e,n){if(!n)throw new G(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nL(t,e,n,r){if(e===!0&&r===!0)throw new G(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ew(t){if(!X.isDocumentKey(t))throw new G(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tw(t){if(X.isDocumentKey(t))throw new G(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hg(t);throw new G(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="firestore.googleapis.com",nw=!0;class rw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$x,this.ssl=nw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:nw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=px;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AM)throw new G(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ux((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new G(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new G(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new G(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new u2;switch(r.type){case"firstParty":return new p2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Z_.get(n);r&&(Y("ComponentProvider","Removing Datastore"),Z_.delete(n),r.terminate())}(this),Promise.resolve()}}function rL(t,e,n,r={}){var s;const i=(t=oi(t,Kd))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i.host!==$x&&i.host!==a&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},i),{host:a,ssl:!1,emulatorOptions:r});if(!ei(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=xt.MOCK_USER;else{u=Ak(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new G(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new xt(f)}t._authCredentials=new d2(new ST(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qd(this.firestore,e,this._query)}}class Jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}}class as extends qd{constructor(e,n,r){super(e,n,bg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new X(e))}withConverter(e){return new as(this.firestore,e,this._path)}}function sw(t,e,...n){if(t=nt(t),Bx("collection","path",e),t instanceof Kd){const r=Pe.fromString(e,...n);return tw(r),new as(t,null,r)}{if(!(t instanceof Jt||t instanceof as))throw new G(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return tw(r),new as(t.firestore,null,r)}}function Rl(t,e,...n){if(t=nt(t),arguments.length===1&&(e=bT.newId()),Bx("doc","path",e),t instanceof Kd){const r=Pe.fromString(e,...n);return ew(r),new Jt(t,null,new X(r))}{if(!(t instanceof Jt||t instanceof as))throw new G(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return ew(r),new Jt(t.firestore,t instanceof as?t.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="AsyncQueue";class ow{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new vx(this,"async_queue_retry"),this.bu=()=>{const r=hf();r&&Y(iw,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const n=hf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=hf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new dr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ao(e))throw e;Y(iw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Er("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=Ug.createAndSchedule(this,e,n,r,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Qd extends Kd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new ow,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ow(e),this._firestoreClient=void 0,await e}}}function sL(t,e){const n=typeof t=="object"?t:dg(),r=typeof t=="string"?t:ju,s=Rd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Pk("firestore");i&&rL(s,...i)}return s}function Yg(t){if(t._terminated)throw new G(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||iL(t),t._firestoreClient}function iL(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,d){return new C2(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Ux(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new XO(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _o(yt.fromBase64String(e))}catch(n){throw new G(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _o(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=/^__.*__$/;class aL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _i(e,this.data,this.fieldMask,n,this.fieldTransforms):new bl(e,this.data,n,this.fieldTransforms)}}function zx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class Gg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return qu(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(zx(this.Lu)&&oL.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class lL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zd(e)}ju(e,n,r,s=!1){return new Gg({Lu:e,methodName:n,zu:r,path:ft.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cL(t){const e=t._freezeSettings(),n=zd(t._databaseId);return new lL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uL(t,e,n,r,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,n,s);qx("Data must be an object, but it was:",o,r);const a=Yx(r,o);let l,u;if(i.merge)l=new vn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const g=dL(e,f,n);if(!o.contains(g))throw new G(B.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);fL(d,g)||d.push(g)}l=new vn(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new aL(new an(a),l,u)}function Hx(t,e){if(Kx(t=nt(t)))return qx("Unsupported field value:",e,t),Yx(t,e);if(t instanceof Wx)return function(r,s){if(!zx(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Hx(a,s.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return X2(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=et.fromDate(r);return{timestampValue:zu(s.serializer,i)}}if(r instanceof et){const i=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zu(s.serializer,i)}}if(r instanceof qg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _o)return{bytesValue:ax(s.serializer,r._byteString)};if(r instanceof Jt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Rg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Qg)return function(o,a){return{mapValue:{fields:{[OT]:{stringValue:VT},[Fu]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return Cg(a.serializer,u)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${Hg(r)}`)}(t,e)}function Yx(t,e){const n={};return DT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yi(t,(r,s)=>{const i=Hx(s,e.qu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Kx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof qg||t instanceof _o||t instanceof Jt||t instanceof Wx||t instanceof Qg)}function qx(t,e,n){if(!Kx(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Hg(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function dL(t,e,n){if((e=nt(e))instanceof Kg)return e._internalPath;if(typeof e=="string")return Qx(t,e);throw qu("Field path arguments must be of type string or ",t,!1,void 0,n)}const hL=new RegExp("[~\\*/\\[\\]]");function Qx(t,e,n){if(e.search(hL)>=0)throw qu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kg(...e.split("."))._internalPath}catch{throw qu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qu(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new G(B.INVALID_ARGUMENT,a+t+l)}function fL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pL extends Gx{data(){return super.data()}}function Xx(t,e){return typeof e=="string"?Qx(t,e):e instanceof Kg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gL{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Fu].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>We(o.doubleValue));return new Qg(i)}convertGeoPoint(e){return new qg(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rl(e));default:return null}}convertTimestamp(e){const n=gs(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);me(fx(r));const s=new sl(r.get(1),r.get(3)),i=new X(r.popFirst(5));return s.isEqual(n)||Er(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jx extends Gx{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Jc extends Jx{data(e={}){return super.data(e)}}class vL{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ga(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jc(this._firestore,this._userDataWriter,r.key,r,new ga(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Jc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ga(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Jc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ga(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:_L(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _L(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t){t=oi(t,Jt);const e=oi(t.firestore,Qd);return eL(Yg(e),t._key).then(n=>kL(e,t,n))}class Zx extends gL{constructor(e){super(),this.firestore=e}convertBytes(e){return new _o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function wL(t){t=oi(t,qd);const e=oi(t.firestore,Qd),n=Yg(e),r=new Zx(e);return mL(t._query),tL(n,t._query).then(s=>new vL(e,r,t,s))}function eI(t,e,n){t=oi(t,Jt);const r=oi(t.firestore,Qd),s=yL(t.converter,e);return EL(r,[uL(cL(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,hr.none())])}function EL(t,e){return function(r,s){const i=new dr;return r.asyncQueue.enqueueAndForget(async()=>$O(await ZO(r),s,i)),i.promise}(Yg(t),e)}function kL(t,e,n){const r=n.docs.get(e._key),s=new Zx(t);return new Jx(t,s,e._key,r,new ga(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ro=s})(mi),ti(new ps("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Qd(new h2(r.getProvider("auth-internal")),new m2(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new G(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sl(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),On(h_,f_,e),On(h_,f_,"esm2017")})();const TL={apiKey:"AIzaSyB--D7pQrmIgl5e6QZm8TRoc-9NEuZ6BKU",authDomain:"lazyowner-7571d.firebaseapp.com",databaseURL:"https://lazyowner-7571d-default-rtdb.firebaseio.com",projectId:"lazyowner-7571d",storageBucket:"lazyowner-7571d.firebasestorage.app",messagingSenderId:"361474077422",appId:"1:361474077422:web:e3c7c5075bd11ae8cf79ff",measurementId:"G-RTNJ2KRB5Y"},tI=Lk(TL),ls=l2(tI),ai=sL(tI),xL={user:null,loading:!0,signIn:async()=>{},signUp:async()=>{}},Jg=O.createContext(xL),IL=({children:t})=>{const[e,n]=O.useState(null),[r,s]=O.useState(!0);O.useEffect(()=>GN(ls,l=>{n(l),s(!1)}),[]);const i=async(a,l)=>{try{await HN(ls,a,l)}catch(u){throw console.error("Error signing in:",u),u}},o=async(a,l,u)=>{try{const d=await zN(ls,a,l);await eI(Rl(ai,"users",d.user.uid),{uid:d.user.uid,username:u,email:a}),await KN(d.user,{displayName:u}),console.log("User created:",d.user,"with username:",u)}catch(d){throw console.error("Error signing up:",d),d}};return p.jsx(Jg.Provider,{value:{user:e,loading:r,signIn:i,signUp:o},children:!r&&t})},nI=()=>O.useContext(Jg);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(t,e)=>{const n=O.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>O.createElement("svg",{ref:d,...SL,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${bL(t)}`,a].join(" "),...u},[...e.map(([f,g])=>O.createElement(f,g)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=ce("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=ce("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=ce("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=ce("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=ce("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=ce("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=ce("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=ce("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=ce("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=ce("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=ce("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=ce("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=ce("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=ce("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=ce("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=ce("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=ce("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),oI=({size:t="sm",animated:e=!1})=>{const n=`
    relative
    ${t==="lg"?"w-24 h-24":"w-8 h-8"}
    ${e?"animate-spin-slow":""}
  `,r=`
    absolute
    inset-0
    bg-indigo-500
    rounded-full
    blur-lg
    opacity-50
    ${e?"animate-pulse":""}
  `,s=`
    absolute
    inset-0
    ${t==="lg"?"p-3":"p-1"}
    text-white
    transform
    ${e?"hover:scale-110":""}
    transition-transform
    duration-300
    z-20
  `,i=`
    absolute
    inset-0
    border-4
    border-indigo-600
    rounded-full
    transform
    rotate-45
    ${e?"animate-pulse-fast":""}
    z-10
  `;return p.jsxs("div",{className:n,children:[p.jsx("div",{className:r}),p.jsx("div",{className:i}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600 to-indigo-800 rounded-full shadow-lg z-0"}),p.jsx(Sr,{className:s,fill:"currentColor",size:t==="lg"?72:24,strokeWidth:2,absoluteStrokeWidth:!0})]})},QL=[{id:"All Categories",name:"All Categories",icon:Sr,color:"bg-purple-500"},{id:"Pop Singer",name:"Pop Singer",icon:Qu,color:"bg-blue-500"},{id:"DJ",name:"DJ",icon:LL,color:"bg-green-500"},{id:"Band",name:"Band",icon:ey,color:"bg-pink-500"},{id:"Hip-Hop Artist",name:"Hip-Hop Artist",icon:Qu,color:"bg-red-500"}],GL=[{id:1,name:"John Smith",category:"Musicians",image:"https://images.unsplash.com/photo-1510915361894-db8b60106cb1?auto=format&fit=crop&w=800",price:"$1000/hour"},{id:2,name:"Emma Davis",category:"Actors",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=800",price:"$1500/hour"},{id:3,name:"Michael Jordan",category:"Athletes",image:"https://images.unsplash.com/photo-1539571696357-5a69c17a67c6?auto=format&fit=crop&w=800",price:"$2000/hour"}],XL=[{title:"Browse & Discover",description:"Explore profiles of top artists, bands, and entertainers.",icon:sI,color:"bg-blue-500"},{title:"Book & Customize",description:"Select your favorite star and personalize the booking.",icon:DL,color:"bg-green-500"},{title:"Secure Payment",description:"Pay safely through our platform.",icon:NL,color:"bg-purple-500"},{title:"Enjoy the Experience",description:"Sit back and enjoy an unforgettable event.",icon:Sr,color:"bg-pink-500"}],JL=[{title:"Verified Artists & Secure Payments",description:"All artists are verified and payments are protected.",icon:YL,color:"bg-indigo-500"},{title:"Fast & Easy Booking",description:"Book your favorite artist in minutes.",icon:RL,color:"bg-green-500"},{title:"Customizable Experiences",description:"Personalize your event exactly how you want it.",icon:ey,color:"bg-purple-500"},{title:"Exclusive Talent",description:"Access to top-tier artists for any occasion.",icon:Zg,color:"bg-blue-500"}],ZL=[{name:"Sarah Johnson",event:"Wedding Reception",rating:5,comment:"Amazing experience! The booking process was smooth and the artist exceeded our expectations.",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=400"},{name:"David Chen",event:"Corporate Event",rating:5,comment:"Professional service from start to finish. Will definitely use StarConnect again!",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&w=400"}],e4=[{question:"How do I book an artist?",answer:"Simply browse our catalog, select your preferred artist, choose your date and time, and complete the booking process through our secure platform."},{question:"What if an artist cancels?",answer:"We offer full refunds for artist cancellations and will help you find a suitable replacement immediately."},{question:"How do artists get paid?",answer:"Artists receive payment through our secure platform after the event is successfully completed."}],t4=()=>{const t=wl();return p.jsxs("div",{className:"text-gray-900 dark:text-gray-100",children:[p.jsxs("section",{className:"relative h-[600px] flex items-center justify-center text-white overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(https://images.unsplash.com/photo-1492684223066-81342ee5ff30?auto=format&fit=crop&w=1920)"},children:p.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60"})}),p.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto px-4",children:[p.jsx("div",{className:"mb-8 flex justify-center",children:p.jsx(oI,{size:"lg",animated:!0})}),p.jsx("h1",{className:"text-5xl font-bold mb-6 animate-fade-in",children:"Experience Unforgettable Moments with Your Favorite Rock Stars"}),p.jsx("p",{className:"text-xl mb-8 animate-fade-in-delay",children:"Book personalized experiences."}),p.jsxs("div",{className:"flex justify-center gap-4 animate-fade-in-delay-2",children:[p.jsx(Za,{to:"/book-star",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-lg font-semibold transition transform hover:scale-105",children:"Book a Star"}),p.jsx(Za,{to:"/register-star",className:"bg-white hover:bg-gray-100 text-indigo-600 px-8 py-3 rounded-lg font-semibold transition transform hover:scale-105",children:"Register as a Star"})]})]})]}),p.jsx("section",{className:"py-16 bg-gray-50 dark:bg-gray-800",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:"Browse by Category"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:QL.map(e=>p.jsxs("div",{onClick:()=>{t("/book-star",{state:{selectedCategory:e.name}})},className:"bg-white dark:bg-gray-700 rounded-xl shadow-md p-6 cursor-pointer transform hover:scale-105 transition",children:[p.jsx("div",{className:`${e.color} w-12 h-12 rounded-lg flex items-center justify-center mb-4`,children:p.jsx(e.icon,{className:"w-6 h-6 text-white"})}),p.jsx("h3",{className:"text-xl font-semibold dark:text-white",children:e.name})]},e.id))})]})}),p.jsx("section",{className:"py-16 dark:bg-gray-900",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:"Featured Stars"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:GL.map(e=>p.jsxs("div",{onClick:()=>t(`/star/${e.id}`),className:"bg-white dark:bg-gray-700 rounded-xl shadow-md overflow-hidden cursor-pointer transform hover:scale-105 transition",children:[p.jsx("img",{src:e.image,alt:e.name,className:"w-full h-48 object-cover"}),p.jsxs("div",{className:"p-6",children:[p.jsx("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:e.name}),p.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:e.category}),p.jsx("p",{className:"text-indigo-600 dark:text-indigo-400 font-semibold",children:e.price})]})]},e.id))})]})}),p.jsx("section",{className:"py-16 bg-white dark:bg-gray-900",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:"How It Works"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:XL.map((e,n)=>p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:`${e.color} w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4`,children:p.jsx(e.icon,{className:"w-8 h-8 text-white"})}),p.jsx("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:e.title}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e.description})]},n))})]})}),p.jsx("section",{className:"py-16 bg-gray-50 dark:bg-gray-800",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:"Why Choose StarConnect?"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:JL.map((e,n)=>p.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl shadow-md p-6",children:[p.jsx("div",{className:`${e.color} w-12 h-12 rounded-lg flex items-center justify-center mb-4`,children:p.jsx(e.icon,{className:"w-6 h-6 text-white"})}),p.jsx("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:e.title}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e.description})]},n))})]})}),p.jsx("section",{className:"py-16 bg-white dark:bg-gray-900",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:"What Our Customers Say"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:ZL.map((e,n)=>p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-6 shadow-md",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("img",{src:e.image,alt:e.name,className:"w-12 h-12 rounded-full mr-4"}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold dark:text-white",children:e.name}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e.event})]})]}),p.jsx("div",{className:"flex mb-2",children:[...Array(e.rating)].map((r,s)=>p.jsx(Sr,{className:"w-5 h-5 text-yellow-400 fill-current"},s))}),p.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:e.comment})]},n))})]})}),p.jsx("section",{className:"py-16 bg-gray-50 dark:bg-gray-800",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:"Frequently Asked Questions"}),p.jsx("div",{className:"max-w-3xl mx-auto",children:e4.map((e,n)=>p.jsxs("div",{className:"mb-6 bg-white dark:bg-gray-700 rounded-lg shadow-md p-6",children:[p.jsx("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:e.question}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e.answer})]},n))})]})})]})},n4=()=>{const{categoryId:t}=kk(),e=wl(),n=[{id:1,name:"John Smith",category:"Musicians",image:"https://images.unsplash.com/photo-1510915361894-db8b60106cb1?auto=format&fit=crop&w=800",price:"$1000/hour",rating:4.8,reviews:156,specialties:["Live Performance","Guitar","Vocals"]},{id:2,name:"Emma Davis",category:"Musicians",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=800",price:"$1500/hour",rating:4.9,reviews:203,specialties:["Piano","Songwriting","Voice Training"]}],r={musicians:{title:"Musicians",description:"Book talented musicians for your events, private performances, or virtual concerts.",image:"https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?auto=format&fit=crop&w=1920"},actors:{title:"Actors",description:"Connect with professional actors for events, workshops, or personalized performances.",image:"https://images.unsplash.com/photo-1598387993441-a364f854c3e1?auto=format&fit=crop&w=1920"}}[t]||{title:"Category Not Found",description:"Please select a valid category",image:"https://images.unsplash.com/photo-1492684223066-81342ee5ff30?auto=format&fit=crop&w=1920"};return p.jsxs("div",{className:"text-gray-900 dark:text-gray-100",children:[p.jsxs("div",{className:"relative h-[300px] flex items-center justify-center text-white",children:[p.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${r.image})`},children:p.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60"})}),p.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto px-4",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:r.title}),p.jsx("p",{className:"text-lg",children:r.description})]})]}),p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[p.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[p.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition",children:[p.jsx(OL,{className:"w-5 h-5"}),"Price Range"]}),p.jsx("button",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition",children:"Rating (4+)"}),p.jsx("button",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition",children:"Available Today"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(s=>p.jsxs("div",{onClick:()=>e(`/star/${s.id}`),className:"bg-white dark:bg-gray-700 rounded-xl shadow-md overflow-hidden cursor-pointer transform hover:scale-105 transition",children:[p.jsx("img",{src:s.image,alt:s.name,className:"w-full h-48 object-cover"}),p.jsxs("div",{className:"p-6",children:[p.jsx("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:s.name}),p.jsxs("div",{className:"flex items-center mb-3",children:[p.jsx(Sr,{className:"w-5 h-5 text-yellow-400"}),p.jsx("span",{className:"ml-1",children:s.rating}),p.jsxs("span",{className:"text-gray-400 dark:text-gray-400 ml-1",children:["(",s.reviews," reviews)"]})]}),p.jsx("div",{className:"mb-4",children:p.jsx("div",{className:"flex flex-wrap gap-2",children:s.specialties.map((i,o)=>p.jsx("span",{className:"bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-200 px-2 py-1 rounded-full text-sm",children:i},o))})}),p.jsx("p",{className:"text-indigo-600 dark:text-indigo-400 font-semibold",children:s.price})]})]},s.id))})]})]})};function aI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=aI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mt(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=aI(t))&&(r&&(r+=" "),r+=e);return r}function li(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function K(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ll(t){if(!li(t)&&typeof t!="number")return!1;const e=K(t);return!isNaN(Number(e))}const r4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},s4=(t,e,n)=>{let r;const s=r4[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function gf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const i4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},o4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},a4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},l4={date:gf({formats:i4,defaultWidth:"full"}),time:gf({formats:o4,defaultWidth:"full"}),dateTime:gf({formats:a4,defaultWidth:"full"})},c4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},u4=(t,e,n,r)=>c4[t];function ra(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const d4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},h4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},f4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},p4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},m4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},g4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},y4=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},v4={ordinalNumber:y4,era:ra({values:d4,defaultWidth:"wide"}),quarter:ra({values:h4,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ra({values:f4,defaultWidth:"wide"}),day:ra({values:p4,defaultWidth:"wide"}),dayPeriod:ra({values:m4,defaultWidth:"wide",formattingValues:g4,defaultFormattingWidth:"wide"})};function sa(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?w4(a,f=>f.test(o)):_4(a,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function _4(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function w4(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function E4(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const k4=/^(\d+)(th|st|nd|rd)?/i,T4=/\d+/i,x4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},I4={any:[/^b/i,/^(a|c)/i]},S4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},b4={any:[/1/i,/2/i,/3/i,/4/i]},C4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},D4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},P4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},R4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},N4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},A4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},M4={ordinalNumber:E4({matchPattern:k4,parsePattern:T4,valueCallback:t=>parseInt(t,10)}),era:sa({matchPatterns:x4,defaultMatchWidth:"wide",parsePatterns:I4,defaultParseWidth:"any"}),quarter:sa({matchPatterns:S4,defaultMatchWidth:"wide",parsePatterns:b4,defaultParseWidth:"any",valueCallback:t=>t+1}),month:sa({matchPatterns:C4,defaultMatchWidth:"wide",parsePatterns:D4,defaultParseWidth:"any"}),day:sa({matchPatterns:P4,defaultMatchWidth:"wide",parsePatterns:R4,defaultParseWidth:"any"}),dayPeriod:sa({matchPatterns:N4,defaultMatchWidth:"any",parsePatterns:A4,defaultParseWidth:"any"})},lI={code:"en-US",formatDistance:s4,formatLong:l4,formatRelative:u4,localize:v4,match:M4,options:{weekStartsOn:0,firstWeekContainsDate:1}};let O4={};function Ei(){return O4}const cI=6048e5,L4=864e5,Gd=6e4,Xd=36e5,V4=1e3;function Un(t){const e=K(t);return e.setHours(0,0,0,0),e}function Xu(t){const e=K(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function cl(t,e){const n=Un(t),r=Un(e),s=+n-Xu(n),i=+r-Xu(r);return Math.round((s-i)/L4)}function ye(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Jd(t){const e=K(t),n=ye(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function j4(t){const e=K(t);return cl(e,Jd(e))+1}function Tr(t,e){var a,l,u,d;const n=Ei(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=K(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function wo(t){return Tr(t,{weekStartsOn:1})}function uI(t){const e=K(t),n=e.getFullYear(),r=ye(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=wo(r),i=ye(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=wo(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function F4(t){const e=uI(t),n=ye(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),wo(n)}function ty(t){const e=K(t),n=+wo(e)-+F4(e);return Math.round(n/cI)+1}function ny(t,e){var d,f,g,y;const n=K(t),r=n.getFullYear(),s=Ei(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(g=s.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,o=ye(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Tr(o,e),l=ye(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=Tr(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function U4(t,e){var a,l,u,d;const n=Ei(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=ny(t,e),i=ye(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Tr(i,e)}function dI(t,e){const n=K(t),r=+Tr(n,e)-+U4(n,e);return Math.round(r/cI)+1}function ge(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Nr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ge(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ge(n+1,2)},d(t,e){return ge(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ge(t.getHours()%12||12,e.length)},H(t,e){return ge(t.getHours(),e.length)},m(t,e){return ge(t.getMinutes(),e.length)},s(t,e){return ge(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ge(s,e.length)}},bi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cw={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Nr.y(t,e)},Y:function(t,e,n,r){const s=ny(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return ge(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):ge(i,e.length)},R:function(t,e){const n=uI(t);return ge(n,e.length)},u:function(t,e){const n=t.getFullYear();return ge(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ge(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ge(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Nr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ge(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=dI(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):ge(s,e.length)},I:function(t,e,n){const r=ty(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ge(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Nr.d(t,e)},D:function(t,e,n){const r=j4(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ge(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ge(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ge(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return ge(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=bi.noon:r===0?s=bi.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=bi.evening:r>=12?s=bi.afternoon:r>=4?s=bi.morning:s=bi.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Nr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Nr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ge(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ge(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Nr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Nr.s(t,e)},S:function(t,e){return Nr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return dw(r);case"XXXX":case"XX":return Vs(r);case"XXXXX":case"XXX":default:return Vs(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return dw(r);case"xxxx":case"xx":return Vs(r);case"xxxxx":case"xxx":default:return Vs(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+uw(r,":");case"OOOO":default:return"GMT"+Vs(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+uw(r,":");case"zzzz":default:return"GMT"+Vs(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ge(r,e.length)},T:function(t,e,n){const r=t.getTime();return ge(r,e.length)}};function uw(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+ge(i,2)}function dw(t,e){return t%60===0?(t>0?"-":"+")+ge(Math.abs(t)/60,2):Vs(t,e)}function Vs(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=ge(Math.trunc(r/60),2),i=ge(r%60,2);return n+s+e+i}const hw=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},hI=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},B4=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return hw(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",hw(r,e)).replace("{{time}}",hI(s,e))},Ju={p:hI,P:B4},$4=/^D+$/,W4=/^Y+$/,z4=["D","DD","YY","YYYY"];function fI(t){return $4.test(t)}function pI(t){return W4.test(t)}function Zp(t,e,n){const r=H4(t,e,n);if(console.warn(r),z4.includes(t))throw new RangeError(r)}function H4(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Y4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,K4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,q4=/^'([^]*?)'?$/,Q4=/''/g,G4=/[a-zA-Z]/;function fw(t,e,n){var d,f,g,y,_,I,C,E;const r=Ei(),s=(n==null?void 0:n.locale)??r.locale??lI,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(g=r.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((I=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:I.weekStartsOn)??r.weekStartsOn??((E=(C=r.locale)==null?void 0:C.options)==null?void 0:E.weekStartsOn)??0,a=K(t);if(!ll(a))throw new RangeError("Invalid time value");let l=e.match(K4).map(v=>{const T=v[0];if(T==="p"||T==="P"){const N=Ju[T];return N(v,s.formatLong)}return v}).join("").match(Y4).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const T=v[0];if(T==="'")return{isToken:!1,value:X4(v)};if(cw[T])return{isToken:!0,value:v};if(T.match(G4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(v=>{if(!v.isToken)return v.value;const T=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&pI(T)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&fI(T))&&Zp(T,e,String(t));const N=cw[T[0]];return N(a,T,s.localize,u)}).join("")}function X4(t){const e=t.match(q4);return e?e[1].replace(Q4,"'"):t}function ry(t,e){const n=+K(t);return ye(t,n+e)}function em(t,e){return ry(t,e*Gd)}function J4(t,e){return ry(t,e*Xd)}function Ds(t,e){const n=K(t);return isNaN(e)?ye(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Zu(t,e){const n=e*7;return Ds(t,n)}function Tn(t,e){const n=K(t);if(isNaN(e))return ye(t,NaN);if(!e)return n;const r=n.getDate(),s=ye(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function sy(t,e){const n=e*3;return Tn(t,n)}function fr(t,e){return Tn(t,e*12)}function Z4(t,e){return Ds(t,-e)}function pw(t,e){return Zu(t,-e)}function Eo(t,e){return Tn(t,-e)}function mI(t,e){return sy(t,-e)}function ko(t,e){return fr(t,-e)}function pr(t){return K(t).getSeconds()}function Bn(t){return K(t).getMinutes()}function $n(t){return K(t).getHours()}function eV(t){return K(t).getDay()}function mw(t){return K(t).getDate()}function Mt(t){return K(t).getMonth()}function Hs(t){const e=K(t);return Math.trunc(e.getMonth()/3)+1}function re(t){return K(t).getFullYear()}function tm(t){return K(t).getTime()}function Zc(t,e){const n=K(t);return n.setSeconds(e),n}function eu(t,e){const n=K(t);return n.setMinutes(e),n}function tu(t,e){const n=K(t);return n.setHours(e),n}function tV(t){const e=K(t),n=e.getFullYear(),r=e.getMonth(),s=ye(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function At(t,e){const n=K(t),r=n.getFullYear(),s=n.getDate(),i=ye(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const o=tV(i);return n.setMonth(e,Math.min(s,o)),n}function Ni(t,e){const n=K(t),r=Math.trunc(n.getMonth()/3)+1,s=e-r;return At(n,n.getMonth()+s*3)}function bn(t,e){const n=K(t);return isNaN(+n)?ye(t,NaN):(n.setFullYear(e),n)}function gw(t){let e;return t.forEach(n=>{const r=K(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function yw(t){let e;return t.forEach(function(n){const r=K(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function ed(t,e){const n=K(t),r=K(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function td(t,e){const n=K(t),r=K(e);return n.getFullYear()-r.getFullYear()}function nd(t,e){const n=K(t),r=K(e),s=n.getFullYear()-r.getFullYear(),i=Hs(n)-Hs(r);return s*4+i}function gI(t){const e=K(t);return e.setDate(1),e.setHours(0,0,0,0),e}function nm(t){const e=K(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function rm(t){const e=K(t);return e.setHours(23,59,59,999),e}function nV(t,e){var a,l;const n=Ei(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,s=K(t),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function rV(t){const e=K(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function yI(t){const e=K(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function sV(t,e){const n=K(t),r=K(e);return+n==+r}function iV(t,e){const n=Un(t),r=Un(e);return+n==+r}function oV(t,e){const n=K(t),r=K(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function aV(t,e){const n=K(t),r=K(e);return n.getFullYear()===r.getFullYear()}function lV(t,e){const n=nm(t),r=nm(e);return+n==+r}function Es(t,e){const n=K(t),r=K(e);return n.getTime()>r.getTime()}function ci(t,e){const n=K(t),r=K(e);return+n<+r}function ul(t,e){const n=+K(t),[r,s]=[+K(e.start),+K(e.end)].sort((i,o)=>i-o);return n>=r&&n<=s}function cV(){return Object.assign({},Ei())}function uV(t,e){const n=e instanceof Date?ye(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const dV=10;class vI{constructor(){H(this,"subPriority",0)}validate(e,n){return!0}}class hV extends vI{constructor(e,n,r,s,i){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=s,i&&(this.subPriority=i)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class fV extends vI{constructor(){super(...arguments);H(this,"priority",dV);H(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:ye(n,uV(n,Date))}}class pe{run(e,n,r,s){const i=this.parse(e,n,r,s);return i?{setter:new hV(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,n,r){return!0}}class pV extends pe{constructor(){super(...arguments);H(this,"priority",140);H(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,r,s){return r.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}const He={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Pn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ye(t,e){return t&&{value:e(t.value),rest:t.rest}}function Ae(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Rn(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(s*Xd+i*Gd+o*V4),rest:e.slice(n[0].length)}}function _I(t){return Ae(He.anyDigitsSigned,t)}function Fe(t,e){switch(t){case 1:return Ae(He.singleDigit,e);case 2:return Ae(He.twoDigits,e);case 3:return Ae(He.threeDigits,e);case 4:return Ae(He.fourDigits,e);default:return Ae(new RegExp("^\\d{1,"+t+"}"),e)}}function rd(t,e){switch(t){case 1:return Ae(He.singleDigitSigned,e);case 2:return Ae(He.twoDigitsSigned,e);case 3:return Ae(He.threeDigitsSigned,e);case 4:return Ae(He.fourDigitsSigned,e);default:return Ae(new RegExp("^-?\\d{1,"+t+"}"),e)}}function iy(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function wI(t,e){const n=e>0,r=n?e:1-e;let s;if(r<=50)s=t||100;else{const i=r+50,o=Math.trunc(i/100)*100,a=t>=i%100;s=t+o-(a?100:0)}return n?s:1-s}function EI(t){return t%400===0||t%4===0&&t%100!==0}class mV extends pe{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Ye(Fe(4,n),i);case"yo":return Ye(s.ordinalNumber(n,{unit:"year"}),i);default:return Ye(Fe(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s){const i=n.getFullYear();if(s.isTwoDigitYear){const a=wI(s.year,i);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class gV extends pe{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Ye(Fe(4,n),i);case"Yo":return Ye(s.ordinalNumber(n,{unit:"year"}),i);default:return Ye(Fe(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s,i){const o=ny(n,i);if(s.isTwoDigitYear){const l=wI(s.year,o);return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Tr(n,i)}const a=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(a,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Tr(n,i)}}class yV extends pe{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return rd(r==="R"?4:r.length,n)}set(n,r,s){const i=ye(n,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),wo(i)}}class vV extends pe{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return rd(r==="u"?4:r.length,n)}set(n,r,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class _V extends pe{constructor(){super(...arguments);H(this,"priority",120);H(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"Q":case"QQ":return Fe(r.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class wV extends pe{constructor(){super(...arguments);H(this,"priority",120);H(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"q":case"qq":return Fe(r.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class EV extends pe{constructor(){super(...arguments);H(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);H(this,"priority",110)}parse(n,r,s){const i=o=>o-1;switch(r){case"M":return Ye(Ae(He.month,n),i);case"MM":return Ye(Fe(2,n),i);case"Mo":return Ye(s.ordinalNumber(n,{unit:"month"}),i);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}class kV extends pe{constructor(){super(...arguments);H(this,"priority",110);H(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,s){const i=o=>o-1;switch(r){case"L":return Ye(Ae(He.month,n),i);case"LL":return Ye(Fe(2,n),i);case"Lo":return Ye(s.ordinalNumber(n,{unit:"month"}),i);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}function TV(t,e,n){const r=K(t),s=dI(r,n)-e;return r.setDate(r.getDate()-s*7),r}class xV extends pe{constructor(){super(...arguments);H(this,"priority",100);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,s){switch(r){case"w":return Ae(He.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return Fe(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s,i){return Tr(TV(n,s,i),i)}}function IV(t,e){const n=K(t),r=ty(n)-e;return n.setDate(n.getDate()-r*7),n}class SV extends pe{constructor(){super(...arguments);H(this,"priority",100);H(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,s){switch(r){case"I":return Ae(He.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return Fe(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s){return wo(IV(n,s))}}const bV=[31,28,31,30,31,30,31,31,30,31,30,31],CV=[31,29,31,30,31,30,31,31,30,31,30,31];class DV extends pe{constructor(){super(...arguments);H(this,"priority",90);H(this,"subPriority",1);H(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"d":return Ae(He.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return Fe(r.length,n)}}validate(n,r){const s=n.getFullYear(),i=EI(s),o=n.getMonth();return i?r>=1&&r<=CV[o]:r>=1&&r<=bV[o]}set(n,r,s){return n.setDate(s),n.setHours(0,0,0,0),n}}class PV extends pe{constructor(){super(...arguments);H(this,"priority",90);H(this,"subpriority",1);H(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,s){switch(r){case"D":case"DD":return Ae(He.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return Fe(r.length,n)}}validate(n,r){const s=n.getFullYear();return EI(s)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}function oy(t,e,n){var f,g,y,_;const r=Ei(),s=(n==null?void 0:n.weekStartsOn)??((g=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((_=(y=r.locale)==null?void 0:y.options)==null?void 0:_.weekStartsOn)??0,i=K(t),o=i.getDay(),l=(e%7+7)%7,u=7-s,d=e<0||e>6?e-(o+u)%7:(l+u)%7-(o+u)%7;return Ds(i,d)}class RV extends pe{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=oy(n,s,i),n.setHours(0,0,0,0),n}}class NV extends pe{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Ye(Fe(r.length,n),o);case"eo":return Ye(s.ordinalNumber(n,{unit:"day"}),o);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=oy(n,s,i),n.setHours(0,0,0,0),n}}class AV extends pe{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Ye(Fe(r.length,n),o);case"co":return Ye(s.ordinalNumber(n,{unit:"day"}),o);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=oy(n,s,i),n.setHours(0,0,0,0),n}}function MV(t){let n=K(t).getDay();return n===0&&(n=7),n}function OV(t,e){const n=K(t),r=MV(n),s=e-r;return Ds(n,s)}class LV extends pe{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,s){const i=o=>o===0?7:o;switch(r){case"i":case"ii":return Fe(r.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return Ye(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return Ye(s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Ye(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Ye(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,r){return r>=1&&r<=7}set(n,r,s){return n=OV(n,s),n.setHours(0,0,0,0),n}}class VV extends pe{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(iy(s),0,0,0),n}}class jV extends pe{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(iy(s),0,0,0),n}}class FV extends pe{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(iy(s),0,0,0),n}}class UV extends pe{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,s){switch(r){case"h":return Ae(He.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return Fe(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,s){const i=n.getHours()>=12;return i&&s<12?n.setHours(s+12,0,0,0):!i&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}class BV extends pe{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,s){switch(r){case"H":return Ae(He.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return Fe(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,s){return n.setHours(s,0,0,0),n}}class $V extends pe{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,s){switch(r){case"K":return Ae(He.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return Fe(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}class WV extends pe{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,s){switch(r){case"k":return Ae(He.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return Fe(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,s){const i=s<=24?s%24:s;return n.setHours(i,0,0,0),n}}class zV extends pe{constructor(){super(...arguments);H(this,"priority",60);H(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"m":return Ae(He.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return Fe(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setMinutes(s,0,0),n}}class HV extends pe{constructor(){super(...arguments);H(this,"priority",50);H(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"s":return Ae(He.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return Fe(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setSeconds(s,0),n}}class YV extends pe{constructor(){super(...arguments);H(this,"priority",30);H(this,"incompatibleTokens",["t","T"])}parse(n,r){const s=i=>Math.trunc(i*Math.pow(10,-r.length+3));return Ye(Fe(r.length,n),s)}set(n,r,s){return n.setMilliseconds(s),n}}class KV extends pe{constructor(){super(...arguments);H(this,"priority",10);H(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Rn(Pn.basicOptionalMinutes,n);case"XX":return Rn(Pn.basic,n);case"XXXX":return Rn(Pn.basicOptionalSeconds,n);case"XXXXX":return Rn(Pn.extendedOptionalSeconds,n);case"XXX":default:return Rn(Pn.extended,n)}}set(n,r,s){return r.timestampIsSet?n:ye(n,n.getTime()-Xu(n)-s)}}class qV extends pe{constructor(){super(...arguments);H(this,"priority",10);H(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Rn(Pn.basicOptionalMinutes,n);case"xx":return Rn(Pn.basic,n);case"xxxx":return Rn(Pn.basicOptionalSeconds,n);case"xxxxx":return Rn(Pn.extendedOptionalSeconds,n);case"xxx":default:return Rn(Pn.extended,n)}}set(n,r,s){return r.timestampIsSet?n:ye(n,n.getTime()-Xu(n)-s)}}class QV extends pe{constructor(){super(...arguments);H(this,"priority",40);H(this,"incompatibleTokens","*")}parse(n){return _I(n)}set(n,r,s){return[ye(n,s*1e3),{timestampIsSet:!0}]}}class GV extends pe{constructor(){super(...arguments);H(this,"priority",20);H(this,"incompatibleTokens","*")}parse(n){return _I(n)}set(n,r,s){return[ye(n,s),{timestampIsSet:!0}]}}const XV={G:new pV,y:new mV,Y:new gV,R:new yV,u:new vV,Q:new _V,q:new wV,M:new EV,L:new kV,w:new xV,I:new SV,d:new DV,D:new PV,E:new RV,e:new NV,c:new AV,i:new LV,a:new VV,b:new jV,B:new FV,h:new UV,H:new BV,K:new $V,k:new WV,m:new zV,s:new HV,S:new YV,X:new KV,x:new qV,t:new QV,T:new GV},JV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ZV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ej=/^'([^]*?)'?$/,tj=/''/g,nj=/\S/,rj=/[a-zA-Z]/;function yf(t,e,n,r){var I,C,E,v,T,N,j,F;const s=cV(),i=(r==null?void 0:r.locale)??s.locale??lI,o=(r==null?void 0:r.firstWeekContainsDate)??((C=(I=r==null?void 0:r.locale)==null?void 0:I.options)==null?void 0:C.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(E=s.locale)==null?void 0:E.options)==null?void 0:v.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((N=(T=r==null?void 0:r.locale)==null?void 0:T.options)==null?void 0:N.weekStartsOn)??s.weekStartsOn??((F=(j=s.locale)==null?void 0:j.options)==null?void 0:F.weekStartsOn)??0;if(e==="")return t===""?K(n):ye(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:i},u=[new fV],d=e.match(ZV).map(x=>{const w=x[0];if(w in Ju){const b=Ju[w];return b(x,i.formatLong)}return x}).join("").match(JV),f=[];for(let x of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&pI(x)&&Zp(x,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&fI(x)&&Zp(x,e,t);const w=x[0],b=XV[w];if(b){const{incompatibleTokens:D}=b;if(Array.isArray(D)){const A=f.find(P=>D.includes(P.token)||P.token===w);if(A)throw new RangeError(`The format string mustn't contain \`${A.fullToken}\` and \`${x}\` at the same time`)}else if(b.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${x}\` and any other token at the same time`);f.push({token:w,fullToken:x});const R=b.run(t,x,i.match,l);if(!R)return ye(n,NaN);u.push(R.setter),t=R.rest}else{if(w.match(rj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");if(x==="''"?x="'":w==="'"&&(x=sj(x)),t.indexOf(x)===0)t=t.slice(x.length);else return ye(n,NaN)}}if(t.length>0&&nj.test(t))return ye(n,NaN);const g=u.map(x=>x.priority).sort((x,w)=>w-x).filter((x,w,b)=>b.indexOf(x)===w).map(x=>u.filter(w=>w.priority===x).sort((w,b)=>b.subPriority-w.subPriority)).map(x=>x[0]);let y=K(n);if(isNaN(y.getTime()))return ye(n,NaN);const _={};for(const x of g){if(!x.validate(y,l))return ye(n,NaN);const w=x.set(y,_,l);Array.isArray(w)?(y=w[0],Object.assign(_,w[1])):y=w}return ye(n,y)}function sj(t){return t.match(ej)[1].replace(tj,"'")}function ij(t,e){const r=cj(t);let s;if(r.date){const l=uj(r.date,2);s=dj(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,a;if(r.time&&(o=hj(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=fj(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(i+o),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(i+o+a)}const kc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},oj=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,aj=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,lj=/^([+-])(\d{2})(?::?(\d{2}))?$/;function cj(t){const e={},n=t.split(kc.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],kc.timeZoneDelimiter.test(e.date)&&(e.date=t.split(kc.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=kc.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function uj(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function dj(t,e){if(e===null)return new Date(NaN);const n=t.match(oj);if(!n)return new Date(NaN);const r=!!n[4],s=ia(n[1]),i=ia(n[2])-1,o=ia(n[3]),a=ia(n[4]),l=ia(n[5])-1;if(r)return vj(e,a,l)?pj(e,a,l):new Date(NaN);{const u=new Date(0);return!gj(e,i,o)||!yj(e,s)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(s,o)),u)}}function ia(t){return t?parseInt(t):1}function hj(t){const e=t.match(aj);if(!e)return NaN;const n=vf(e[1]),r=vf(e[2]),s=vf(e[3]);return _j(n,r,s)?n*Xd+r*Gd+s*1e3:NaN}function vf(t){return t&&parseFloat(t.replace(",","."))||0}function fj(t){if(t==="Z")return 0;const e=t.match(lj);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return wj(r,s)?n*(r*Xd+s*Gd):NaN}function pj(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const mj=[31,null,31,30,31,30,31,31,30,31,30,31];function kI(t){return t%400===0||t%4===0&&t%100!==0}function gj(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(mj[e]||(kI(t)?29:28))}function yj(t,e){return e>=1&&e<=(kI(t)?366:365)}function vj(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function _j(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function wj(t,e){return e>=0&&e<=59}function Ej(t,e){return ry(t,e*1e3)}function kj(t,e){let n=K(t);return isNaN(+n)?ye(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=At(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function Tj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,sm(t,e)}function sm(t,e){return sm=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},sm(t,e)}function xj(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function vw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ij(t,e,n){return t===e?!0:t.correspondingElement?t.correspondingElement.classList.contains(n):t.classList.contains(n)}function Sj(t,e,n){if(t===e)return!0;for(;t.parentNode||t.host;){if(t.parentNode&&Ij(t,e,n))return!0;t=t.parentNode||t.host}return t}function bj(t){return document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY}var Cj=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var e=!1,n=Object.defineProperty({},"passive",{get:function(){e=!0}}),r=function(){};return window.addEventListener("testPassiveEventSupport",r,n),window.removeEventListener("testPassiveEventSupport",r,n),e}};function Dj(t){return t===void 0&&(t=0),function(){return++t}}var Pj=Dj(),im,Tc={},_f={},Rj=["touchstart","touchmove"],Nj="ignore-react-onclickoutside";function _w(t,e){var n={},r=Rj.indexOf(e)!==-1;return r&&im&&(n.passive=!t.props.preventDefault),n}function Zd(t,e){var n,r,s=t.displayName||t.name||"Component";return r=n=function(i){Tj(o,i);function o(l){var u;return u=i.call(this,l)||this,u.__outsideClickHandler=function(d){if(typeof u.__clickOutsideHandlerProp=="function"){u.__clickOutsideHandlerProp(d);return}var f=u.getInstance();if(typeof f.props.handleClickOutside=="function"){f.props.handleClickOutside(d);return}if(typeof f.handleClickOutside=="function"){f.handleClickOutside(d);return}throw new Error("WrappedComponent: "+s+" lacks a handleClickOutside(event) function for processing outside click events.")},u.__getComponentNode=function(){var d=u.getInstance();return typeof d.setClickOutsideRef=="function"?d.setClickOutsideRef():bd.findDOMNode(d)},u.enableOnClickOutside=function(){if(!(typeof document>"u"||_f[u._uid])){typeof im>"u"&&(im=Cj()),_f[u._uid]=!0;var d=u.props.eventTypes;d.forEach||(d=[d]),Tc[u._uid]=function(f){if(u.componentNode!==null&&!(u.initTimeStamp>f.timeStamp)&&(u.props.preventDefault&&f.preventDefault(),u.props.stopPropagation&&f.stopPropagation(),!(u.props.excludeScrollbar&&bj(f)))){var g=f.composed&&f.composedPath&&f.composedPath().shift()||f.target;Sj(g,u.componentNode,u.props.outsideClickIgnoreClass)===document&&u.__outsideClickHandler(f)}},d.forEach(function(f){document.addEventListener(f,Tc[u._uid],_w(vw(u),f))})}},u.disableOnClickOutside=function(){delete _f[u._uid];var d=Tc[u._uid];if(d&&typeof document<"u"){var f=u.props.eventTypes;f.forEach||(f=[f]),f.forEach(function(g){return document.removeEventListener(g,d,_w(vw(u),g))}),delete Tc[u._uid]}},u.getRef=function(d){return u.instanceRef=d},u._uid=Pj(),u.initTimeStamp=performance.now(),u}var a=o.prototype;return a.getInstance=function(){if(t.prototype&&!t.prototype.isReactComponent)return this;var u=this.instanceRef;return u.getInstance?u.getInstance():u},a.componentDidMount=function(){typeof document>"u"||!document.createElement||(this.getInstance(),this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside())},a.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},a.componentWillUnmount=function(){this.disableOnClickOutside()},a.render=function(){var u=this.props;u.excludeScrollbar;var d=xj(u,["excludeScrollbar"]);return t.prototype&&t.prototype.isReactComponent?d.ref=this.getRef:d.wrappedRef=this.getRef,d.disableOnClickOutside=this.disableOnClickOutside,d.enableOnClickOutside=this.enableOnClickOutside,O.createElement(t,d)},o}(O.Component),n.displayName="OnClickOutside("+s+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:!1,outsideClickIgnoreClass:Nj,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return t.getClass?t.getClass():t},r}function eh(){return typeof window<"u"}function Oo(t){return TI(t)?(t.nodeName||"").toLowerCase():"#document"}function Zt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qn(t){var e;return(e=(TI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function TI(t){return eh()?t instanceof Node||t instanceof Zt(t).Node:!1}function Ot(t){return eh()?t instanceof Element||t instanceof Zt(t).Element:!1}function Yn(t){return eh()?t instanceof HTMLElement||t instanceof Zt(t).HTMLElement:!1}function ww(t){return!eh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Zt(t).ShadowRoot}function Nl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=hn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function Aj(t){return["table","td","th"].includes(Oo(t))}function th(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function ay(t){const e=ly(),n=Ot(t)?hn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Mj(t){let e=ks(t);for(;Yn(e)&&!To(e);){if(ay(e))return e;if(th(e))return null;e=ks(e)}return null}function ly(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function To(t){return["html","body","#document"].includes(Oo(t))}function hn(t){return Zt(t).getComputedStyle(t)}function nh(t){return Ot(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ks(t){if(Oo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ww(t)&&t.host||qn(t);return ww(e)?e.host:e}function xI(t){const e=ks(t);return To(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yn(e)&&Nl(e)?e:xI(e)}function dl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=xI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Zt(s);if(i){const a=om(o);return e.concat(o,o.visualViewport||[],Nl(s)?s:[],a&&n?dl(a):[])}return e.concat(s,dl(s,[],n))}function om(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const xo=Math.min,Ys=Math.max,sd=Math.round,xc=Math.floor,Wn=t=>({x:t,y:t}),Oj={left:"right",right:"left",bottom:"top",top:"bottom"},Lj={start:"end",end:"start"};function Vj(t,e,n){return Ys(t,xo(e,n))}function rh(t,e){return typeof t=="function"?t(e):t}function Io(t){return t.split("-")[0]}function Al(t){return t.split("-")[1]}function jj(t){return t==="x"?"y":"x"}function cy(t){return t==="y"?"height":"width"}function hl(t){return["top","bottom"].includes(Io(t))?"y":"x"}function uy(t){return jj(hl(t))}function Fj(t,e,n){n===void 0&&(n=!1);const r=Al(t),s=uy(t),i=cy(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=id(o)),[o,id(o)]}function Uj(t){const e=id(t);return[am(t),e,am(e)]}function am(t){return t.replace(/start|end/g,e=>Lj[e])}function Bj(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function $j(t,e,n,r){const s=Al(t);let i=Bj(Io(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(am)))),i}function id(t){return t.replace(/left|right|bottom|top/g,e=>Oj[e])}function Wj(t){return{top:0,right:0,bottom:0,left:0,...t}}function II(t){return typeof t!="number"?Wj(t):{top:t,right:t,bottom:t,left:t}}function od(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Ew(t,e,n){let{reference:r,floating:s}=t;const i=hl(e),o=uy(e),a=cy(o),l=Io(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,g=r[a]/2-s[a]/2;let y;switch(l){case"top":y={x:d,y:r.y-s.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-s.width,y:f};break;default:y={x:r.x,y:r.y}}switch(Al(e)){case"start":y[o]-=g*(n&&u?-1:1);break;case"end":y[o]+=g*(n&&u?-1:1);break}return y}const zj=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=Ew(u,r,l),g=r,y={},_=0;for(let I=0;I<a.length;I++){const{name:C,fn:E}=a[I],{x:v,y:T,data:N,reset:j}=await E({x:d,y:f,initialPlacement:r,placement:g,strategy:s,middlewareData:y,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,f=T??f,y={...y,[C]:{...y[C],...N}},j&&_<=50&&(_++,typeof j=="object"&&(j.placement&&(g=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):j.rects),{x:d,y:f}=Ew(u,g,l)),I=-1)}return{x:d,y:f,placement:g,strategy:s,middlewareData:y}};async function Hj(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:g=!1,padding:y=0}=rh(e,t),_=II(y),C=a[g?f==="floating"?"reference":"floating":f],E=od(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(C)))==null||n?C:C.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},j=od(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:T,strategy:l}):v);return{top:(E.top-j.top+_.top)/N.y,bottom:(j.bottom-E.bottom+_.bottom)/N.y,left:(E.left-j.left+_.left)/N.x,right:(j.right-E.right+_.right)/N.x}}const Yj=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=rh(t,e)||{};if(u==null)return{};const f=II(d),g={x:n,y:r},y=uy(s),_=cy(y),I=await o.getDimensions(u),C=y==="y",E=C?"top":"left",v=C?"bottom":"right",T=C?"clientHeight":"clientWidth",N=i.reference[_]+i.reference[y]-g[y]-i.floating[_],j=g[y]-i.reference[y],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let x=F?F[T]:0;(!x||!await(o.isElement==null?void 0:o.isElement(F)))&&(x=a.floating[T]||i.floating[_]);const w=N/2-j/2,b=x/2-I[_]/2-1,D=xo(f[E],b),R=xo(f[v],b),A=D,P=x-I[_]-R,ae=x/2-I[_]/2+w,Ge=Vj(A,ae,P),xe=!l.arrow&&Al(s)!=null&&ae!==Ge&&i.reference[_]/2-(ae<A?D:R)-I[_]/2<0,ke=xe?ae<A?ae-A:ae-P:0;return{[y]:g[y]+ke,data:{[y]:Ge,centerOffset:ae-Ge-ke,...xe&&{alignmentOffset:ke}},reset:xe}}}),Kj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:I=!0,...C}=rh(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Io(s),v=hl(a),T=Io(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(u.floating)),j=g||(T||!I?[id(a)]:Uj(a)),F=_!=="none";!g&&F&&j.push(...$j(a,I,_,N));const x=[a,...j],w=await Hj(e,C),b=[];let D=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&b.push(w[E]),f){const ae=Fj(s,o,N);b.push(w[ae[0]],w[ae[1]])}if(D=[...D,{placement:s,overflows:b}],!b.every(ae=>ae<=0)){var R,A;const ae=(((R=i.flip)==null?void 0:R.index)||0)+1,Ge=x[ae];if(Ge)return{data:{index:ae,overflows:D},reset:{placement:Ge}};let xe=(A=D.filter(ke=>ke.overflows[0]<=0).sort((ke,$)=>ke.overflows[1]-$.overflows[1])[0])==null?void 0:A.placement;if(!xe)switch(y){case"bestFit":{var P;const ke=(P=D.filter($=>{if(F){const Q=hl($.placement);return Q===v||Q==="y"}return!0}).map($=>[$.placement,$.overflows.filter(Q=>Q>0).reduce((Q,J)=>Q+J,0)]).sort(($,Q)=>$[1]-Q[1])[0])==null?void 0:P[0];ke&&(xe=ke);break}case"initialPlacement":xe=a;break}if(s!==xe)return{reset:{placement:xe}}}return{}}}};async function qj(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Io(n),a=Al(n),l=hl(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=rh(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof _=="number"&&(y=a==="end"?_*-1:_),l?{x:y*d,y:g*u}:{x:g*u,y:y*d}}const Qj=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await qj(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}};function SI(t){const e=hn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Yn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=sd(n)!==i||sd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function dy(t){return Ot(t)?t:t.contextElement}function no(t){const e=dy(t);if(!Yn(e))return Wn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=SI(e);let o=(i?sd(n.width):n.width)/r,a=(i?sd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Gj=Wn(0);function bI(t){const e=Zt(t);return!ly()||!e.visualViewport?Gj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Xj(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Zt(t)?!1:e}function ui(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=dy(t);let o=Wn(1);e&&(r?Ot(r)&&(o=no(r)):o=no(t));const a=Xj(i,n,r)?bI(i):Wn(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const g=Zt(i),y=r&&Ot(r)?Zt(r):r;let _=g,I=om(_);for(;I&&r&&y!==_;){const C=no(I),E=I.getBoundingClientRect(),v=hn(I),T=E.left+(I.clientLeft+parseFloat(v.paddingLeft))*C.x,N=E.top+(I.clientTop+parseFloat(v.paddingTop))*C.y;l*=C.x,u*=C.y,d*=C.x,f*=C.y,l+=T,u+=N,_=Zt(I),I=om(_)}}return od({width:d,height:f,x:l,y:u})}function hy(t,e){const n=nh(t).scrollLeft;return e?e.left+n:ui(qn(t)).left+n}function CI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:hy(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function Jj(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=qn(r),a=e?th(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Wn(1);const d=Wn(0),f=Yn(r);if((f||!f&&!i)&&((Oo(r)!=="body"||Nl(o))&&(l=nh(r)),Yn(r))){const y=ui(r);u=no(r),d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}const g=o&&!f&&!i?CI(o,l,!0):Wn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+g.x,y:n.y*u.y-l.scrollTop*u.y+d.y+g.y}}function Zj(t){return Array.from(t.getClientRects())}function eF(t){const e=qn(t),n=nh(t),r=t.ownerDocument.body,s=Ys(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Ys(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+hy(t);const a=-n.scrollTop;return hn(r).direction==="rtl"&&(o+=Ys(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function tF(t,e){const n=Zt(t),r=qn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=ly();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function nF(t,e){const n=ui(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Yn(t)?no(t):Wn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function kw(t,e,n){let r;if(e==="viewport")r=tF(t,n);else if(e==="document")r=eF(qn(t));else if(Ot(e))r=nF(e,n);else{const s=bI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return od(r)}function DI(t,e){const n=ks(t);return n===e||!Ot(n)||To(n)?!1:hn(n).position==="fixed"||DI(n,e)}function rF(t,e){const n=e.get(t);if(n)return n;let r=dl(t,[],!1).filter(a=>Ot(a)&&Oo(a)!=="body"),s=null;const i=hn(t).position==="fixed";let o=i?ks(t):t;for(;Ot(o)&&!To(o);){const a=hn(o),l=ay(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Nl(o)&&!l&&DI(t,o))?r=r.filter(d=>d!==o):s=a,o=ks(o)}return e.set(t,r),r}function sF(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?th(e)?[]:rF(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=kw(e,d,s);return u.top=Ys(f.top,u.top),u.right=xo(f.right,u.right),u.bottom=xo(f.bottom,u.bottom),u.left=Ys(f.left,u.left),u},kw(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function iF(t){const{width:e,height:n}=SI(t);return{width:e,height:n}}function oF(t,e,n){const r=Yn(e),s=qn(e),i=n==="fixed",o=ui(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Wn(0);if(r||!r&&!i)if((Oo(e)!=="body"||Nl(s))&&(a=nh(e)),r){const g=ui(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=hy(s));const u=s&&!r&&!i?CI(s,a):Wn(0),d=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function wf(t){return hn(t).position==="static"}function Tw(t,e){if(!Yn(t)||hn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return qn(t)===n&&(n=n.ownerDocument.body),n}function PI(t,e){const n=Zt(t);if(th(t))return n;if(!Yn(t)){let s=ks(t);for(;s&&!To(s);){if(Ot(s)&&!wf(s))return s;s=ks(s)}return n}let r=Tw(t,e);for(;r&&Aj(r)&&wf(r);)r=Tw(r,e);return r&&To(r)&&wf(r)&&!ay(r)?n:r||Mj(t)||n}const aF=async function(t){const e=this.getOffsetParent||PI,n=this.getDimensions,r=await n(t.floating);return{reference:oF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function lF(t){return hn(t).direction==="rtl"}const cF={convertOffsetParentRelativeRectToViewportRelativeRect:Jj,getDocumentElement:qn,getClippingRect:sF,getOffsetParent:PI,getElementRects:aF,getClientRects:Zj,getDimensions:iF,getScale:no,isElement:Ot,isRTL:lF};function RI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function uF(t,e){let n=null,r;const s=qn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:g,height:y}=u;if(a||e(),!g||!y)return;const _=xc(f),I=xc(s.clientWidth-(d+g)),C=xc(s.clientHeight-(f+y)),E=xc(d),T={rootMargin:-_+"px "+-I+"px "+-C+"px "+-E+"px",threshold:Ys(0,xo(1,l))||1};let N=!0;function j(F){const x=F[0].intersectionRatio;if(x!==l){if(!N)return o();x?o(!1,x):r=setTimeout(()=>{o(!1,1e-7)},1e3)}x===1&&!RI(u,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(j,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,T)}n.observe(t)}return o(!0),i}function dF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=dy(t),d=s||i?[...u?dl(u):[],...dl(e)]:[];d.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const f=u&&a?uF(u,n):null;let g=-1,y=null;o&&(y=new ResizeObserver(E=>{let[v]=E;v&&v.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(e)})),n()}),u&&!l&&y.observe(u),y.observe(e));let _,I=l?ui(t):null;l&&C();function C(){const E=ui(t);I&&!RI(I,E)&&n(),I=E,_=requestAnimationFrame(C)}return n(),()=>{var E;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(E=y)==null||E.disconnect(),y=null,l&&cancelAnimationFrame(_)}}const hF=Qj,fF=Kj,xw=Yj,pF=(t,e,n)=>{const r=new Map,s={platform:cF,...n},i={...s.platform,_c:r};return zj(t,e,{...s,platform:i})};var nu=typeof document<"u"?O.useLayoutEffect:O.useEffect;function ad(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ad(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ad(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function NI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Iw(t,e){const n=NI(t);return Math.round(e*n)/n}function Ef(t){const e=O.useRef(t);return nu(()=>{e.current=t}),e}function mF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=O.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=O.useState(r);ad(g,r)||y(r);const[_,I]=O.useState(null),[C,E]=O.useState(null),v=O.useCallback($=>{$!==F.current&&(F.current=$,I($))},[]),T=O.useCallback($=>{$!==x.current&&(x.current=$,E($))},[]),N=i||_,j=o||C,F=O.useRef(null),x=O.useRef(null),w=O.useRef(d),b=l!=null,D=Ef(l),R=Ef(s),A=Ef(u),P=O.useCallback(()=>{if(!F.current||!x.current)return;const $={placement:e,strategy:n,middleware:g};R.current&&($.platform=R.current),pF(F.current,x.current,$).then(Q=>{const J={...Q,isPositioned:A.current!==!1};ae.current&&!ad(w.current,J)&&(w.current=J,bd.flushSync(()=>{f(J)}))})},[g,e,n,R,A]);nu(()=>{u===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const ae=O.useRef(!1);nu(()=>(ae.current=!0,()=>{ae.current=!1}),[]),nu(()=>{if(N&&(F.current=N),j&&(x.current=j),N&&j){if(D.current)return D.current(N,j,P);P()}},[N,j,P,D,b]);const Ge=O.useMemo(()=>({reference:F,floating:x,setReference:v,setFloating:T}),[v,T]),xe=O.useMemo(()=>({reference:N,floating:j}),[N,j]),ke=O.useMemo(()=>{const $={position:n,left:0,top:0};if(!xe.floating)return $;const Q=Iw(xe.floating,d.x),J=Iw(xe.floating,d.y);return a?{...$,transform:"translate("+Q+"px, "+J+"px)",...NI(xe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:J}},[n,a,xe.floating,d.x,d.y]);return O.useMemo(()=>({...d,update:P,refs:Ge,elements:xe,floatingStyles:ke}),[d,P,Ge,xe,ke])}const gF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?xw({element:r.current,padding:s}).fn(n):{}:r?xw({element:r,padding:s}).fn(n):{}}}},yF=(t,e)=>({...hF(t),options:[t,e]}),vF=(t,e)=>({...fF(t),options:[t,e]}),_F=(t,e)=>({...gF(t),options:[t,e]}),AI={...uE},wF=AI.useInsertionEffect,EF=wF||(t=>t());function kF(t){const e=O.useRef(()=>{});return EF(()=>{e.current=t}),O.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}var ld=typeof document<"u"?O.useLayoutEffect:O.useEffect;function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lm.apply(this,arguments)}let Sw=!1,TF=0;const bw=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+TF++;function xF(){const[t,e]=O.useState(()=>Sw?bw():void 0);return ld(()=>{t==null&&e(bw())},[]),O.useEffect(()=>{Sw=!0},[]),t}const IF=AI.useId,MI=IF||xF,SF=O.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:s},middlewareData:{arrow:i,shift:o}},width:a=14,height:l=7,tipRadius:u=0,strokeWidth:d=0,staticOffset:f,stroke:g,d:y,style:{transform:_,...I}={},...C}=e,E=MI(),[v,T]=O.useState(!1);if(ld(()=>{if(!s)return;hn(s).direction==="rtl"&&T(!0)},[s]),!s)return null;const[N,j]=r.split("-"),F=N==="top"||N==="bottom";let x=f;(F&&o!=null&&o.x||!F&&o!=null&&o.y)&&(x=null);const w=d*2,b=w/2,D=a/2*(u/-8+1),R=l/2*u/4,A=!!y,P=x&&j==="end"?"bottom":"top";let ae=x&&j==="end"?"right":"left";x&&v&&(ae=j==="end"?"left":"right");const Ge=(i==null?void 0:i.x)!=null?x||i.x:"",xe=(i==null?void 0:i.y)!=null?x||i.y:"",ke=y||"M0,0"+(" H"+a)+(" L"+(a-D)+","+(l-R))+(" Q"+a/2+","+l+" "+D+","+(l-R))+" Z",$={top:A?"rotate(180deg)":"",left:A?"rotate(90deg)":"rotate(-90deg)",bottom:A?"":"rotate(180deg)",right:A?"rotate(-90deg)":"rotate(90deg)"}[N];return O.createElement("svg",lm({},C,{"aria-hidden":!0,ref:n,width:A?a:a+w,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[ae]:Ge,[P]:xe,[N]:F||A?"100%":"calc(100% - "+w/2+"px)",transform:[$,_].filter(Q=>!!Q).join(" "),...I}}),w>0&&O.createElement("path",{clipPath:"url(#"+E+")",fill:"none",stroke:g,strokeWidth:w+(y?0:1),d:ke}),O.createElement("path",{stroke:w&&!y?C.fill:"none",d:ke}),O.createElement("clipPath",{id:E},O.createElement("rect",{x:-b,y:b*(A?-1:1),width:a+w,height:a})))});function bF(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(s=>s(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(s=>s!==n))||[])}}}const CF=O.createContext(null),DF=O.createContext(null),PF=()=>{var t;return((t=O.useContext(CF))==null?void 0:t.id)||null},RF=()=>O.useContext(DF);function NF(t){const{open:e=!1,onOpenChange:n,elements:r}=t,s=MI(),i=O.useRef({}),[o]=O.useState(()=>bF()),a=PF()!=null,[l,u]=O.useState(r.reference),d=kF((y,_,I)=>{i.current.openEvent=y?_:void 0,o.emit("openchange",{open:y,event:_,reason:I,nested:a}),n==null||n(y,_,I)}),f=O.useMemo(()=>({setPositionReference:u}),[]),g=O.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return O.useMemo(()=>({dataRef:i,open:e,onOpenChange:d,elements:g,events:o,floatingId:s,refs:f}),[e,d,g,o,s,f])}function AF(t){t===void 0&&(t={});const{nodeId:e}=t,n=NF({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,s=r.elements,[i,o]=O.useState(null),[a,l]=O.useState(null),d=(s==null?void 0:s.domReference)||i,f=O.useRef(null),g=RF();ld(()=>{d&&(f.current=d)},[d]);const y=mF({...t,elements:{...s,...a&&{reference:a}}}),_=O.useCallback(T=>{const N=Ot(T)?{getBoundingClientRect:()=>T.getBoundingClientRect(),contextElement:T}:T;l(N),y.refs.setReference(N)},[y.refs]),I=O.useCallback(T=>{(Ot(T)||T===null)&&(f.current=T,o(T)),(Ot(y.refs.reference.current)||y.refs.reference.current===null||T!==null&&!Ot(T))&&y.refs.setReference(T)},[y.refs]),C=O.useMemo(()=>({...y.refs,setReference:I,setPositionReference:_,domReference:f}),[y.refs,I,_]),E=O.useMemo(()=>({...y.elements,domReference:d}),[y.elements,d]),v=O.useMemo(()=>({...y,...r,refs:C,elements:E,nodeId:e}),[y,C,E,e,r]);return ld(()=>{r.dataRef.current.floatingContext=v;const T=g==null?void 0:g.nodesRef.current.find(N=>N.id===e);T&&(T.context=v)}),O.useMemo(()=>({...y,context:v,refs:C,elements:E}),[y,C,E,v])}/*!
  react-datepicker v6.9.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/function ot(t,e,n){return e=cd(e),LF(t,OI()?Reflect.construct(e,n||[],cd(t).constructor):e.apply(t,n))}function OI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OI=function(){return!!t})()}function Cw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cw(Object(n),!0).forEach(function(r){S(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LI(t){var e=MF(t,"string");return typeof e=="symbol"?e:e+""}function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function at(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LI(r.key),r)}}function lt(t,e,n){return e&&Dw(t.prototype,e),n&&Dw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function S(t,e,n){return e=LI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fl.apply(this,arguments)}function ct(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&um(t,e)}function cd(t){return cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cd(t)}function um(t,e){return um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},um(t,e)}function OF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LF(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OF(t)}function Ts(t){return VF(t)||jF(t)||FF(t)||UF()}function VF(t){if(Array.isArray(t))return dm(t)}function jF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FF(t,e){if(t){if(typeof t=="string")return dm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dm(t,e)}}function dm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ml=12,BF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function ve(t){var e=t?typeof t=="string"||t instanceof String?ij(t):K(t):new Date;return Lr(e)?e:null}function $F(t,e,n,r,s){var i=null,o=ds(n)||ds(Ks()),a=!0;return Array.isArray(e)?(e.forEach(function(l){var u=yf(t,l,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(a=Lr(u,s)&&t===Ce(u,l,n)),Lr(u,s)&&a&&(i=u)}),i):(i=yf(t,e,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r?a=Lr(i)&&t===Ce(i,e,n):Lr(i)||(e=e.match(BF).map(function(l){var u=l[0];if(u==="p"||u==="P"){var d=Ju[u];return o?d(l,o.formatLong):u}return l}).join(""),t.length>0&&(i=yf(t,e.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Lr(i)||(i=new Date(t))),Lr(i)&&a?i:null)}function Lr(t,e){return e=e||new Date("1/1/1000"),ll(t)&&!ci(t,e)}function Ce(t,e,n){if(n==="en")return fw(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=ds(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&Ks()&&ds(Ks())&&(r=ds(Ks())),fw(t,e,{locale:r||null,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function rn(t,e){var n=e.dateFormat,r=e.locale;return t&&Ce(t,Array.isArray(n)?n[0]:n,r)||""}function WF(t,e,n){if(!t)return"";var r=rn(t,n),s=e?rn(e,n):"";return"".concat(r," - ").concat(s)}function zF(t,e){if(!(t!=null&&t.length))return"";var n=rn(t[0],e);if(t.length===1)return n;if(t.length===2){var r=rn(t[1],e);return"".concat(n,", ").concat(r)}var s=t.length-1;return"".concat(n," (+").concat(s,")")}function kf(t,e){var n=e.hour,r=n===void 0?0:n,s=e.minute,i=s===void 0?0:s,o=e.second,a=o===void 0?0:o;return tu(eu(Zc(t,a),i),r)}function HF(t,e){return Ks()&&ds(Ks()),ty(t)}function YF(t,e){return Ce(t,"ddd",e)}function KF(t){return Un(t)}function cs(t,e,n){var r=ds(e||Ks());return Tr(t,{locale:r,weekStartsOn:n})}function us(t){return gI(t)}function ya(t){return Jd(t)}function Pw(t){return nm(t)}function Rw(){return Un(ve())}function qF(t){return nV(t)}function Cn(t,e){return t&&e?aV(t,e):!t&&!e}function Kt(t,e){return t&&e?oV(t,e):!t&&!e}function ud(t,e){return t&&e?lV(t,e):!t&&!e}function fe(t,e){return t&&e?iV(t,e):!t&&!e}function $s(t,e){return t&&e?sV(t,e):!t&&!e}function va(t,e,n){var r,s=Un(e),i=rm(n);try{r=ul(t,{start:s,end:i})}catch{r=!1}return r}function Ks(){var t=typeof window<"u"?window:globalThis;return t.__localeId__}function ds(t){if(typeof t=="string"){var e=typeof window<"u"?window:globalThis;return e.__localeData__?e.__localeData__[t]:null}else return t}function QF(t,e,n){return e(Ce(t,"EEEE",n))}function GF(t,e){return Ce(t,"EEEEEE",e)}function XF(t,e){return Ce(t,"EEE",e)}function fy(t,e){return Ce(At(ve(),t),"LLLL",e)}function VI(t,e){return Ce(At(ve(),t),"LLL",e)}function JF(t,e){return Ce(Ni(ve(),t),"QQQ",e)}function sh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,s=e.excludeDates,i=e.excludeDateIntervals,o=e.includeDates,a=e.includeDateIntervals,l=e.filterDate;return ih(t,{minDate:n,maxDate:r})||s&&s.some(function(u){return fe(t,u.date?u.date:u)})||i&&i.some(function(u){var d=u.start,f=u.end;return ul(t,{start:d,end:f})})||o&&!o.some(function(u){return fe(t,u)})||a&&!a.some(function(u){var d=u.start,f=u.end;return ul(t,{start:d,end:f})})||l&&!l(ve(t))||!1}function py(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.excludeDates,r=e.excludeDateIntervals;return r&&r.length>0?r.some(function(s){var i=s.start,o=s.end;return ul(t,{start:i,end:o})}):n&&n.some(function(s){return fe(t,s.date?s.date:s)})||!1}function ru(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,s=e.excludeDates,i=e.includeDates,o=e.filterDate;return ih(t,{minDate:gI(n),maxDate:rV(r)})||s&&s.some(function(a){return Kt(t,a)})||i&&!i.some(function(a){return Kt(t,a)})||o&&!o(ve(t))||!1}function Ic(t,e,n,r){var s=re(t),i=Mt(t),o=re(e),a=Mt(e),l=re(r);if(s===o&&s===l)return i<=n&&n<=a;if(s<o)return l===s&&i<=n||l===o&&a>=n||l<o&&l>s}function Tf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,s=e.excludeDates,i=e.includeDates,o=e.filterDate;return ih(t,{minDate:n,maxDate:r})||s&&s.some(function(a){return ud(t,a)})||i&&!i.some(function(a){return ud(t,a)})||o&&!o(ve(t))||!1}function Sc(t,e,n){if(!ll(e)||!ll(n))return!1;var r=re(e),s=re(n);return r<=t&&s>=t}function jI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,s=e.excludeDates,i=e.includeDates,o=e.filterDate,a=new Date(t,0,1);return ih(a,{minDate:Jd(n),maxDate:yI(r)})||s&&s.some(function(l){return Cn(a,l)})||i&&!i.some(function(l){return Cn(a,l)})||o&&!o(ve(a))||!1}function bc(t,e,n,r){var s=re(t),i=Hs(t),o=re(e),a=Hs(e),l=re(r);if(s===o&&s===l)return i<=n&&n<=a;if(s<o)return l===s&&i<=n||l===o&&a>=n||l<o&&l>s}function ih(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate;return n&&cl(t,n)<0||r&&cl(t,r)>0}function Nw(t,e){return e.some(function(n){return $n(n)===$n(t)&&Bn(n)===Bn(t)&&pr(n)===pr(t)})}function Aw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.excludeTimes,r=e.includeTimes,s=e.filterTime;return n&&Nw(t,n)||r&&!Nw(t,r)||s&&!s(t)||!1}function Mw(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var s=ve();s=tu(s,$n(t)),s=eu(s,Bn(t)),s=Zc(s,pr(t));var i=ve();i=tu(i,$n(n)),i=eu(i,Bn(n)),i=Zc(i,pr(n));var o=ve();o=tu(o,$n(r)),o=eu(o,Bn(r)),o=Zc(o,pr(r));var a;try{a=!ul(s,{start:i,end:o})}catch{a=!1}return a}function Ow(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.includeDates,s=Eo(t,1);return n&&ed(n,s)>0||r&&r.every(function(i){return ed(i,s)>0})||!1}function Lw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.includeDates,s=Tn(t,1);return n&&ed(s,n)>0||r&&r.every(function(i){return ed(s,i)>0})||!1}function ZF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.includeDates,s=Jd(t),i=mI(s,1);return n&&nd(n,i)>0||r&&r.every(function(o){return nd(o,i)>0})||!1}function eU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.includeDates,s=yI(t),i=sy(s,1);return n&&nd(i,n)>0||r&&r.every(function(o){return nd(i,o)>0})||!1}function Vw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.includeDates,s=ko(t,1);return n&&td(n,s)>0||r&&r.every(function(i){return td(i,s)>0})||!1}function tU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.yearItemNumber,s=r===void 0?Ml:r,i=ya(ko(t,s)),o=qr(i,s),a=o.endPeriod,l=n&&re(n);return l&&l>a||!1}function jw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.includeDates,s=fr(t,1);return n&&td(s,n)>0||r&&r.every(function(i){return td(s,i)>0})||!1}function nU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.yearItemNumber,s=r===void 0?Ml:r,i=fr(t,s),o=qr(i,s),a=o.startPeriod,l=n&&re(n);return l&&l<a||!1}function FI(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(s){return cl(s,e)>=0});return gw(r)}else return n?gw(n):e}function UI(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(s){return cl(s,e)<=0});return yw(r)}else return n?yw(n):e}function Fw(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,s=t.length;r<s;r++){var i=t[r];if(li(i)){var o=Ce(i,"MM.dd.yyyy"),a=n.get(o)||[];a.includes(e)||(a.push(e),n.set(o,a))}else if(cm(i)==="object"){var l=Object.keys(i),u=l[0],d=i[l[0]];if(typeof u=="string"&&d.constructor===Array)for(var f=0,g=d.length;f<g;f++){var y=Ce(d[f],"MM.dd.yyyy"),_=n.get(y)||[];_.includes(u)||(_.push(u),n.set(y,_))}}}return n}function rU(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function sU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--holidays",n=new Map;return t.forEach(function(r){var s=r.date,i=r.holidayName;if(li(s)){var o=Ce(s,"MM.dd.yyyy"),a=n.get(o)||{};if(!("className"in a&&a.className===e&&rU(a.holidayNames,[i]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?[].concat(Ts(l),[i]):[i],n.set(o,a)}}}),n}function iU(t,e,n,r,s){for(var i=s.length,o=[],a=0;a<i;a++){var l=t;l=J4(l,$n(s[a])),l=em(l,Bn(s[a])),l=Ej(l,pr(s[a]));var u=em(t,(n+1)*r);Es(l,e)&&ci(l,u)&&o.push(s[a])}return o}function Uw(t){return t<10?"0".concat(t):"".concat(t)}function qr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ml,n=Math.ceil(re(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function oU(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function Bw(t){var e=t.getSeconds(),n=t.getMilliseconds();return K(t.getTime()-e*1e3-n)}function aU(t,e){return Bw(t).getTime()===Bw(e).getTime()}function $w(t){if(!li(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function Ww(t,e){if(!li(t)||!li(e))throw new Error("Invalid date received");var n=$w(t),r=$w(e);return ci(n,r)}function BI(t){var e=" ";return t.key===e}function lU(t,e,n,r){for(var s=[],i=0;i<2*e+1;i++){var o=t+e-i,a=!0;n&&(a=re(n)<=o),r&&a&&(a=re(r)>=o),a&&s.push(o)}return s}var cU=function(t){function e(n){var r;at(this,e),r=ot(this,e,[n]),S(r,"renderOptions",function(){var a=r.props.year,l=r.state.yearsList.map(function(f){return L.createElement("div",{className:a===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:r.onChange.bind(r,f),"aria-selected":a===f?"true":void 0},a===f?L.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",f)}),u=r.props.minDate?re(r.props.minDate):null,d=r.props.maxDate?re(r.props.maxDate):null;return(!d||!r.state.yearsList.find(function(f){return f===d}))&&l.unshift(L.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},L.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!r.state.yearsList.find(function(f){return f===u}))&&l.push(L.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},L.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l}),S(r,"onChange",function(a){r.props.onChange(a)}),S(r,"handleClickOutside",function(){r.props.onCancel()}),S(r,"shiftYears",function(a){var l=r.state.yearsList.map(function(u){return u+a});r.setState({yearsList:l})}),S(r,"incrementYears",function(){return r.shiftYears(1)}),S(r,"decrementYears",function(){return r.shiftYears(-1)});var s=n.yearDropdownItemNumber,i=n.scrollableYearDropdown,o=s||(i?10:5);return r.state={yearsList:lU(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=O.createRef(),r}return ct(e,t),lt(e,[{key:"componentDidMount",value:function(){var r=this.dropdownRef.current;if(r){var s=r.children?Array.from(r.children):null,i=s?s.find(function(o){return o.ariaSelected}):null;r.scrollTop=i?i.offsetTop+(i.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}}},{key:"render",value:function(){var r=mt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return L.createElement("div",{className:r,ref:this.dropdownRef},this.renderOptions())}}])}(L.Component),uU=Zd(cU),dU=function(t){function e(){var n;at(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=ot(this,e,[].concat(s)),S(n,"state",{dropdownVisible:!1}),S(n,"renderSelectOptions",function(){for(var o=n.props.minDate?re(n.props.minDate):1900,a=n.props.maxDate?re(n.props.maxDate):2100,l=[],u=o;u<=a;u++)l.push(L.createElement("option",{key:u,value:u},u));return l}),S(n,"onSelectChange",function(o){n.onChange(o.target.value)}),S(n,"renderSelectMode",function(){return L.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())}),S(n,"renderReadView",function(o){return L.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(l){return n.toggleDropdown(l)}},L.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),L.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))}),S(n,"renderDropdown",function(){return L.createElement(uU,{key:"dropdown",year:n.props.year,onChange:n.onChange,onCancel:n.toggleDropdown,minDate:n.props.minDate,maxDate:n.props.maxDate,scrollableYearDropdown:n.props.scrollableYearDropdown,yearDropdownItemNumber:n.props.yearDropdownItemNumber})}),S(n,"renderScrollMode",function(){var o=n.state.dropdownVisible,a=[n.renderReadView(!o)];return o&&a.unshift(n.renderDropdown()),a}),S(n,"onChange",function(o){n.toggleDropdown(),o!==n.props.year&&n.props.onChange(o)}),S(n,"toggleDropdown",function(o){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,o)})}),S(n,"handleYearChange",function(o,a){n.onSelect(o,a),n.setOpen()}),S(n,"onSelect",function(o,a){n.props.onSelect&&n.props.onSelect(o,a)}),S(n,"setOpen",function(){n.props.setOpen&&n.props.setOpen(!0)}),n}return ct(e,t),lt(e,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return L.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])}(L.Component),hU=function(t){function e(){var n;at(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=ot(this,e,[].concat(s)),S(n,"isSelectedMonth",function(o){return n.props.month===o}),S(n,"renderOptions",function(){return n.props.monthNames.map(function(o,a){return L.createElement("div",{className:n.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:n.onChange.bind(n,a),"aria-selected":n.isSelectedMonth(a)?"true":void 0},n.isSelectedMonth(a)?L.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",o)})}),S(n,"onChange",function(o){return n.props.onChange(o)}),S(n,"handleClickOutside",function(){return n.props.onCancel()}),n}return ct(e,t),lt(e,[{key:"render",value:function(){return L.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}])}(L.Component),fU=Zd(hU),pU=function(t){function e(){var n;at(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=ot(this,e,[].concat(s)),S(n,"state",{dropdownVisible:!1}),S(n,"renderSelectOptions",function(o){return o.map(function(a,l){return L.createElement("option",{key:l,value:l},a)})}),S(n,"renderSelectMode",function(o){return L.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(l){return n.onChange(l.target.value)}},n.renderSelectOptions(o))}),S(n,"renderReadView",function(o,a){return L.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},L.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),L.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[n.props.month]))}),S(n,"renderDropdown",function(o){return L.createElement(fU,{key:"dropdown",month:n.props.month,monthNames:o,onChange:n.onChange,onCancel:n.toggleDropdown})}),S(n,"renderScrollMode",function(o){var a=n.state.dropdownVisible,l=[n.renderReadView(!a,o)];return a&&l.unshift(n.renderDropdown(o)),l}),S(n,"onChange",function(o){n.toggleDropdown(),o!==n.props.month&&n.props.onChange(o)}),S(n,"toggleDropdown",function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})}),n}return ct(e,t),lt(e,[{key:"render",value:function(){var r=this,s=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return VI(o,r.props.locale)}:function(o){return fy(o,r.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(s);break;case"select":i=this.renderSelectMode(s);break}return L.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)}}])}(L.Component);function mU(t,e){for(var n=[],r=us(t),s=us(e);!Es(r,s);)n.push(ve(r)),r=Tn(r,1);return n}var gU=function(t){function e(n){var r;return at(this,e),r=ot(this,e,[n]),S(r,"renderOptions",function(){return r.state.monthYearsList.map(function(s){var i=tm(s),o=Cn(r.props.date,s)&&Kt(r.props.date,s);return L.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:r.onChange.bind(r,i),"aria-selected":o?"true":void 0},o?L.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Ce(s,r.props.dateFormat,r.props.locale))})}),S(r,"onChange",function(s){return r.props.onChange(s)}),S(r,"handleClickOutside",function(){r.props.onCancel()}),r.state={monthYearsList:mU(r.props.minDate,r.props.maxDate)},r}return ct(e,t),lt(e,[{key:"render",value:function(){var r=mt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return L.createElement("div",{className:r},this.renderOptions())}}])}(L.Component),yU=Zd(gU),vU=function(t){function e(){var n;at(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=ot(this,e,[].concat(s)),S(n,"state",{dropdownVisible:!1}),S(n,"renderSelectOptions",function(){for(var o=us(n.props.minDate),a=us(n.props.maxDate),l=[];!Es(o,a);){var u=tm(o);l.push(L.createElement("option",{key:u,value:u},Ce(o,n.props.dateFormat,n.props.locale))),o=Tn(o,1)}return l}),S(n,"onSelectChange",function(o){n.onChange(o.target.value)}),S(n,"renderSelectMode",function(){return L.createElement("select",{value:tm(us(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())}),S(n,"renderReadView",function(o){var a=Ce(n.props.date,n.props.dateFormat,n.props.locale);return L.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(u){return n.toggleDropdown(u)}},L.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),L.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))}),S(n,"renderDropdown",function(){return L.createElement(yU,{key:"dropdown",date:n.props.date,dateFormat:n.props.dateFormat,onChange:n.onChange,onCancel:n.toggleDropdown,minDate:n.props.minDate,maxDate:n.props.maxDate,scrollableMonthYearDropdown:n.props.scrollableMonthYearDropdown,locale:n.props.locale})}),S(n,"renderScrollMode",function(){var o=n.state.dropdownVisible,a=[n.renderReadView(!o)];return o&&a.unshift(n.renderDropdown()),a}),S(n,"onChange",function(o){n.toggleDropdown();var a=ve(parseInt(o));Cn(n.props.date,a)&&Kt(n.props.date,a)||n.props.onChange(a)}),S(n,"toggleDropdown",function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})}),n}return ct(e,t),lt(e,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return L.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])}(L.Component),_U=function(t){function e(){var n;at(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=ot(this,e,[].concat(s)),S(n,"dayEl",L.createRef()),S(n,"handleClick",function(o){!n.isDisabled()&&n.props.onClick&&n.props.onClick(o)}),S(n,"handleMouseEnter",function(o){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(o)}),S(n,"handleOnKeyDown",function(o){var a=o.key;a===" "&&(o.preventDefault(),o.key="Enter"),n.props.handleOnKeyDown(o)}),S(n,"isSameDay",function(o){return fe(n.props.day,o)}),S(n,"isKeyboardSelected",function(){var o;if(n.props.disabledKeyboardNavigation)return!1;var a=n.props.selectsMultiple?(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(l){return n.isSameDayOrWeek(l)}):n.isSameDayOrWeek(n.props.selected);return!a&&n.isSameDayOrWeek(n.props.preSelection)}),S(n,"isDisabled",function(){return sh(n.props.day,n.props)}),S(n,"isExcluded",function(){return py(n.props.day,n.props)}),S(n,"isStartOfWeek",function(){return fe(n.props.day,cs(n.props.day,n.props.locale,n.props.calendarStartDay))}),S(n,"isSameWeek",function(o){return n.props.showWeekPicker&&fe(o,cs(n.props.day,n.props.locale,n.props.calendarStartDay))}),S(n,"isSameDayOrWeek",function(o){return n.isSameDay(o)||n.isSameWeek(o)}),S(n,"getHighLightedClass",function(){var o=n.props,a=o.day,l=o.highlightDates;if(!l)return!1;var u=Ce(a,"MM.dd.yyyy");return l.get(u)}),S(n,"getHolidaysClass",function(){var o=n.props,a=o.day,l=o.holidays;if(!l)return!1;var u=Ce(a,"MM.dd.yyyy");if(l.has(u))return[l.get(u).className]}),S(n,"isInRange",function(){var o=n.props,a=o.day,l=o.startDate,u=o.endDate;return!l||!u?!1:va(a,l,u)}),S(n,"isInSelectingRange",function(){var o,a=n.props,l=a.day,u=a.selectsStart,d=a.selectsEnd,f=a.selectsRange,g=a.selectsDisabledDaysInRange,y=a.startDate,_=a.endDate,I=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(u||d||f)||!I||!g&&n.isDisabled()?!1:u&&_&&(ci(I,_)||$s(I,_))?va(l,I,_):d&&y&&(Es(I,y)||$s(I,y))||f&&y&&!_&&(Es(I,y)||$s(I,y))?va(l,y,I):!1}),S(n,"isSelectingRangeStart",function(){var o;if(!n.isInSelectingRange())return!1;var a=n.props,l=a.day,u=a.startDate,d=a.selectsStart,f=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return d?fe(l,f):fe(l,u)}),S(n,"isSelectingRangeEnd",function(){var o;if(!n.isInSelectingRange())return!1;var a=n.props,l=a.day,u=a.endDate,d=a.selectsEnd,f=a.selectsRange,g=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return d||f?fe(l,g):fe(l,u)}),S(n,"isRangeStart",function(){var o=n.props,a=o.day,l=o.startDate,u=o.endDate;return!l||!u?!1:fe(l,a)}),S(n,"isRangeEnd",function(){var o=n.props,a=o.day,l=o.startDate,u=o.endDate;return!l||!u?!1:fe(u,a)}),S(n,"isWeekend",function(){var o=eV(n.props.day);return o===0||o===6}),S(n,"isAfterMonth",function(){return n.props.month!==void 0&&(n.props.month+1)%12===Mt(n.props.day)}),S(n,"isBeforeMonth",function(){return n.props.month!==void 0&&(Mt(n.props.day)+1)%12===n.props.month}),S(n,"isCurrentDay",function(){return n.isSameDay(ve())}),S(n,"isSelected",function(){if(n.props.selectsMultiple){var o;return(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(a){return n.isSameDayOrWeek(a)})}return n.isSameDayOrWeek(n.props.selected)}),S(n,"getClassNames",function(o){var a=n.props.dayClassName?n.props.dayClassName(o):void 0;return mt("react-datepicker__day",a,"react-datepicker__day--"+YF(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass("react-datepicker__day--highlighted"),n.getHolidaysClass())}),S(n,"getAriaLabel",function(){var o=n.props,a=o.day,l=o.ariaLabelPrefixWhenEnabled,u=l===void 0?"Choose":l,d=o.ariaLabelPrefixWhenDisabled,f=d===void 0?"Not available":d,g=n.isDisabled()||n.isExcluded()?f:u;return"".concat(g," ").concat(Ce(a,"PPPP",n.props.locale))}),S(n,"getTitle",function(){var o=n.props,a=o.day,l=o.holidays,u=l===void 0?new Map:l,d=o.excludeDates,f=Ce(a,"MM.dd.yyyy"),g=[];return u.has(f)&&g.push.apply(g,Ts(u.get(f).holidayNames)),n.isExcluded()&&g.push(d==null?void 0:d.filter(function(y){return fe(y.date?y.date:y,a)}).map(function(y){return y.message})),g.join(", ")}),S(n,"getTabIndex",function(o,a){var l=o||n.props.selected,u=a||n.props.preSelection,d=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(l)&&fe(u,l))?0:-1;return d}),S(n,"handleFocusDay",function(){var o,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=!1;n.getTabIndex()===0&&!a.isInputFocused&&n.isSameDay(n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(l=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(l=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(l=!0),n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()&&(l=!1),n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()&&(l=!1)),l&&((o=n.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))}),S(n,"renderDayContents",function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(mw(n.props.day),n.props.day):mw(n.props.day)}),S(n,"render",function(){return L.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&L.createElement("span",{className:"overlay"},n.getTitle()))}),n}return ct(e,t),lt(e,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(r){this.handleFocusDay(r)}}])}(L.Component),wU=function(t){function e(){var n;at(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=ot(this,e,[].concat(s)),S(n,"weekNumberEl",L.createRef()),S(n,"handleClick",function(o){n.props.onClick&&n.props.onClick(o)}),S(n,"handleOnKeyDown",function(o){var a=o.key;a===" "&&(o.preventDefault(),o.key="Enter"),n.props.handleOnKeyDown(o)}),S(n,"isKeyboardSelected",function(){return!n.props.disabledKeyboardNavigation&&!fe(n.props.date,n.props.selected)&&fe(n.props.date,n.props.preSelection)}),S(n,"getTabIndex",function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||fe(n.props.date,n.props.selected)&&fe(n.props.preSelection,n.props.selected))?0:-1}),S(n,"handleFocusWeekNumber",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=!1;n.getTabIndex()===0&&!o.isInputFocused&&fe(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(a=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})}),n}return ct(e,t),lt(e,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(r){this.handleFocusWeekNumber(r)}},{key:"render",value:function(){var r=this.props,s=r.weekNumber,i=r.ariaLabelPrefix,o=i===void 0?"week ":i,a=r.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a,"react-datepicker__week-number--selected":!!a&&fe(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return L.createElement("div",{ref:this.weekNumberEl,className:mt(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},s)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}])}(L.Component),EU=function(t){function e(){var n;at(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=ot(this,e,[].concat(s)),S(n,"handleDayClick",function(o,a){n.props.onDayClick&&n.props.onDayClick(o,a)}),S(n,"handleDayMouseEnter",function(o){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(o)}),S(n,"handleWeekClick",function(o,a,l){typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(o,a,l),n.props.showWeekPicker&&n.handleDayClick(o,l),n.props.shouldCloseOnSelect&&n.props.setOpen(!1)}),S(n,"formatWeekNumber",function(o){return n.props.formatWeekNumber?n.props.formatWeekNumber(o):HF(o)}),S(n,"renderDays",function(){var o=n.startOfWeek(),a=[],l=n.formatWeekNumber(o);if(n.props.showWeekNumber){var u=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,o,l):void 0;a.push(L.createElement(wU,{key:"W",weekNumber:l,date:o,onClick:u,selected:n.props.selected,preSelection:n.props.preSelection,ariaLabelPrefix:n.props.ariaLabelPrefix,showWeekPicker:n.props.showWeekPicker,showWeekNumber:n.props.showWeekNumber,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef}))}return a.concat([0,1,2,3,4,5,6].map(function(d){var f=Ds(o,d);return L.createElement(_U,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,month:n.props.month,onClick:n.handleDayClick.bind(n,f),usePointerEvent:n.props.usePointerEvent,onMouseEnter:n.handleDayMouseEnter.bind(n,f),minDate:n.props.minDate,maxDate:n.props.maxDate,calendarStartDay:n.props.calendarStartDay,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,highlightDates:n.props.highlightDates,holidays:n.props.holidays,selectingDate:n.props.selectingDate,filterDate:n.props.filterDate,preSelection:n.props.preSelection,selected:n.props.selected,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,showWeekPicker:n.props.showWeekPicker,showWeekNumber:n.props.showWeekNumber,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,startDate:n.props.startDate,endDate:n.props.endDate,dayClassName:n.props.dayClassName,renderDayContents:n.props.renderDayContents,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef,inline:n.props.inline,shouldFocusDayInline:n.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:n.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:n.props.monthShowsDuplicateDaysStart,locale:n.props.locale})}))}),S(n,"startOfWeek",function(){return cs(n.props.day,n.props.locale,n.props.calendarStartDay)}),S(n,"isKeyboardSelected",function(){return!n.props.disabledKeyboardNavigation&&!fe(n.startOfWeek(),n.props.selected)&&fe(n.startOfWeek(),n.props.preSelection)}),n}return ct(e,t),lt(e,[{key:"render",value:function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":fe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return L.createElement("div",{className:mt(r)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}])}(L.Component),kU=6,ro={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},xf=S(S(S({},ro.TWO_COLUMNS,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),ro.THREE_COLUMNS,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),ro.FOUR_COLUMNS,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4}),Cc=1;function zw(t,e){return t?ro.FOUR_COLUMNS:e?ro.TWO_COLUMNS:ro.THREE_COLUMNS}var TU=function(t){function e(){var n;at(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=ot(this,e,[].concat(s)),S(n,"MONTH_REFS",Ts(Array(12)).map(function(){return L.createRef()})),S(n,"QUARTER_REFS",Ts(Array(4)).map(function(){return L.createRef()})),S(n,"isDisabled",function(o){return sh(o,n.props)}),S(n,"isExcluded",function(o){return py(o,n.props)}),S(n,"handleDayClick",function(o,a){n.props.onDayClick&&n.props.onDayClick(o,a,n.props.orderInDisplay)}),S(n,"handleDayMouseEnter",function(o){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(o)}),S(n,"handleMouseLeave",function(){n.props.onMouseLeave&&n.props.onMouseLeave()}),S(n,"isRangeStartMonth",function(o){var a=n.props,l=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:Kt(At(l,o),u)}),S(n,"isRangeStartQuarter",function(o){var a=n.props,l=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:ud(Ni(l,o),u)}),S(n,"isRangeEndMonth",function(o){var a=n.props,l=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:Kt(At(l,o),d)}),S(n,"isRangeEndQuarter",function(o){var a=n.props,l=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:ud(Ni(l,o),d)}),S(n,"isInSelectingRangeMonth",function(o){var a,l=n.props,u=l.day,d=l.selectsStart,f=l.selectsEnd,g=l.selectsRange,y=l.startDate,_=l.endDate,I=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(d||f||g)||!I?!1:d&&_?Ic(I,_,o,u):f&&y||g&&y&&!_?Ic(y,I,o,u):!1}),S(n,"isSelectingMonthRangeStart",function(o){var a;if(!n.isInSelectingRangeMonth(o))return!1;var l=n.props,u=l.day,d=l.startDate,f=l.selectsStart,g=At(u,o),y=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return f?Kt(g,y):Kt(g,d)}),S(n,"isSelectingMonthRangeEnd",function(o){var a;if(!n.isInSelectingRangeMonth(o))return!1;var l=n.props,u=l.day,d=l.endDate,f=l.selectsEnd,g=l.selectsRange,y=At(u,o),_=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return f||g?Kt(y,_):Kt(y,d)}),S(n,"isInSelectingRangeQuarter",function(o){var a,l=n.props,u=l.day,d=l.selectsStart,f=l.selectsEnd,g=l.selectsRange,y=l.startDate,_=l.endDate,I=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(d||f||g)||!I?!1:d&&_?bc(I,_,o,u):f&&y||g&&y&&!_?bc(y,I,o,u):!1}),S(n,"isWeekInMonth",function(o){var a=n.props.day,l=Ds(o,6);return Kt(o,a)||Kt(l,a)}),S(n,"isCurrentMonth",function(o,a){return re(o)===re(ve())&&a===Mt(ve())}),S(n,"isCurrentQuarter",function(o,a){return re(o)===re(ve())&&a===Hs(ve())}),S(n,"isSelectedMonth",function(o,a,l){return Mt(l)===a&&re(o)===re(l)}),S(n,"isSelectedQuarter",function(o,a,l){return Hs(o)===a&&re(o)===re(l)}),S(n,"renderWeeks",function(){for(var o=[],a=n.props.fixedHeight,l=0,u=!1,d=cs(us(n.props.day),n.props.locale,n.props.calendarStartDay),f=n.props.showWeekPicker?cs(n.props.selected,n.props.locale,n.props.calendarStartDay):n.props.selected,g=n.props.showWeekPicker?cs(n.props.preSelection,n.props.locale,n.props.calendarStartDay):n.props.preSelection;o.push(L.createElement(EU,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:n.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:n.props.disabledDayAriaLabelPrefix,key:l,day:d,month:Mt(n.props.day),onDayClick:n.handleDayClick,usePointerEvent:n.props.usePointerEvent,onDayMouseEnter:n.handleDayMouseEnter,onWeekSelect:n.props.onWeekSelect,formatWeekNumber:n.props.formatWeekNumber,locale:n.props.locale,minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,inline:n.props.inline,shouldFocusDayInline:n.props.shouldFocusDayInline,highlightDates:n.props.highlightDates,holidays:n.props.holidays,selectingDate:n.props.selectingDate,filterDate:n.props.filterDate,preSelection:g,selected:f,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,showWeekNumber:n.props.showWeekNumbers,showWeekPicker:n.props.showWeekPicker,startDate:n.props.startDate,endDate:n.props.endDate,dayClassName:n.props.dayClassName,setOpen:n.props.setOpen,shouldCloseOnSelect:n.props.shouldCloseOnSelect,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,renderDayContents:n.props.renderDayContents,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef,calendarStartDay:n.props.calendarStartDay,monthShowsDuplicateDaysEnd:n.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:n.props.monthShowsDuplicateDaysStart})),!u;){l++,d=Zu(d,1);var y=a&&l>=kU,_=!a&&!n.isWeekInMonth(d);if(y||_)if(n.props.peekNextMonth)u=!0;else break}return o}),S(n,"onMonthClick",function(o,a){var l=At(n.props.day,a);ru(l,n.props)||n.handleDayClick(us(l),o)}),S(n,"onMonthMouseEnter",function(o){var a=At(n.props.day,o);ru(a,n.props)||n.handleDayMouseEnter(us(a))}),S(n,"handleMonthNavigation",function(o,a){n.isDisabled(a)||n.isExcluded(a)||(n.props.setPreSelection(a),n.MONTH_REFS[o].current&&n.MONTH_REFS[o].current.focus())}),S(n,"onMonthKeyDown",function(o,a){var l=n.props,u=l.selected,d=l.preSelection,f=l.disabledKeyboardNavigation,g=l.showTwoColumnMonthYearPicker,y=l.showFourColumnMonthYearPicker,_=l.setPreSelection,I=l.handleOnMonthKeyDown,C=o.key;if(C!=="Tab"&&o.preventDefault(),!f){var E=zw(y,g),v=xf[E].verticalNavigationOffset,T=xf[E].grid;switch(C){case"Enter":n.onMonthClick(o,a),_(u);break;case"ArrowRight":n.handleMonthNavigation(a===11?0:a+Cc,Tn(d,Cc));break;case"ArrowLeft":n.handleMonthNavigation(a===0?11:a-Cc,Eo(d,Cc));break;case"ArrowUp":n.handleMonthNavigation(T[0].includes(a)?a+12-v:a-v,Eo(d,v));break;case"ArrowDown":n.handleMonthNavigation(T[T.length-1].includes(a)?a-12+v:a+v,Tn(d,v));break}}I&&I(o)}),S(n,"onQuarterClick",function(o,a){var l=Ni(n.props.day,a);Tf(l,n.props)||n.handleDayClick(Pw(l),o)}),S(n,"onQuarterMouseEnter",function(o){var a=Ni(n.props.day,o);Tf(a,n.props)||n.handleDayMouseEnter(Pw(a))}),S(n,"handleQuarterNavigation",function(o,a){n.isDisabled(a)||n.isExcluded(a)||(n.props.setPreSelection(a),n.QUARTER_REFS[o-1].current&&n.QUARTER_REFS[o-1].current.focus())}),S(n,"onQuarterKeyDown",function(o,a){var l=o.key;if(!n.props.disabledKeyboardNavigation)switch(l){case"Enter":n.onQuarterClick(o,a),n.props.setPreSelection(n.props.selected);break;case"ArrowRight":n.handleQuarterNavigation(a===4?1:a+1,sy(n.props.preSelection,1));break;case"ArrowLeft":n.handleQuarterNavigation(a===1?4:a-1,mI(n.props.preSelection,1));break}}),S(n,"isMonthDisabled",function(o){var a=n.props,l=a.day,u=a.minDate,d=a.maxDate,f=a.excludeDates,g=a.includeDates,y=At(l,o);return(u||d||f||g)&&ru(y,n.props)}),S(n,"getMonthClassNames",function(o){var a=n.props,l=a.day,u=a.startDate,d=a.endDate,f=a.selected,g=a.preSelection,y=a.monthClassName,_=y?y(At(l,o)):void 0;return mt("react-datepicker__month-text","react-datepicker__month-".concat(o),_,{"react-datepicker__month-text--disabled":n.isMonthDisabled(o),"react-datepicker__month-text--selected":n.isSelectedMonth(l,o,f),"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&n.isSelectedMonth(l,o,g),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":Ic(u,d,o,l),"react-datepicker__month-text--range-start":n.isRangeStartMonth(o),"react-datepicker__month-text--range-end":n.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":n.isCurrentMonth(l,o)})}),S(n,"getTabIndex",function(o){var a=Mt(n.props.preSelection),l=!n.props.disabledKeyboardNavigation&&o===a?"0":"-1";return l}),S(n,"getQuarterTabIndex",function(o){var a=Hs(n.props.preSelection),l=!n.props.disabledKeyboardNavigation&&o===a?"0":"-1";return l}),S(n,"getAriaLabel",function(o){var a=n.props,l=a.chooseDayAriaLabelPrefix,u=l===void 0?"Choose":l,d=a.disabledDayAriaLabelPrefix,f=d===void 0?"Not available":d,g=a.day,y=a.locale,_=At(g,o),I=n.isDisabled(_)||n.isExcluded(_)?f:u;return"".concat(I," ").concat(Ce(_,"MMMM yyyy",y))}),S(n,"getQuarterClassNames",function(o){var a=n.props,l=a.day,u=a.startDate,d=a.endDate,f=a.selected,g=a.minDate,y=a.maxDate,_=a.preSelection,I=a.disabledKeyboardNavigation;return mt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":(g||y)&&Tf(Ni(l,o),n.props),"react-datepicker__quarter-text--selected":n.isSelectedQuarter(l,o,f),"react-datepicker__quarter-text--keyboard-selected":!I&&n.isSelectedQuarter(l,o,_),"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":bc(u,d,o,l),"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(o)})}),S(n,"getMonthContent",function(o){var a=n.props,l=a.showFullMonthYearPicker,u=a.renderMonthContent,d=a.locale,f=a.day,g=VI(o,d),y=fy(o,d);return u?u(o,g,y,f):l?y:g}),S(n,"getQuarterContent",function(o){var a=n.props,l=a.renderQuarterContent,u=a.locale,d=JF(o,u);return l?l(o,d):d}),S(n,"renderMonths",function(){var o=n.props,a=o.showTwoColumnMonthYearPicker,l=o.showFourColumnMonthYearPicker,u=o.day,d=o.selected,f=xf[zw(l,a)].grid;return f.map(function(g,y){return L.createElement("div",{className:"react-datepicker__month-wrapper",key:y},g.map(function(_,I){return L.createElement("div",{ref:n.MONTH_REFS[_],key:I,onClick:function(E){n.onMonthClick(E,_)},onKeyDown:function(E){BI(E)&&(E.preventDefault(),E.key="Enter"),n.onMonthKeyDown(E,_)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(_)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(_)}:void 0,tabIndex:n.getTabIndex(_),className:n.getMonthClassNames(_),"aria-disabled":n.isMonthDisabled(_),role:"option","aria-label":n.getAriaLabel(_),"aria-current":n.isCurrentMonth(u,_)?"date":void 0,"aria-selected":n.isSelectedMonth(u,_,d)},n.getMonthContent(_))}))})}),S(n,"renderQuarters",function(){var o=n.props,a=o.day,l=o.selected,u=[1,2,3,4];return L.createElement("div",{className:"react-datepicker__quarter-wrapper"},u.map(function(d,f){return L.createElement("div",{key:f,ref:n.QUARTER_REFS[f],role:"option",onClick:function(y){n.onQuarterClick(y,d)},onKeyDown:function(y){n.onQuarterKeyDown(y,d)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(d)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(d)}:void 0,className:n.getQuarterClassNames(d),"aria-selected":n.isSelectedQuarter(a,d,l),tabIndex:n.getQuarterTabIndex(d),"aria-current":n.isCurrentQuarter(a,d)?"date":void 0},n.getQuarterContent(d))}))}),S(n,"getClassNames",function(){var o=n.props,a=o.selectingDate,l=o.selectsStart,u=o.selectsEnd,d=o.showMonthYearPicker,f=o.showQuarterYearPicker,g=o.showWeekPicker;return mt("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(l||u)},{"react-datepicker__monthPicker":d},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":g})}),n}return ct(e,t),lt(e,[{key:"render",value:function(){var r=this.props,s=r.showMonthYearPicker,i=r.showQuarterYearPicker,o=r.day,a=r.ariaLabelPrefix,l=a===void 0?"Month ":a,u=l?l.trim()+" ":"";return L.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(u).concat(Ce(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},s?this.renderMonths():i?this.renderQuarters():this.renderWeeks())}}])}(L.Component),$I=function(t){function e(){var n;at(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=ot(this,e,[].concat(s)),S(n,"state",{height:null}),S(n,"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){n.list&&(n.list.scrollTop=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-n.header.clientHeight:n.list.clientHeight,n.centerLi))})}),S(n,"handleClick",function(o){(n.props.minTime||n.props.maxTime)&&Mw(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Aw(o,n.props)||n.props.onChange(o)}),S(n,"isSelectedTime",function(o){return n.props.selected&&aU(n.props.selected,o)}),S(n,"isDisabledTime",function(o){return(n.props.minTime||n.props.maxTime)&&Mw(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Aw(o,n.props)}),S(n,"liClasses",function(o){var a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(o):void 0];return n.isSelectedTime(o)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(o)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&($n(o)*3600+Bn(o)*60+pr(o))%(n.props.intervals*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")}),S(n,"handleOnKeyDown",function(o,a){o.key===" "&&(o.preventDefault(),o.key="Enter"),(o.key==="ArrowUp"||o.key==="ArrowLeft")&&o.target.previousSibling&&(o.preventDefault(),o.target.previousSibling.focus()),(o.key==="ArrowDown"||o.key==="ArrowRight")&&o.target.nextSibling&&(o.preventDefault(),o.target.nextSibling.focus()),o.key==="Enter"&&n.handleClick(a),n.props.handleOnKeyDown(o)}),S(n,"renderTimes",function(){for(var o=[],a=n.props.format?n.props.format:"p",l=n.props.intervals,u=n.props.selected||n.props.openToDate||ve(),d=KF(u),f=n.props.injectTimes&&n.props.injectTimes.sort(function(v,T){return v-T}),g=60*oU(u),y=g/l,_=0;_<y;_++){var I=em(d,_*l);if(o.push(I),f){var C=iU(d,I,_,l,f);o=o.concat(C)}}var E=o.reduce(function(v,T){return T.getTime()<=u.getTime()?T:v},o[0]);return o.map(function(v,T){return L.createElement("li",{key:T,onClick:n.handleClick.bind(n,v),className:n.liClasses(v),ref:function(j){v===E&&(n.centerLi=j)},onKeyDown:function(j){n.handleOnKeyDown(j,v)},tabIndex:v===E?0:-1,role:"option","aria-selected":n.isSelectedTime(v)?"true":void 0,"aria-disabled":n.isDisabledTime(v)?"true":void 0},Ce(v,a,n.props.locale))})}),n}return ct(e,t),lt(e,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var r=this,s=this.state.height;return L.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},L.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){r.header=o}},L.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),L.createElement("div",{className:"react-datepicker__time"},L.createElement("div",{className:"react-datepicker__time-box"},L.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){r.list=o},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}])}(L.Component);S($I,"calcCenterPosition",function(t,e){return e.offsetTop-(t/2-e.clientHeight/2)});var Hw=3,xU=function(t){function e(n){var r;return at(this,e),r=ot(this,e,[n]),S(r,"YEAR_REFS",Ts(Array(r.props.yearItemNumber)).map(function(){return L.createRef()})),S(r,"isDisabled",function(s){return sh(s,r.props)}),S(r,"isExcluded",function(s){return py(s,r.props)}),S(r,"selectingDate",function(){var s;return(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection}),S(r,"updateFocusOnPaginate",function(s){var i=(function(){this.YEAR_REFS[s].current.focus()}).bind(r);window.requestAnimationFrame(i)}),S(r,"handleYearClick",function(s,i){r.props.onDayClick&&r.props.onDayClick(s,i)}),S(r,"handleYearNavigation",function(s,i){var o=r.props,a=o.date,l=o.yearItemNumber,u=qr(a,l),d=u.startPeriod;r.isDisabled(i)||r.isExcluded(i)||(r.props.setPreSelection(i),s-d<0?r.updateFocusOnPaginate(l-(d-s)):s-d>=l?r.updateFocusOnPaginate(Math.abs(l-(s-d))):r.YEAR_REFS[s-d].current.focus())}),S(r,"isSameDay",function(s,i){return fe(s,i)}),S(r,"isCurrentYear",function(s){return s===re(ve())}),S(r,"isRangeStart",function(s){return r.props.startDate&&r.props.endDate&&Cn(bn(ve(),s),r.props.startDate)}),S(r,"isRangeEnd",function(s){return r.props.startDate&&r.props.endDate&&Cn(bn(ve(),s),r.props.endDate)}),S(r,"isInRange",function(s){return Sc(s,r.props.startDate,r.props.endDate)}),S(r,"isInSelectingRange",function(s){var i=r.props,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,u=i.startDate,d=i.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&d?Sc(s,r.selectingDate(),d):a&&u||l&&u&&!d?Sc(s,u,r.selectingDate()):!1}),S(r,"isSelectingRangeStart",function(s){if(!r.isInSelectingRange(s))return!1;var i=r.props,o=i.startDate,a=i.selectsStart,l=bn(ve(),s);return a?Cn(l,r.selectingDate()):Cn(l,o)}),S(r,"isSelectingRangeEnd",function(s){if(!r.isInSelectingRange(s))return!1;var i=r.props,o=i.endDate,a=i.selectsEnd,l=i.selectsRange,u=bn(ve(),s);return a||l?Cn(u,r.selectingDate()):Cn(u,o)}),S(r,"isKeyboardSelected",function(s){var i=ya(bn(r.props.date,s));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!fe(i,ya(r.props.selected))&&fe(i,ya(r.props.preSelection))}),S(r,"onYearClick",function(s,i){var o=r.props.date;r.handleYearClick(ya(bn(o,i)),s)}),S(r,"onYearKeyDown",function(s,i){var o=s.key,a=r.props,l=a.date,u=a.yearItemNumber,d=a.handleOnKeyDown;if(o!=="Tab"&&s.preventDefault(),!r.props.disabledKeyboardNavigation)switch(o){case"Enter":r.onYearClick(s,i),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleYearNavigation(i+1,fr(r.props.preSelection,1));break;case"ArrowLeft":r.handleYearNavigation(i-1,ko(r.props.preSelection,1));break;case"ArrowUp":{var f=qr(l,u),g=f.startPeriod,y=Hw,_=i-y;if(_<g){var I=u%y;i>=g&&i<g+I?y=I:y+=I,_=i-y}r.handleYearNavigation(_,ko(r.props.preSelection,y));break}case"ArrowDown":{var C=qr(l,u),E=C.endPeriod,v=Hw,T=i+v;if(T>E){var N=u%v;i<=E&&i>E-N?v=N:v+=N,T=i+v}r.handleYearNavigation(T,fr(r.props.preSelection,v));break}}d&&d(s)}),S(r,"getYearClassNames",function(s){var i=r.props,o=i.date,a=i.minDate,l=i.maxDate,u=i.selected,d=i.excludeDates,f=i.includeDates,g=i.filterDate,y=i.yearClassName;return mt("react-datepicker__year-text","react-datepicker__year-".concat(s),y?y(bn(o,s)):void 0,{"react-datepicker__year-text--selected":s===re(u),"react-datepicker__year-text--disabled":(a||l||d||f||g)&&jI(s,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(s),"react-datepicker__year-text--range-start":r.isRangeStart(s),"react-datepicker__year-text--range-end":r.isRangeEnd(s),"react-datepicker__year-text--in-range":r.isInRange(s),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(s),"react-datepicker__year-text--today":r.isCurrentYear(s)})}),S(r,"getYearTabIndex",function(s){if(r.props.disabledKeyboardNavigation)return"-1";var i=re(r.props.preSelection);return s===i?"0":"-1"}),S(r,"getYearContainerClassNames",function(){var s=r.props,i=s.selectingDate,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange;return mt("react-datepicker__year",{"react-datepicker__year--selecting-range":i&&(o||a||l)})}),S(r,"getYearContent",function(s){return r.props.renderYearContent?r.props.renderYearContent(s):s}),r}return ct(e,t),lt(e,[{key:"render",value:function(){for(var r=this,s=[],i=this.props,o=i.date,a=i.yearItemNumber,l=i.onYearMouseEnter,u=i.onYearMouseLeave,d=qr(o,a),f=d.startPeriod,g=d.endPeriod,y=function(C){s.push(L.createElement("div",{ref:r.YEAR_REFS[C-f],onClick:function(v){r.onYearClick(v,C)},onKeyDown:function(v){BI(v)&&(v.preventDefault(),v.key="Enter"),r.onYearKeyDown(v,C)},tabIndex:r.getYearTabIndex(C),className:r.getYearClassNames(C),onMouseEnter:r.props.usePointerEvent?void 0:function(E){return l(E,C)},onPointerEnter:r.props.usePointerEvent?function(E){return l(E,C)}:void 0,onMouseLeave:r.props.usePointerEvent?void 0:function(E){return u(E,C)},onPointerLeave:r.props.usePointerEvent?function(E){return u(E,C)}:void 0,key:C,"aria-current":r.isCurrentYear(C)?"date":void 0},r.getYearContent(C)))},_=f;_<=g;_++)y(_);return L.createElement("div",{className:this.getYearContainerClassNames()},L.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},s))}}])}(L.Component),IU=function(t){function e(n){var r;return at(this,e),r=ot(this,e,[n]),S(r,"onTimeChange",function(s){r.setState({time:s});var i=r.props.date,o=i instanceof Date&&!isNaN(i),a=o?i:new Date;a.setHours(s.split(":")[0]),a.setMinutes(s.split(":")[1]),r.props.onChange(a)}),S(r,"renderTimeInput",function(){var s=r.state.time,i=r.props,o=i.date,a=i.timeString,l=i.customTimeInput;return l?L.cloneElement(l,{date:o,value:s,onChange:r.onTimeChange}):L.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:s,onChange:function(d){r.onTimeChange(d.target.value||a)}})}),r.state={time:r.props.timeString},r}return ct(e,t),lt(e,[{key:"render",value:function(){return L.createElement("div",{className:"react-datepicker__input-time-container"},L.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),L.createElement("div",{className:"react-datepicker-time__input-container"},L.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.timeString!==s.time?{time:r.timeString}:null}}])}(L.Component);function SU(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,s=r===void 0?!1:r,i=t.className,o=t.children,a=n?"Choose Time":"Choose Date".concat(s?" and Time":"");return L.createElement("div",{className:i,role:"dialog","aria-label":a,"aria-modal":"true"},o)}var bU=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],CU=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=(e.className||"").split(/\s+/);return bU.some(function(r){return n.indexOf(r)>=0})},DU=function(t){function e(n){var r;return at(this,e),r=ot(this,e,[n]),S(r,"handleClickOutside",function(s){r.props.onClickOutside(s)}),S(r,"setClickOutsideRef",function(){return r.containerRef.current}),S(r,"handleDropdownFocus",function(s){CU(s.target)&&r.props.onDropdownFocus()}),S(r,"getDateInView",function(){var s=r.props,i=s.preSelection,o=s.selected,a=s.openToDate,l=FI(r.props),u=UI(r.props),d=ve(),f=a||o||i;return f||(l&&ci(d,l)?l:u&&Es(d,u)?u:d)}),S(r,"increaseMonth",function(){r.setState(function(s){var i=s.date;return{date:Tn(i,1)}},function(){return r.handleMonthChange(r.state.date)})}),S(r,"decreaseMonth",function(){r.setState(function(s){var i=s.date;return{date:Eo(i,1)}},function(){return r.handleMonthChange(r.state.date)})}),S(r,"handleDayClick",function(s,i,o){r.props.onSelect(s,i,o),r.props.setPreSelection&&r.props.setPreSelection(s)}),S(r,"handleDayMouseEnter",function(s){r.setState({selectingDate:s}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(s)}),S(r,"handleMonthMouseLeave",function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()}),S(r,"handleYearMouseEnter",function(s,i){r.setState({selectingDate:bn(ve(),i)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(s,i)}),S(r,"handleYearMouseLeave",function(s,i){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(s,i)}),S(r,"handleYearChange",function(s){r.props.onYearChange&&(r.props.onYearChange(s),r.setState({isRenderAriaLiveMessage:!0})),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(s),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(s)}),S(r,"handleMonthChange",function(s){r.handleCustomMonthChange(s),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(s),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(s)}),S(r,"handleCustomMonthChange",function(s){r.props.onMonthChange&&(r.props.onMonthChange(s),r.setState({isRenderAriaLiveMessage:!0}))}),S(r,"handleMonthYearChange",function(s){r.handleYearChange(s),r.handleMonthChange(s)}),S(r,"changeYear",function(s){r.setState(function(i){var o=i.date;return{date:bn(o,s)}},function(){return r.handleYearChange(r.state.date)})}),S(r,"changeMonth",function(s){r.setState(function(i){var o=i.date;return{date:At(o,s)}},function(){return r.handleMonthChange(r.state.date)})}),S(r,"changeMonthYear",function(s){r.setState(function(i){var o=i.date;return{date:bn(At(o,Mt(s)),re(s))}},function(){return r.handleMonthYearChange(r.state.date)})}),S(r,"header",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,i=cs(s,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(L.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=Ds(i,a),u=r.formatWeekday(l,r.props.locale),d=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return L.createElement("div",{key:a,"aria-label":Ce(l,"EEEE",r.props.locale),className:mt("react-datepicker__day-name",d)},u)}))}),S(r,"formatWeekday",function(s,i){return r.props.formatWeekDay?QF(s,r.props.formatWeekDay,i):r.props.useWeekdaysShort?XF(s,i):GF(s,i)}),S(r,"decreaseYear",function(){r.setState(function(s){var i=s.date;return{date:ko(i,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),S(r,"clearSelectingDate",function(){r.setState({selectingDate:null})}),S(r,"renderPreviousButton",function(){if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=Vw(r.state.date,r.props);break;case r.props.showYearPicker:s=tU(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=ZF(r.state.date,r.props);break;default:s=Ow(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var i=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],o=["react-datepicker__navigation","react-datepicker__navigation--previous"],a=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(a=r.decreaseYear),s&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--previous--disabled"),a=null);var l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,d=u.previousMonthButtonLabel,f=u.previousYearButtonLabel,g=r.props,y=g.previousMonthAriaLabel,_=y===void 0?typeof d=="string"?d:"Previous Month":y,I=g.previousYearAriaLabel,C=I===void 0?typeof f=="string"?f:"Previous Year":I;return L.createElement("button",{type:"button",className:o.join(" "),onClick:a,onKeyDown:r.props.handleOnKeyDown,"aria-label":l?C:_},L.createElement("span",{className:i.join(" ")},l?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel))}}}),S(r,"increaseYear",function(){r.setState(function(s){var i=s.date;return{date:fr(i,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),S(r,"renderNextButton",function(){if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=jw(r.state.date,r.props);break;case r.props.showYearPicker:s=nU(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=eU(r.state.date,r.props);break;default:s=Lw(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var i=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var a=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(a=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),a=null);var l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,d=u.nextMonthButtonLabel,f=u.nextYearButtonLabel,g=r.props,y=g.nextMonthAriaLabel,_=y===void 0?typeof d=="string"?d:"Next Month":y,I=g.nextYearAriaLabel,C=I===void 0?typeof f=="string"?f:"Next Year":I;return L.createElement("button",{type:"button",className:i.join(" "),onClick:a,onKeyDown:r.props.handleOnKeyDown,"aria-label":l?C:_},L.createElement("span",{className:o.join(" ")},l?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel))}}}),S(r,"renderCurrentMonth",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,i=["react-datepicker__current-month"];return r.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),L.createElement("div",{className:i.join(" ")},Ce(s,r.props.dateFormat,r.props.locale))}),S(r,"renderYearDropdown",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showYearDropdown||s))return L.createElement(dU,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:re(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})}),S(r,"renderMonthDropdown",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthDropdown||s))return L.createElement(pU,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:Mt(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})}),S(r,"renderMonthYearDropdown",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthYearDropdown||s))return L.createElement(vU,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})}),S(r,"handleTodayButtonClick",function(s){r.props.onSelect(Rw(),s),r.props.setPreSelection&&r.props.setPreSelection(Rw())}),S(r,"renderTodayButton",function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return L.createElement("div",{className:"react-datepicker__today-button",onClick:function(i){return r.handleTodayButtonClick(i)}},r.props.todayButton)}),S(r,"renderDefaultHeader",function(s){var i=s.monthDate,o=s.i;return L.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(i),L.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),L.createElement("div",{className:"react-datepicker__day-names"},r.header(i)))}),S(r,"renderCustomHeader",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=s.monthDate,o=s.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var a=Ow(r.state.date,r.props),l=Lw(r.state.date,r.props),u=Vw(r.state.date,r.props),d=jw(r.state.date,r.props),f=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return L.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(rr(rr({},r.state),{},{customHeaderCount:o,monthDate:i,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:a,nextMonthButtonDisabled:l,prevYearButtonDisabled:u,nextYearButtonDisabled:d})),f&&L.createElement("div",{className:"react-datepicker__day-names"},r.header(i)))}),S(r,"renderYearHeader",function(s){var i=s.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,u=qr(i,l),d=u.startPeriod,f=u.endPeriod;return L.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(d," - ").concat(f):re(i))}),S(r,"renderHeader",function(s){switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(s);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(s);default:return r.renderDefaultHeader(s)}}),S(r,"renderMonths",function(){var s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var i=[],o=r.props.showPreviousMonths?r.props.monthsShown-1:0,a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?fr(r.state.date,o):Eo(r.state.date,o),l=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:o,u=0;u<r.props.monthsShown;++u){var d=u-l+o,f=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?fr(a,d):Tn(a,d),g="month-".concat(u),y=u<r.props.monthsShown-1,_=u>0;i.push(L.createElement("div",{key:g,ref:function(C){r.monthContainer=C},className:"react-datepicker__month-container"},r.renderHeader({monthDate:f,i:u}),L.createElement(TU,{chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,ariaLabelPrefix:r.props.monthAriaLabelPrefix,onChange:r.changeMonthYear,day:f,dayClassName:r.props.dayClassName,calendarStartDay:r.props.calendarStartDay,monthClassName:r.props.monthClassName,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,usePointerEvent:r.props.usePointerEvent,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:u,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,setPreSelection:r.props.setPreSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,isInputFocused:r.props.isInputFocused,containerRef:r.containerRef,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:_})))}return i}}),S(r,"renderYears",function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return L.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),L.createElement(xU,fl({onDayClick:r.handleDayClick,selectingDate:r.state.selectingDate,clearSelectingDate:r.clearSelectingDate,date:r.state.date},r.props,{onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))}),S(r,"renderTimeSection",function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return L.createElement($I,{selected:r.props.selected,openToDate:r.props.openToDate,onChange:r.props.onTimeChange,timeClassName:r.props.timeClassName,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale,handleOnKeyDown:r.props.handleOnKeyDown,showTimeSelectOnly:r.props.showTimeSelectOnly})}),S(r,"renderInputTimeSection",function(){var s=new Date(r.props.selected),i=Lr(s)&&!!r.props.selected,o=i?"".concat(Uw(s.getHours()),":").concat(Uw(s.getMinutes())):"";if(r.props.showTimeInput)return L.createElement(IU,{date:s,timeString:o,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange,customTimeInput:r.props.customTimeInput})}),S(r,"renderAriaLiveRegion",function(){var s=qr(r.state.date,r.props.yearItemNumber),i=s.startPeriod,o=s.endPeriod,a;return r.props.showYearPicker?a="".concat(i," - ").concat(o):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?a=re(r.state.date):a="".concat(fy(Mt(r.state.date),r.props.locale)," ").concat(re(r.state.date)),L.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&a)}),S(r,"renderChildren",function(){if(r.props.children)return L.createElement("div",{className:"react-datepicker__children-container"},r.props.children)}),r.containerRef=L.createRef(),r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},r}return ct(e,t),lt(e,[{key:"componentDidMount",value:function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())}},{key:"componentDidUpdate",value:function(r){var s=this;if(this.props.preSelection&&(!fe(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var i=!Kt(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&s.handleCustomMonthChange(s.state.date)})}else this.props.openToDate&&!fe(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var r=this.props.container||SU;return L.createElement("div",{style:{display:"contents"},ref:this.containerRef},L.createElement(r,{className:mt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:Ml}}}])}(L.Component),PU=function(e){var n=e.icon,r=e.className,s=r===void 0?"":r,i=e.onClick,o="react-datepicker__calendar-icon";return L.isValidElement(n)?L.cloneElement(n,{className:"".concat(n.props.className||""," ").concat(o," ").concat(s),onClick:function(l){typeof n.props.onClick=="function"&&n.props.onClick(l),typeof i=="function"&&i(l)}}):typeof n=="string"?L.createElement("i",{className:"".concat(o," ").concat(n," ").concat(s),"aria-hidden":"true",onClick:i}):L.createElement("svg",{className:"".concat(o," ").concat(s),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},L.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},RU=PU,WI=function(t){function e(n){var r;return at(this,e),r=ot(this,e,[n]),r.el=document.createElement("div"),r}return ct(e,t),lt(e,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return fD.createPortal(this.props.children,this.el)}}])}(L.Component),NU="[tabindex], a, button, input, select, textarea",AU=function(e){return!e.disabled&&e.tabIndex!==-1},zI=function(t){function e(n){var r;return at(this,e),r=ot(this,e,[n]),S(r,"getTabChildren",function(){return Array.prototype.slice.call(r.tabLoopRef.current.querySelectorAll(NU),1,-1).filter(AU)}),S(r,"handleFocusStart",function(){var s=r.getTabChildren();s&&s.length>1&&s[s.length-1].focus()}),S(r,"handleFocusEnd",function(){var s=r.getTabChildren();s&&s.length>1&&s[0].focus()}),r.tabLoopRef=L.createRef(),r}return ct(e,t),lt(e,[{key:"render",value:function(){return this.props.enableTabLoop?L.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},L.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,L.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}])}(L.Component);function MU(t){var e=function(r){var s=rr(rr({},r),{},{popperModifiers:r.popperModifiers||[],popperProps:r.popperProps||{},hidePopper:typeof r.hidePopper=="boolean"?r.hidePopper:!0}),i=L.useRef(),o=AF(rr({open:!s.hidePopper,whileElementsMounted:dF,placement:s.popperPlacement,middleware:[vF({padding:15}),yF(10),_F({element:i})].concat(Ts(s.popperModifiers))},s.popperProps));return L.createElement(t,fl({},s,{popperProps:rr(rr({},o),{},{arrowRef:i})}))};return e}var OU=function(t){function e(){return at(this,e),ot(this,e,arguments)}return ct(e,t),lt(e,[{key:"render",value:function(){var r=this.props,s=r.className,i=r.wrapperClassName,o=r.hidePopper,a=r.popperComponent,l=r.targetComponent,u=r.enableTabLoop,d=r.popperOnKeyDown,f=r.portalId,g=r.portalHost,y=r.popperProps,_=r.showArrow,I;if(!o){var C=mt("react-datepicker-popper",s);I=L.createElement(zI,{enableTabLoop:u},L.createElement("div",{ref:y.refs.setFloating,style:y.floatingStyles,className:C,"data-placement":y.placement,onKeyDown:d},a,_&&L.createElement(SF,{ref:y.arrowRef,context:y.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(I=L.createElement(this.props.popperContainer,{},I)),f&&!o&&(I=L.createElement(WI,{portalId:f,portalHost:g},I));var E=mt("react-datepicker-wrapper",i);return L.createElement(L.Fragment,null,L.createElement("div",{ref:y.refs.setReference,className:E},l),I)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0}}}])}(L.Component),LU=MU(OU),Yw="react-datepicker-ignore-onclickoutside",VU=Zd(DU);function jU(t,e){return t&&e?Mt(t)!==Mt(e)||re(t)!==re(e):t!==e}var If="Date input not valid.",FU=function(t){function e(n){var r;return at(this,e),r=ot(this,e,[n]),S(r,"getPreSelection",function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:ve()}),S(r,"modifyHolidays",function(){var s;return(s=r.props.holidays)===null||s===void 0?void 0:s.reduce(function(i,o){var a=new Date(o.date);return ll(a)?[].concat(Ts(i),[rr(rr({},o),{},{date:a})]):i},[])}),S(r,"calcInitialState",function(){var s,i=r.getPreSelection(),o=FI(r.props),a=UI(r.props),l=o&&ci(i,Un(o))?o:a&&Es(i,rm(a))?a:i;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:(s=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&s!==void 0?s:l,highlightDates:Fw(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),S(r,"clearPreventFocusTimeout",function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)}),S(r,"setFocus",function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})}),S(r,"setBlur",function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()}),S(r,"setOpen",function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.setState({open:s,preSelection:s&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Sf},function(){s||r.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&r.setBlur(),r.setState({inputValue:null})})})}),S(r,"inputOk",function(){return li(r.state.preSelection)}),S(r,"isCalendarOpen",function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open}),S(r,"handleFocus",function(s){r.state.preventFocus||(r.props.onFocus(s),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})}),S(r,"sendFocusBackToInput",function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})}),S(r,"cancelFocusInput",function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null}),S(r,"deferFocusInput",function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)}),S(r,"handleDropdownFocus",function(){r.cancelFocusInput()}),S(r,"handleBlur",function(s){(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&r.props.onBlur(s),r.setState({focused:!1})}),S(r,"handleCalendarClickOutside",function(s){r.props.inline||r.setOpen(!1),r.props.onClickOutside(s),r.props.withPortal&&s.preventDefault()}),S(r,"handleChange",function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];var a=i[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,i),typeof a.isDefaultPrevented!="function"||a.isDefaultPrevented()))){r.setState({inputValue:a.target.value,lastPreSelectChange:UU});var l=$F(a.target.value,r.props.dateFormat,r.props.locale,r.props.strictParsing,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&l&&!fe(l,r.props.selected)&&(l=kj(r.props.selected,{hours:$n(l),minutes:Bn(l),seconds:pr(l)})),(l||!a.target.value)&&r.setSelected(l,a,!0)}}),S(r,"handleSelect",function(s,i,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(i),r.setSelected(s,i,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(s);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,u=a.endDate;l&&!u&&(r.props.swapRange||!Ww(s,l))&&r.setOpen(!1)}}),S(r,"setSelected",function(s,i,o,a){var l=s;if(r.props.showYearPicker){if(l!==null&&jI(re(l),r.props))return}else if(r.props.showMonthYearPicker){if(l!==null&&ru(l,r.props))return}else if(l!==null&&sh(l,r.props))return;var u=r.props,d=u.onChange,f=u.selectsRange,g=u.startDate,y=u.endDate,_=u.selectsMultiple,I=u.selectedDates,C=u.minTime,E=u.swapRange;if(!$s(r.props.selected,l)||r.props.allowSameDay||f||_)if(l!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(l=kf(l,{hour:$n(r.props.selected),minute:Bn(r.props.selected),second:pr(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&C&&(l=kf(l,{hour:C.getHours(),minute:C.getMinutes(),second:C.getSeconds()})),r.props.inline||r.setState({preSelection:l}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),f){var v=!g&&!y,T=g&&!y,N=g&&y;v?d([l,null],i):T&&(l===null?d([null,null],i):Ww(l,g)?d(E?[l,g]:[l,null],i):d([g,l],i)),N&&d([l,null],i)}else if(_)if(!(I!=null&&I.length))d([l],i);else{var j=I.some(function(x){return fe(x,l)});if(j){var F=I.filter(function(x){return!fe(x,l)});d(F,i)}else d([].concat(Ts(I),[l]),i)}else d(l,i);o||(r.props.onSelect(l,i),r.setState({inputValue:null}))}),S(r,"setPreSelection",function(s){var i=typeof r.props.minDate<"u",o=typeof r.props.maxDate<"u",a=!0;if(s){var l=Un(s);if(i&&o)a=va(s,r.props.minDate,r.props.maxDate);else if(i){var u=Un(r.props.minDate);a=Es(s,u)||$s(l,u)}else if(o){var d=rm(r.props.maxDate);a=ci(s,d)||$s(l,d)}}a&&r.setState({preSelection:s})}),S(r,"toggleCalendar",function(){r.setOpen(!r.state.open)}),S(r,"handleTimeChange",function(s){var i=r.props.selected?r.props.selected:r.getPreSelection(),o=r.props.selected?s:kf(i,{hour:$n(s),minute:Bn(s)});r.setState({preSelection:o}),r.props.onChange(o),r.props.shouldCloseOnSelect&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}),S(r,"onInputClick",function(){!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),r.props.onInputClick()}),S(r,"onInputKeyDown",function(s){r.props.onKeyDown(s);var i=s.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(i==="ArrowDown"||i==="ArrowUp"||i==="Enter")&&r.onInputClick();return}if(r.state.open){if(i==="ArrowDown"||i==="ArrowUp"){s.preventDefault();var o=r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',a=r.calendar.componentNode&&r.calendar.componentNode.querySelector(o);a&&a.focus({preventScroll:!0});return}var l=ve(r.state.preSelection);i==="Enter"?(s.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===Sf?(r.handleSelect(l,s),!r.props.shouldCloseOnSelect&&r.setPreSelection(l)):r.setOpen(!1)):i==="Escape"?(s.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):i==="Tab"&&r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:If})}}),S(r,"onPortalKeyDown",function(s){var i=s.key;i==="Escape"&&(s.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))}),S(r,"onDayKeyDown",function(s){r.props.onKeyDown(s);var i=s.key,o=s.shiftKey,a=ve(r.state.preSelection);if(i==="Enter")s.preventDefault(),r.handleSelect(a,s),!r.props.shouldCloseOnSelect&&r.setPreSelection(a);else if(i==="Escape")s.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:If});else if(!r.props.disabledKeyboardNavigation){var l;switch(i){case"ArrowLeft":r.props.showWeekPicker?l=pw(a,1):l=Z4(a,1);break;case"ArrowRight":r.props.showWeekPicker?l=Zu(a,1):l=Ds(a,1);break;case"ArrowUp":l=pw(a,1);break;case"ArrowDown":l=Zu(a,1);break;case"PageUp":l=o?ko(a,1):Eo(a,1);break;case"PageDown":l=o?fr(a,1):Tn(a,1);break;case"Home":l=cs(a,r.props.locale,r.props.calendarStartDay);break;case"End":l=qF(a);break;default:l=null;break}if(!l){r.props.onInputError&&r.props.onInputError({code:1,msg:If});return}if(s.preventDefault(),r.setState({lastPreSelectChange:Sf}),r.props.adjustDateOnChange&&r.setSelected(l),r.setPreSelection(l),r.props.inline){var u=Mt(a),d=Mt(l),f=re(a),g=re(l);u!==d||f!==g?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}}),S(r,"onPopperKeyDown",function(s){var i=s.key;i==="Escape"&&(s.preventDefault(),r.sendFocusBackToInput())}),S(r,"onClearClick",function(s){s&&s.preventDefault&&s.preventDefault(),r.sendFocusBackToInput(),r.props.selectsRange?r.props.onChange([null,null],s):r.props.onChange(null,s),r.setState({inputValue:null})}),S(r,"clear",function(){r.onClearClick()}),S(r,"onScroll",function(s){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(s)&&r.setOpen(!1)}),S(r,"renderCalendar",function(){return!r.props.inline&&!r.isCalendarOpen()?null:L.createElement(VU,{ref:function(i){r.calendar=i},locale:r.props.locale,calendarStartDay:r.props.calendarStartDay,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,monthAriaLabelPrefix:r.props.monthAriaLabelPrefix,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,holidays:sU(r.modifyHolidays()),includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,shouldFocusDayInline:r.state.shouldFocusDayInline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showPreviousMonths:r.props.showPreviousMonths,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:Yw,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,weekDayClassName:r.props.weekDayClassName,monthClassName:r.props.monthClassName,timeClassName:r.props.timeClassName,showDateSelect:r.props.showDateSelect,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearItemNumber:r.props.yearItemNumber,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthAriaLabel:r.props.previousMonthAriaLabel,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthAriaLabel:r.props.nextMonthAriaLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,previousYearAriaLabel:r.props.previousYearAriaLabel,previousYearButtonLabel:r.props.previousYearButtonLabel,nextYearAriaLabel:r.props.nextYearAriaLabel,nextYearButtonLabel:r.props.nextYearButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,onYearMouseEnter:r.props.onYearMouseEnter,onYearMouseLeave:r.props.onYearMouseLeave,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,excludeScrollbar:r.props.excludeScrollbar,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,isInputFocused:r.state.focused,customTimeInput:r.props.customTimeInput,setPreSelection:r.setPreSelection,usePointerEvent:r.props.usePointerEvent,yearClassName:r.props.yearClassName},r.props.children)}),S(r,"renderAriaLiveRegion",function(){var s=r.props,i=s.dateFormat,o=s.locale,a=r.props.showTimeInput||r.props.showTimeSelect,l=a?"PPPPp":"PPPP",u;return r.props.selectsRange?u="Selected start date: ".concat(rn(r.props.startDate,{dateFormat:l,locale:o}),". ").concat(r.props.endDate?"End date: "+rn(r.props.endDate,{dateFormat:l,locale:o}):""):r.props.showTimeSelectOnly?u="Selected time: ".concat(rn(r.props.selected,{dateFormat:i,locale:o})):r.props.showYearPicker?u="Selected year: ".concat(rn(r.props.selected,{dateFormat:"yyyy",locale:o})):r.props.showMonthYearPicker?u="Selected month: ".concat(rn(r.props.selected,{dateFormat:"MMMM yyyy",locale:o})):r.props.showQuarterYearPicker?u="Selected quarter: ".concat(rn(r.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):u="Selected date: ".concat(rn(r.props.selected,{dateFormat:l,locale:o})),L.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)}),S(r,"renderDateInput",function(){var s,i=mt(r.props.className,S({},Yw,r.state.open)),o=r.props.customInput||L.createElement("input",{type:"text"}),a=r.props.customInputRef||"ref",l=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?WF(r.props.startDate,r.props.endDate,r.props):r.props.selectsMultiple?zF(r.props.selectedDates,r.props):rn(r.props.selected,r.props);return L.cloneElement(o,(s={},S(S(S(S(S(S(S(S(S(S(s,a,function(u){r.input=u}),"value",l),"onBlur",r.handleBlur),"onChange",r.handleChange),"onClick",r.onInputClick),"onFocus",r.handleFocus),"onKeyDown",r.onInputKeyDown),"id",r.props.id),"name",r.props.name),"form",r.props.form),S(S(S(S(S(S(S(S(S(S(s,"autoFocus",r.props.autoFocus),"placeholder",r.props.placeholderText),"disabled",r.props.disabled),"autoComplete",r.props.autoComplete),"className",mt(o.props.className,i)),"title",r.props.title),"readOnly",r.props.readOnly),"required",r.props.required),"tabIndex",r.props.tabIndex),"aria-describedby",r.props.ariaDescribedBy),S(S(S(s,"aria-invalid",r.props.ariaInvalid),"aria-labelledby",r.props.ariaLabelledBy),"aria-required",r.props.ariaRequired)))}),S(r,"renderClearButton",function(){var s=r.props,i=s.isClearable,o=s.disabled,a=s.selected,l=s.startDate,u=s.endDate,d=s.clearButtonTitle,f=s.clearButtonClassName,g=f===void 0?"":f,y=s.ariaLabelClose,_=y===void 0?"Close":y,I=s.selectedDates;return i&&(a!=null||l!=null||u!=null||I!=null&&I.length)?L.createElement("button",{type:"button",className:mt("react-datepicker__close-icon",g,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":_,onClick:r.onClearClick,title:d,tabIndex:-1}):null}),r.state=r.calcInitialState(),r.preventFocusTimeout=null,r}return ct(e,t),lt(e,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(r,s){r.inline&&jU(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Fw(this.props.highlightDates)}),!s.focused&&!$s(r.selected,this.props.selected)&&this.setState({inputValue:null}),s.open!==this.state.open&&(s.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),s.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var r=this.props,s=r.showIcon,i=r.icon,o=r.calendarIconClassname,a=r.toggleCalendarOnIconClick,l=this.state.open;return L.createElement("div",{className:"react-datepicker__input-container".concat(s?" react-datepicker__view-calendar-icon":"")},s&&L.createElement(RU,fl({icon:i,className:"".concat(o," ").concat(l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var s=this.state.open?L.createElement(zI,{enableTabLoop:this.props.enableTabLoop},L.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(s=L.createElement(WI,{portalId:this.props.portalId,portalHost:this.props.portalHost},s)),L.createElement("div",null,this.renderInputContainer(),s)}return L.createElement(LU,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:r,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop,showArrow:this.props.showPopperArrow})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Ml,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}}}])}(L.Component),UU="input",Sf="navigate";const BU=()=>{var f,g,y,_;const{starId:t}=kk(),[e,n]=O.useState(new Date),[r,s]=O.useState("10:00"),[i,o]=O.useState(null),[a,l]=O.useState(!0);if(O.useEffect(()=>{t&&(async()=>{try{const C=await Xg(Rl(ai,"stars",t));C.exists()&&o(C.data())}catch(C){console.error("Error fetching star data:",C)}finally{l(!1)}})()},[t]),a)return p.jsx("div",{className:"text-center py-8",children:"Loading..."});if(!i)return p.jsx("div",{className:"text-center py-8",children:"Star not found"});const u=Math.round(Number(i.hourlyRate)*.1),d=Number(i.hourlyRate)+u;return p.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[p.jsx("img",{src:i.profilePicture||((f=i.advertisingImages)==null?void 0:f[0]),alt:i.name,className:"w-full h-64 object-cover"}),p.jsxs("div",{className:"p-6",children:[p.jsx("h1",{className:"text-3xl font-bold mb-2 dark:text-white",children:i.name}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:i.category}),p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx(Sr,{className:"w-5 h-5 text-yellow-400 fill-current"}),p.jsxs("span",{className:"ml-1 text-gray-600 dark:text-gray-400",children:[i.experience," years experience"]})]}),p.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-6",children:["Professional ",i.category," with ",i.experience," years of experience. Available for events and performances."]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Zg,{className:"w-5 h-5 mr-2 text-indigo-600"}),p.jsxs("span",{className:"dark:text-gray-300",children:["Professional Experience: ",i.experience," years"]})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(BL,{className:"w-5 h-5 mr-2 text-indigo-600"}),p.jsxs("span",{className:"dark:text-gray-300",children:["Contact: ",i.email]})]})]})]})]}),p.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"Social Media"}),p.jsxs("div",{className:"space-y-2",children:[((g=i.socialMediaLinks)==null?void 0:g.facebook)&&p.jsx("a",{href:i.socialMediaLinks.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline block",children:"Facebook"}),((y=i.socialMediaLinks)==null?void 0:y.twitter)&&p.jsx("a",{href:i.socialMediaLinks.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline block",children:"LinkedIn"}),((_=i.socialMediaLinks)==null?void 0:_.youtube)&&p.jsx("a",{href:i.socialMediaLinks.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline block",children:"YouTube"})]})]})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 h-fit",children:[p.jsx("h2",{className:"text-2xl font-semibold mb-6 dark:text-white",children:"Book an Experience"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-2",children:"Select Date"}),p.jsx(FU,{selected:e,onChange:I=>n(I),minDate:new Date,className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-2",children:"Select Time"}),p.jsx("select",{value:r,onChange:I=>s(I.target.value),className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:Array.from({length:24},(I,C)=>p.jsx("option",{value:`${C.toString().padStart(2,"0")}:00`,children:`${C.toString().padStart(2,"0")}:00`},C))})]}),p.jsxs("div",{className:"border-t pt-4 mt-4",children:[p.jsxs("div",{className:"flex justify-between mb-2",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Base Price"}),p.jsxs("span",{className:"font-semibold dark:text-white",children:["$",i.hourlyRate]})]}),p.jsxs("div",{className:"flex justify-between mb-2",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Service Fee"}),p.jsxs("span",{className:"font-semibold dark:text-white",children:["$",u]})]}),p.jsxs("div",{className:"flex justify-between text-lg font-bold mt-4 pt-4 border-t",children:[p.jsx("span",{className:"dark:text-white",children:"Total"}),p.jsxs("span",{className:"text-indigo-600 dark:text-indigo-400",children:["$",d]})]})]}),p.jsx("button",{onClick:()=>window.location.href="/booking-confirmation",className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition",children:"Book Now"})]})]})]})})},$U=[{name:"All Categories",icon:Sr},{name:"Pop Singer",icon:Qu},{name:"DJ",icon:HL},{name:"Band",icon:ey},{name:"Hip-Hop Artist",icon:Qu}],WU=()=>{const t=wl(),[e,n]=O.useState("All Categories"),[r,s]=O.useState(""),[i,o]=O.useState([]),[a,l]=O.useState(!0);O.useEffect(()=>{(async()=>{try{console.log("Starting to fetch stars...");const f=sw(ai,"stars");console.log("Stars collection reference:",f);const g=await wL(sw(ai,"stars"));console.log("Query snapshot:",g.size,"documents found");const y=g.docs.map(_=>{const I=_.data();return console.log("Processing star document:",_.id,I),{id:_.id,name:I.name||"Unknown",category:I.category||"Uncategorized",hourlyRate:I.hourlyRate||"0",profilePicture:I.profilePicture||"",advertisingImages:I.advertisingImages||[],experience:I.experience||"0"}});console.log("Final processed stars data:",y),o(y)}catch(f){console.error("Error fetching stars:",f),setError("Failed to load stars. Please try again later.")}finally{l(!1)}})()},[]);const u=i.filter(d=>{var y,_;const f=e==="All Categories"||d.category===e,g=((y=d.name)==null?void 0:y.toLowerCase().includes(r.toLowerCase()))||((_=d.category)==null?void 0:_.toLowerCase().includes(r.toLowerCase()));return f&&g});return p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"Categories"}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:$U.map(({name:d,icon:f})=>p.jsxs("button",{onClick:()=>n(d),className:`flex flex-col items-center p-4 rounded-lg transition ${e===d?"bg-indigo-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-indigo-50 dark:hover:bg-gray-700"}`,children:[p.jsx(f,{className:"w-8 h-8 mb-2"}),p.jsx("span",{className:"text-sm text-center",children:d})]},d))})]}),p.jsx("div",{className:"mb-8",children:p.jsxs("div",{className:"relative",children:[p.jsx(sI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"text",placeholder:"Search stars...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800 dark:text-white",value:r,onChange:d=>s(d.target.value)})]})}),a?p.jsx("div",{className:"text-center py-8 dark:text-white",children:"Loading stars..."}):u.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map(d=>{var f;return p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden cursor-pointer hover:shadow-xl transition",onClick:()=>t(`/star/${d.id}`),children:[p.jsx("img",{src:d.profilePicture||((f=d.advertisingImages)==null?void 0:f[0])||"/default-avatar.png",alt:d.name,className:"w-full h-48 object-cover",onError:g=>{g.currentTarget.src="/default-avatar.png"}}),p.jsxs("div",{className:"p-4",children:[p.jsx("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:d.name}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:d.category}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("span",{className:"text-indigo-600 dark:text-indigo-400",children:["$",d.hourlyRate,"/hour"]}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[d.experience," years exp."]})})]})]})]},d.id)})}):p.jsx("div",{className:"text-center py-8 dark:text-white",children:"No stars found. Try adjusting your search or category filter."})]})},zU=()=>p.jsx("div",{className:"max-w-2xl mx-auto px-4 py-16 text-center text-gray-900 dark:text-gray-100",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[p.jsx(PL,{className:"w-16 h-16 text-green-500 mx-auto mb-6"}),p.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Booking Confirmed!"}),p.jsx("p",{className:"text-lg mb-8",children:"Thank you for booking with StarConnect. Your booking details have been sent to your email."}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"We look forward to providing you with an unforgettable experience!"})]})});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="firebasestorage.googleapis.com",YI="storageBucket",HU=2*60*1e3,YU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be extends Kn{constructor(e,n,r=0){super(bf(e),`Firebase Storage: ${n} (${bf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Be.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ue;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ue||(Ue={}));function bf(t){return"storage/"+t}function my(){const t="An unknown error occurred, please check the error payload for server response.";return new Be(Ue.UNKNOWN,t)}function KU(t){return new Be(Ue.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function qU(t){return new Be(Ue.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function QU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Be(Ue.UNAUTHENTICATED,t)}function GU(){return new Be(Ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function XU(t){return new Be(Ue.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function JU(){return new Be(Ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZU(){return new Be(Ue.CANCELED,"User canceled the upload/download.")}function e3(t){return new Be(Ue.INVALID_URL,"Invalid URL '"+t+"'.")}function t3(t){return new Be(Ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function n3(){return new Be(Ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+YI+"' property when initializing the app?")}function r3(){return new Be(Ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function s3(){return new Be(Ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function i3(t){return new Be(Ue.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function hm(t){return new Be(Ue.INVALID_ARGUMENT,t)}function KI(){return new Be(Ue.APP_DELETED,"The Firebase app was deleted.")}function o3(t){return new Be(Ue.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Aa(t,e){return new Be(Ue.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function oa(t){throw new Be(Ue.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gt.makeFromUrl(e,n)}catch{return new Gt(e,"")}if(r.path==="")return r;throw t3(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${d}/b/${s}/o${g}`,"i"),_={bucket:1,path:3},I=n===HI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",E=new RegExp(`^https?://${I}/${s}/${C}`,"i"),T=[{regex:a,indices:l,postModify:i},{regex:y,indices:_,postModify:u},{regex:E,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<T.length;N++){const j=T[N],F=j.regex.exec(e);if(F){const x=F[j.indices.bucket];let w=F[j.indices.path];w||(w=""),r=new Gt(x,w),j.postModify(r);break}}if(r==null)throw e3(e);return r}}class a3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...C){u||(u=!0,e.apply(null,C))}function f(C){s=setTimeout(()=>{s=null,t(y,l())},C)}function g(){i&&clearTimeout(i)}function y(C,...E){if(u){g();return}if(C){g(),d.call(null,C,...E);return}if(l()||o){g(),d.call(null,C,...E);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,f(T)}let _=!1;function I(C){_||(_=!0,g(),!u&&(s!==null?(C||(a=2),clearTimeout(s),f(0)):C||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,I(!0)},n),I}function c3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t){return t!==void 0}function d3(t){return typeof t=="object"&&!Array.isArray(t)}function gy(t){return typeof t=="string"||t instanceof String}function Kw(t){return yy()&&t instanceof Blob}function yy(){return typeof Blob<"u"}function qw(t,e,n,r){if(r<e)throw hm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw hm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function qI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var qs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qs||(qs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,n,r,s,i,o,a,l,u,d,f,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,_)=>{this.resolve_=y,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Dc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===qs.NO_ERROR,l=i.getStatus();if(!a||h3(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===qs.ABORT;r(!1,new Dc(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Dc(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());u3(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=my();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?KI():ZU();o(l)}else{const l=JU();o(l)}};this.canceled_?n(!1,new Dc(!1,null,!0)):this.backoffId_=l3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&c3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function p3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function m3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function g3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function y3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function v3(t,e,n,r,s,i,o=!0){const a=qI(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return g3(u,e),p3(u,n),m3(u,i),y3(u,r),new f3(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function w3(...t){const e=_3();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(yy())return new Blob(t);throw new Be(Ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function E3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){if(typeof atob>"u")throw i3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Cf{constructor(e,n){this.data=e,this.contentType=n||null}}function T3(t,e){switch(t){case Nn.RAW:return new Cf(QI(e));case Nn.BASE64:case Nn.BASE64URL:return new Cf(GI(t,e));case Nn.DATA_URL:return new Cf(I3(e),S3(e))}throw my()}function QI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function x3(t){let e;try{e=decodeURIComponent(t)}catch{throw Aa(Nn.DATA_URL,"Malformed data URL.")}return QI(e)}function GI(t,e){switch(t){case Nn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Aa(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Nn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Aa(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=k3(e)}catch(s){throw s.message.includes("polyfill")?s:Aa(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class XI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Aa(Nn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=b3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function I3(t){const e=new XI(t);return e.base64?GI(Nn.BASE64,e.rest):x3(e.rest)}function S3(t){return new XI(t).contentType}function b3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n){let r=0,s="";Kw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Kw(this.data_)){const r=this.data_,s=E3(r,e,n);return s===null?null:new Wr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Wr(r,!0)}}static getBlob(...e){if(yy()){const n=e.map(r=>r instanceof Wr?r.data_:r);return new Wr(w3.apply(null,n))}else{const n=e.map(o=>gy(o)?T3(Nn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Wr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t){let e;try{e=JSON.parse(t)}catch{return null}return d3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function D3(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function ZI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t,e){return e}class Rt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||P3}}let Pc=null;function R3(t){return!gy(t)||t.length<2?t:ZI(t)}function eS(){if(Pc)return Pc;const t=[];t.push(new Rt("bucket")),t.push(new Rt("generation")),t.push(new Rt("metageneration")),t.push(new Rt("name","fullPath",!0));function e(i,o){return R3(o)}const n=new Rt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Rt("size");return s.xform=r,t.push(s),t.push(new Rt("timeCreated")),t.push(new Rt("updated")),t.push(new Rt("md5Hash",null,!0)),t.push(new Rt("cacheControl",null,!0)),t.push(new Rt("contentDisposition",null,!0)),t.push(new Rt("contentEncoding",null,!0)),t.push(new Rt("contentLanguage",null,!0)),t.push(new Rt("contentType",null,!0)),t.push(new Rt("metadata","customMetadata",!0)),Pc=t,Pc}function N3(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Gt(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function A3(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return N3(r,t),r}function tS(t,e,n){const r=JI(e);return r===null?null:A3(t,r,n)}function M3(t,e,n,r){const s=JI(e);if(s===null||!gy(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const d=t.bucket,f=t.fullPath,g="/b/"+o(d)+"/o/"+o(f),y=vy(g,n,r),_=qI({alt:"media",token:u});return y+_})[0]}function O3(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class nS{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t){if(!t)throw my()}function L3(t,e){function n(r,s){const i=tS(t,s,e);return rS(i!==null),i}return n}function V3(t,e){function n(r,s){const i=tS(t,s,e);return rS(i!==null),M3(i,s,t.host,t._protocol)}return n}function sS(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=GU():s=QU():n.getStatus()===402?s=qU(t.bucket):n.getStatus()===403?s=XU(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function j3(t){const e=sS(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=KU(t.path)),i.serverResponse=s.serverResponse,i}return n}function F3(t,e,n){const r=e.fullServerUrl(),s=vy(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new nS(s,i,V3(t,n),o);return a.errorHandler=j3(e),a}function U3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function B3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=U3(null,e)),r}function $3(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let N=0;N<2;N++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=B3(e,r,s),d=O3(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,g=`\r
--`+l+"--",y=Wr.getBlob(f,r,g);if(y===null)throw r3();const _={name:u.fullPath},I=vy(i,t.host,t._protocol),C="POST",E=t.maxUploadRetryTime,v=new nS(I,C,L3(t,n),E);return v.urlParams=_,v.headers=o,v.body=y.uploadData(),v.errorHandler=sS(e),v}class W3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw oa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw oa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw oa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw oa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw oa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class z3 extends W3{initXhr(){this.xhr_.responseType="text"}}function iS(){return new z3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n){this._service=e,n instanceof Gt?this._location=n:this._location=Gt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new di(e,n)}get root(){const e=new Gt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZI(this._location.path)}get storage(){return this._service}get parent(){const e=C3(this._location.path);if(e===null)return null;const n=new Gt(this._location.bucket,e);return new di(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw o3(e)}}function H3(t,e,n){t._throwIfRoot("uploadBytes");const r=$3(t.storage,t._location,eS(),new Wr(e,!0),n);return t.storage.makeRequestWithTokens(r,iS).then(s=>({metadata:s,ref:t}))}function Y3(t){t._throwIfRoot("getDownloadURL");const e=F3(t.storage,t._location,eS());return t.storage.makeRequestWithTokens(e,iS).then(n=>{if(n===null)throw s3();return n})}function K3(t,e){const n=D3(t._location.path,e),r=new Gt(t._location.bucket,n);return new di(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){return/^[A-Za-z]+:\/\//.test(t)}function Q3(t,e){return new di(t,e)}function oS(t,e){if(t instanceof _y){const n=t;if(n._bucket==null)throw n3();const r=new di(n,n._bucket);return e!=null?oS(r,e):r}else return e!==void 0?K3(t,e):t}function G3(t,e){if(e&&q3(e)){if(t instanceof _y)return Q3(t,e);throw hm("To use ref(service, url), the first argument must be a Storage instance.")}else return oS(t,e)}function Qw(t,e){const n=e==null?void 0:e[YI];return n==null?null:Gt.makeFromBucketSpec(n,t)}function X3(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Ak(s,t.app.options.projectId))}class _y{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=HI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=HU,this._maxUploadRetryTime=YU,this._requests=new Set,s!=null?this._bucket=Gt.makeFromBucketSpec(s,this._host):this._bucket=Qw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gt.makeFromBucketSpec(this._url,e):this._bucket=Qw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new di(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new a3(KI());{const o=v3(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Gw="@firebase/storage",Xw="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="storage";function Df(t,e,n){return t=nt(t),H3(t,e,n)}function Pf(t){return t=nt(t),Y3(t)}function Rf(t,e){return t=nt(t),G3(t,e)}function J3(t=dg(),e){t=nt(t);const r=Rd(t,aS).getImmediate({identifier:e}),s=Pk("storage");return s&&Z3(r,...s),r}function Z3(t,e,n,r={}){X3(t,e,n,r)}function e6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new _y(n,r,s,e,mi)}function t6(){ti(new ps(aS,e6,"PUBLIC").setMultipleInstances(!0)),On(Gw,Xw,""),On(Gw,Xw,"esm2017")}t6();const n6=()=>{const t=wl(),[e,n]=O.useState({name:"",email:"",phone:"",category:"",experience:"",hourlyRate:"",profilePicture:"",profilePictureType:"url",videoIntroduction:"",socialMediaLinks:{instagram:"",twitter:"",facebook:"",youtube:""},governmentId:null,advertisingImages:[]}),[r,s]=O.useState(!1),[i,o]=O.useState(""),a=g=>{const{name:y,value:_,files:I}=g.target;if(y==="governmentId")n(C=>({...C,governmentId:I[0]}));else if(y.startsWith("socialMediaLinks.")){const C=y.split(".")[1];n(E=>({...E,socialMediaLinks:{...E.socialMediaLinks,[C]:_}}))}else y==="profilePictureType"?n(C=>({...C,profilePictureType:_,profilePicture:_==="url"?"":null})):y==="profilePicture"?e.profilePictureType==="file"?n(C=>({...C,profilePicture:I[0]})):n(C=>({...C,profilePicture:_})):n(C=>({...C,[y]:_}))},l=()=>{e.advertisingImages.length<5&&n(g=>({...g,advertisingImages:[...g.advertisingImages,{type:"url",value:""}]}))},u=(g,y)=>{const{value:_,files:I}=y.target,C=[...e.advertisingImages];y.target.name==="advertisingImageType"?(C[g].type=_,C[g].value=_==="url"?"":null):C[g].type==="file"?C[g].value=I[0]:C[g].value=_,n(E=>({...E,advertisingImages:C}))},d=g=>{const y=[...e.advertisingImages];y.splice(g,1),n(_=>({..._,advertisingImages:y}))},f=async g=>{if(g.preventDefault(),s(!0),o(""),!ls.currentUser){o("User not authenticated."),s(!1);return}const y=ls.currentUser,_=J3();try{let I="";if(e.governmentId){const T=Rf(_,`governmentIds/${y.uid}/${e.governmentId.name}`),N=await Df(T,e.governmentId);I=await Pf(N.ref)}let C=e.profilePicture;if(e.profilePictureType==="file"&&e.profilePicture){const T=Rf(_,`profilePictures/${y.uid}/${e.profilePicture.name}`),N=await Df(T,e.profilePicture);C=await Pf(N.ref)}const E=[];for(const T of e.advertisingImages)if(T.type==="file"&&T.value){const N=Rf(_,`advertisingImages/${y.uid}/${T.value.name}`),j=await Df(N,T.value),F=await Pf(j.ref);E.push(F)}else T.type==="url"&&E.push(T.value);const v={name:e.name,email:e.email,phone:e.phone,category:e.category,experience:e.experience,hourlyRate:e.hourlyRate,profilePicture:C,videoIntroduction:e.videoIntroduction,socialMediaLinks:e.socialMediaLinks,governmentId:I,advertisingImages:E};await eI(Rl(ai,"stars",y.uid),v),t("/")}catch(I){console.error("Error registering star:",I),o("Failed to register. Please try again.")}finally{s(!1)}};return p.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-12 text-gray-900 dark:text-gray-100",children:[p.jsx("h1",{className:"text-3xl font-bold text-center mb-8 dark:text-white",children:"Register as a Star"}),i&&p.jsx("p",{className:"text-red-500 text-center mb-4",children:i}),p.jsxs("form",{onSubmit:f,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"Personal Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),p.jsxs("div",{className:"relative",children:[p.jsx(Gu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"text",name:"name",value:e.name,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),p.jsxs("div",{className:"relative",children:[p.jsx(rI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"email",name:"email",value:e.email,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),p.jsxs("div",{className:"relative",children:[p.jsx(WL,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]})]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"Professional Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),p.jsxs("div",{className:"relative",children:[p.jsx(CL,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsxs("select",{name:"category",value:e.category,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800",required:!0,children:[p.jsx("option",{value:"",children:"Select Category"}),p.jsx("option",{value:"Hip-Hop Artist",children:"Hip-Hop Artist"}),p.jsx("option",{value:"Pop Singer",children:"Pop Singer"}),p.jsx("option",{value:"DJ",children:"DJ"}),p.jsx("option",{value:"Music Band",children:"Music Band"})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Years of Experience"}),p.jsxs("div",{className:"relative",children:[p.jsx(Zg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"number",name:"experience",value:e.experience,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Hourly Rate"}),p.jsxs("div",{className:"relative",children:[p.jsx(AL,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"number",name:"hourlyRate",value:e.hourlyRate,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]})]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"Media"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Profile Picture"}),p.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"radio",name:"profilePictureType",value:"url",checked:e.profilePictureType==="url",onChange:a,className:"text-indigo-600 focus:ring-indigo-500 h-4 w-4"}),p.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"URL"})]}),p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"radio",name:"profilePictureType",value:"file",checked:e.profilePictureType==="file",onChange:a,className:"text-indigo-600 focus:ring-indigo-500 h-4 w-4"}),p.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Upload"})]})]}),p.jsx("div",{className:"relative",children:e.profilePictureType==="url"?p.jsxs(p.Fragment,{children:[p.jsx(lw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:"profilePicture",value:e.profilePicture,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]}):p.jsxs(p.Fragment,{children:[p.jsx(pf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"file",name:"profilePicture",onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Video Introduction URL"}),p.jsxs("div",{className:"relative",children:[p.jsx(qL,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:"videoIntroduction",value:e.videoIntroduction,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Government ID"}),p.jsxs("div",{className:"relative",children:[p.jsx(pf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"file",name:"governmentId",onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]})]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"Advertising Images (Max 5)"}),e.advertisingImages.map((g,y)=>p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Image ",y+1]}),p.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"radio",name:`advertisingImageType${y}`,value:"url",checked:g.type==="url",onChange:_=>u(y,_),className:"text-indigo-600 focus:ring-indigo-500 h-4 w-4"}),p.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"URL"})]}),p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"radio",name:`advertisingImageType${y}`,value:"file",checked:g.type==="file",onChange:_=>u(y,_),className:"text-indigo-600 focus:ring-indigo-500 h-4 w-4"}),p.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Upload"})]})]}),p.jsx("div",{className:"relative",children:g.type==="url"?p.jsxs(p.Fragment,{children:[p.jsx(lw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:`advertisingImage${y}`,value:g.value,onChange:_=>u(y,_),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]}):p.jsxs(p.Fragment,{children:[p.jsx(pf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"file",name:`advertisingImage${y}`,onChange:_=>u(y,_),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})})]}),p.jsx("button",{type:"button",onClick:()=>d(y),className:"text-red-500 hover:text-red-700 mt-2",children:"Remove"})]},y)),p.jsxs("button",{type:"button",onClick:l,className:"text-indigo-600 hover:text-indigo-800 flex items-center",children:[p.jsx(zL,{className:"w-4 h-4 mr-1"}),"Add Image"]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"Social Media Links"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Instagram"}),p.jsxs("div",{className:"relative",children:[p.jsx($L,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:"socialMediaLinks.instagram",value:e.socialMediaLinks.instagram,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Twitter"}),p.jsxs("div",{className:"relative",children:[p.jsx(mf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:"socialMediaLinks.twitter",value:e.socialMediaLinks.twitter,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Facebook"}),p.jsxs("div",{className:"relative",children:[p.jsx(mf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:"socialMediaLinks.facebook",value:e.socialMediaLinks.facebook,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"YouTube"}),p.jsxs("div",{className:"relative",children:[p.jsx(mf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:"socialMediaLinks.youtube",value:e.socialMediaLinks.youtube,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]})]})]}),p.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition disabled:bg-gray-400",disabled:r,children:r?"Registering...":"Register"})]})]})},r6=()=>{const{user:t}=nI(),[e,n]=O.useState(null),[r,s]=O.useState(!0),[i,o]=O.useState("");return O.useEffect(()=>{(async()=>{if(t)try{const l=Rl(ai,"stars",t.uid),u=await Xg(l);u.exists()?n(u.data()):o("Star profile not found.")}catch(l){console.error("Error fetching star data:",l),o("Failed to fetch profile data.")}finally{s(!1)}})()},[t]),r?p.jsx("div",{className:"container mx-auto p-4 text-center",children:"Loading..."}):i?p.jsx("div",{className:"container mx-auto p-4 text-center text-red-500",children:i}):e?p.jsxs("div",{className:"container mx-auto p-4",children:[p.jsx("h1",{className:"text-2xl font-bold text-center mb-8",children:"Star Profile"}),p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Personal Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Name:"}),p.jsx("p",{children:e.name})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Email:"}),p.jsx("p",{children:e.email})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Phone:"}),p.jsx("p",{children:e.phone})]})]})]}),p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Professional Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Category:"}),p.jsx("p",{children:e.category})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Experience:"}),p.jsxs("p",{children:[e.experience," years"]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Hourly Rate:"}),p.jsxs("p",{children:["$",e.hourlyRate]})]})]})]}),p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Media"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Profile Picture:"}),p.jsx("img",{src:e.profilePicture,alt:"Profile",className:"w-32 h-32 rounded-full object-cover"})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Video Introduction:"}),p.jsx("a",{href:e.videoIntroduction,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Watch Video"})]})]})]}),p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Social Media Links"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.socialMediaLinks.instagram&&p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Instagram:"}),p.jsx("a",{href:e.socialMediaLinks.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:e.socialMediaLinks.instagram})]}),e.socialMediaLinks.twitter&&p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Twitter:"}),p.jsx("a",{href:e.socialMediaLinks.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:e.socialMediaLinks.twitter})]}),e.socialMediaLinks.facebook&&p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Facebook:"}),p.jsx("a",{href:e.socialMediaLinks.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:e.socialMediaLinks.facebook})]}),e.socialMediaLinks.youtube&&p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"YouTube:"}),p.jsx("a",{href:e.socialMediaLinks.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:e.socialMediaLinks.youtube})]})]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Advertising Images"}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.advertisingImages.map((a,l)=>p.jsx("img",{src:a,alt:`Advertising ${l+1}`,className:"w-full h-48 object-cover rounded-lg"},l))})]})]}):p.jsx("div",{className:"container mx-auto p-4 text-center",children:"No profile data found."})},s6=({isOpen:t,onClose:e})=>{const[n,r]=O.useState(!0),[s,i]=O.useState(""),[o,a]=O.useState(""),{signIn:l,signUp:u}=O.useContext(Jg),d=async f=>{f.preventDefault(),n?await l(s,o):await u(s,o),e()};return p.jsx("div",{className:`fixed inset-0 z-50 ${t?"flex":"hidden"} items-center justify-center bg-black bg-opacity-50`,children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-2xl font-semibold dark:text-white",children:n?"Sign In":"Sign Up"}),p.jsx("button",{onClick:e,className:"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100",children:p.jsx(iI,{className:"w-6 h-6"})})]}),p.jsxs("form",{onSubmit:d,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),p.jsxs("div",{className:"relative",children:[p.jsx(rI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"email",value:s,onChange:f=>i(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-700 dark:text-gray-200",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(jL,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"password",value:o,onChange:f=>a(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-700 dark:text-gray-200",required:!0})]})]}),p.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 rounded-lg font-semibold hover:bg-indigo-700 transition",children:n?"Sign In":"Sign Up"})]}),p.jsx("div",{className:"text-center mt-4",children:p.jsx("button",{onClick:()=>r(!n),className:"text-sm text-indigo-600 dark:text-indigo-400 hover:underline",children:n?"Create an account":"Already have an account? Sign in"})})]})})},Jw=({isDark:t,toggleDarkMode:e,onClose:n})=>{const[r,s]=O.useState(!1);O.useEffect(()=>{(async()=>{if(ls.currentUser){const a=Rl(ai,"stars",ls.currentUser.uid),l=await Xg(a);s(l.exists())}})()},[]);const i=async()=>{try{await XN(ls),n()}catch(o){console.error("Error signing out:",o)}};return p.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 z-10 animate-fade-in",children:[p.jsx("div",{className:"absolute top-[-5px] right-3 h-0 w-0 border-l-[5px] border-r-[5px] border-b-[5px] border-l-transparent border-r-transparent border-b-white dark:border-b-gray-800"}),p.jsx("button",{onClick:e,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:t?p.jsxs(p.Fragment,{children:[p.jsx(Jp,{className:"w-4 h-4 mr-2"}),"Light Mode"]}):p.jsxs(p.Fragment,{children:[p.jsx(Xp,{className:"w-4 h-4 mr-2"}),"Dark Mode"]})}),r?p.jsxs(Za,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:n,children:[p.jsx(Gu,{className:"w-4 h-4 mr-2 inline-block"}),"Profile"]}):p.jsxs(Za,{to:"/register-star",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:n,children:[p.jsx(Sr,{className:"w-4 h-4 mr-2 inline-block"}),"Register as a Star"]}),p.jsxs("button",{onClick:i,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[p.jsx(FL,{className:"w-4 h-4 mr-2"}),"Logout"]})]})},i6=()=>{const[t,e]=O.useState(!1),[n,r]=O.useState(!1),[s,i]=O.useState(!1),[o,a]=O.useState(!1),{user:l}=nI();O.useEffect(()=>{(localStorage.theme==="dark"||!localStorage.theme&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(r(!0),document.documentElement.classList.add("dark"))},[]);const u=()=>{n?(document.documentElement.classList.remove("dark"),localStorage.theme="light"):(document.documentElement.classList.add("dark"),localStorage.theme="dark"),r(!n)},d=()=>{a(!o)},f=()=>{a(!1)};return p.jsxs(p.Fragment,{children:[p.jsx("nav",{className:"bg-white dark:bg-gray-800 shadow-lg",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex items-center justify-between h-16",children:[p.jsxs(Za,{to:"/",className:"flex items-center space-x-3 group",children:[p.jsx("div",{className:"transform group-hover:scale-110 transition-transform duration-300",children:p.jsx(oI,{})}),p.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-indigo-800 bg-clip-text text-transparent",children:"StarConnect"})]}),p.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[p.jsx("button",{onClick:u,className:"p-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors","aria-label":"Toggle dark mode",children:n?p.jsx(Jp,{className:"w-5 h-5"}):p.jsx(Xp,{className:"w-5 h-5"})}),l?p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:d,className:"text-gray-700 dark:text-gray-200 flex items-center gap-1",children:[p.jsx("span",{children:l.displayName||l.email}),p.jsx(aw,{className:"w-4 h-4"})]}),o&&p.jsx(Jw,{isDark:n,toggleDarkMode:u,onClose:f})]}):p.jsxs("button",{onClick:()=>e(!0),className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-200 hover:text-indigo-600 dark:hover:text-indigo-400 transition",children:[p.jsx(Gu,{className:"w-5 h-5"}),p.jsx("span",{children:"Sign In"})]})]}),p.jsx("div",{className:"md:hidden",children:p.jsx("button",{onClick:()=>i(!0),children:p.jsx(UL,{className:"h-6 w-6 text-gray-700 dark:text-gray-200"})})})]})})}),p.jsx("div",{className:`fixed top-0 right-0 h-screen w-64 bg-white dark:bg-gray-800 shadow-xl z-50 transition-transform duration-300 ease-in-out transform ${s?"translate-x-0":"translate-x-full"}`,children:p.jsxs("div",{className:"p-4",children:[p.jsx("button",{onClick:()=>i(!1),className:"absolute top-4 right-4 text-gray-600 dark:text-gray-300",children:p.jsx(iI,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex flex-col items-center mt-10 space-y-4",children:[p.jsx("button",{onClick:u,className:"p-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors","aria-label":"Toggle dark mode",children:n?p.jsx(Jp,{className:"w-8 h-8"}):p.jsx(Xp,{className:"w-8 h-8"})}),l?p.jsxs("div",{className:"relative w-full",children:[p.jsxs("button",{onClick:d,className:"text-gray-700 dark:text-gray-200 w-full text-center flex items-center justify-center gap-1",children:[p.jsx("span",{children:l.displayName||l.email}),p.jsx(aw,{className:"w-4 h-4"})]}),o&&p.jsx(Jw,{isDark:n,toggleDarkMode:u,onClose:f})]}):p.jsxs("button",{onClick:()=>e(!0),className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-200 hover:text-indigo-600 dark:hover:text-indigo-400 transition",children:[p.jsx(Gu,{className:"w-5 h-5"}),p.jsx("span",{children:"Sign In"})]})]})]})}),p.jsx(s6,{isOpen:t,onClose:()=>e(!1)})]})},o6=()=>p.jsx("footer",{className:"bg-gray-900 text-white",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Sr,{className:"h-6 w-6"}),p.jsx("span",{className:"text-xl font-bold",children:"StarConnect"})]}),p.jsx("p",{className:"mt-2 text-gray-400",children:"Connect with your favorite stars and create unforgettable moments."})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{children:p.jsx("a",{href:"/book-star",className:"text-gray-400 hover:text-white",children:"Book a Star"})}),p.jsx("li",{children:p.jsx("a",{href:"/register-star",className:"text-gray-400 hover:text-white",children:"Register as Star"})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Categories"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{children:p.jsx("a",{href:"/category/musicians",className:"text-gray-400 hover:text-white",children:"Musicians"})}),p.jsx("li",{children:p.jsx("a",{href:"/category/actors",className:"text-gray-400 hover:text-white",children:"Actors"})}),p.jsx("li",{children:p.jsx("a",{href:"/category/athletes",className:"text-gray-400 hover:text-white",children:"Athletes"})}),p.jsx("li",{children:p.jsx("a",{href:"/category/influencers",className:"text-gray-400 hover:text-white",children:"Influencers"})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Follow Us"}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:p.jsx(VL,{className:"h-6 w-6"})}),p.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:p.jsx(KL,{className:"h-6 w-6"})}),p.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:p.jsx(ML,{className:"h-6 w-6"})})]})]})]}),p.jsx("div",{className:"mt-8 pt-8 border-t border-gray-800 text-center text-gray-400",children:p.jsxs("p",{children:[" ",new Date().getFullYear()," StarConnect. All rights reserved."]})})]})});function a6(){const[t,e]=O.useState(!1);O.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]);const n=()=>{e(!t)};return p.jsx(cP,{children:p.jsx(IL,{children:p.jsxs("div",{className:`min-h-screen bg-gray-100 dark:bg-gray-900 ${t?"dark":""}`,children:[p.jsx(i6,{isDark:t,toggleDarkMode:n}),p.jsx("main",{className:"py-10",children:p.jsxs(nP,{children:[p.jsx(Ar,{path:"/",element:p.jsx(t4,{})}),p.jsx(Ar,{path:"/category/:categoryName",element:p.jsx(n4,{})}),p.jsx(Ar,{path:"/star/:starId",element:p.jsx(BU,{})}),p.jsx(Ar,{path:"/book-star",element:p.jsx(WU,{})})," ",p.jsx(Ar,{path:"/booking-confirmation",element:p.jsx(zU,{})}),p.jsx(Ar,{path:"/register-star",element:p.jsx(n6,{})}),p.jsx(Ar,{path:"/profile",element:p.jsx(r6,{})})]})}),p.jsx(o6,{})]})})})}fk(document.getElementById("root")).render(p.jsx(O.StrictMode,{children:p.jsx(a6,{})}));
