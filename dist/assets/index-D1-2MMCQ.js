var wb=Object.defineProperty;var Eb=(t,e,n)=>e in t?wb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H=(t,e,n)=>Eb(t,typeof e!="symbol"?e+"":e,n);function xb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function AE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ME={exports:{}},_d={},OE={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Il=Symbol.for("react.element"),kb=Symbol.for("react.portal"),Tb=Symbol.for("react.fragment"),Ib=Symbol.for("react.strict_mode"),Sb=Symbol.for("react.profiler"),bb=Symbol.for("react.provider"),Cb=Symbol.for("react.context"),Db=Symbol.for("react.forward_ref"),Pb=Symbol.for("react.suspense"),Nb=Symbol.for("react.memo"),Rb=Symbol.for("react.lazy"),Qv=Symbol.iterator;function Ab(t){return t===null||typeof t!="object"?null:(t=Qv&&t[Qv]||t["@@iterator"],typeof t=="function"?t:null)}var LE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VE=Object.assign,jE={};function Ro(t,e,n){this.props=t,this.context=e,this.refs=jE,this.updater=n||LE}Ro.prototype.isReactComponent={};Ro.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ro.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function FE(){}FE.prototype=Ro.prototype;function bm(t,e,n){this.props=t,this.context=e,this.refs=jE,this.updater=n||LE}var Cm=bm.prototype=new FE;Cm.constructor=bm;VE(Cm,Ro.prototype);Cm.isPureReactComponent=!0;var Gv=Array.isArray,UE=Object.prototype.hasOwnProperty,Dm={current:null},BE={key:!0,ref:!0,__self:!0,__source:!0};function $E(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)UE.call(e,r)&&!BE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Il,type:t,key:i,ref:o,props:s,_owner:Dm.current}}function Mb(t,e){return{$$typeof:Il,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Il}function Ob(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xv=/\/+/g;function Uh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ob(""+t.key):e.toString(36)}function Uc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Il:case kb:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Uh(o,0):r,Gv(s)?(n="",t!=null&&(n=t.replace(Xv,"$&/")+"/"),Uc(s,e,n,"",function(u){return u})):s!=null&&(Pm(s)&&(s=Mb(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Gv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Uh(i,a);o+=Uc(i,e,n,l,s)}else if(l=Ab(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Uh(i,a++),o+=Uc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function lc(t,e,n){if(t==null)return t;var r=[],s=0;return Uc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Lb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ut={current:null},Bc={transition:null},Vb={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:Bc,ReactCurrentOwner:Dm};function WE(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:lc,forEach:function(t,e,n){lc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lc(t,function(){e++}),e},toArray:function(t){return lc(t,function(e){return e})||[]},only:function(t){if(!Pm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=Ro;se.Fragment=Tb;se.Profiler=Sb;se.PureComponent=bm;se.StrictMode=Ib;se.Suspense=Pb;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vb;se.act=WE;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=VE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Dm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)UE.call(e,l)&&!BE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Il,type:t.type,key:s,ref:i,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:Cb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bb,_context:t},t.Consumer=t};se.createElement=$E;se.createFactory=function(t){var e=$E.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:Db,render:t}};se.isValidElement=Pm;se.lazy=function(t){return{$$typeof:Rb,_payload:{_status:-1,_result:t},_init:Lb}};se.memo=function(t,e){return{$$typeof:Nb,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Bc.transition;Bc.transition={};try{t()}finally{Bc.transition=e}};se.unstable_act=WE;se.useCallback=function(t,e){return Ut.current.useCallback(t,e)};se.useContext=function(t){return Ut.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Ut.current.useDeferredValue(t)};se.useEffect=function(t,e){return Ut.current.useEffect(t,e)};se.useId=function(){return Ut.current.useId()};se.useImperativeHandle=function(t,e,n){return Ut.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Ut.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Ut.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Ut.current.useMemo(t,e)};se.useReducer=function(t,e,n){return Ut.current.useReducer(t,e,n)};se.useRef=function(t){return Ut.current.useRef(t)};se.useState=function(t){return Ut.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return Ut.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Ut.current.useTransition()};se.version="18.3.1";OE.exports=se;var M=OE.exports;const V=AE(M),zE=xb({__proto__:null,default:V},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jb=M,Fb=Symbol.for("react.element"),Ub=Symbol.for("react.fragment"),Bb=Object.prototype.hasOwnProperty,$b=jb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wb={key:!0,ref:!0,__self:!0,__source:!0};function HE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Bb.call(e,r)&&!Wb.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Fb,type:t,key:i,ref:o,props:s,_owner:$b.current}}_d.Fragment=Ub;_d.jsx=HE;_d.jsxs=HE;ME.exports=_d;var p=ME.exports,YE={exports:{}},rn={},qE={exports:{}},KE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,G){var J=$.length;$.push(G);e:for(;0<J;){var Ne=J-1>>>1,we=$[Ne];if(0<s(we,G))$[Ne]=G,$[J]=we,J=Ne;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var G=$[0],J=$.pop();if(J!==G){$[0]=J;e:for(var Ne=0,we=$.length,We=we>>>1;Ne<We;){var nr=2*(Ne+1)-1,rr=$[nr],sr=nr+1,ir=$[sr];if(0>s(rr,J))sr<we&&0>s(ir,rr)?($[Ne]=ir,$[sr]=J,Ne=sr):($[Ne]=rr,$[nr]=J,Ne=nr);else if(sr<we&&0>s(ir,J))$[Ne]=ir,$[sr]=J,Ne=sr;else break e}}return G}function s($,G){var J=$.sortIndex-G.sortIndex;return J!==0?J:$.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,m=3,g=!1,v=!1,T=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=$)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function N($){if(T=!1,x($),!v)if(n(l)!==null)v=!0,Te(L);else{var G=n(u);G!==null&&xe(N,G.startTime-$)}}function L($,G){v=!1,T&&(T=!1,w(E),E=-1),g=!0;var J=m;try{for(x(G),h=n(l);h!==null&&(!(h.expirationTime>G)||$&&!R());){var Ne=h.callback;if(typeof Ne=="function"){h.callback=null,m=h.priorityLevel;var we=Ne(h.expirationTime<=G);G=t.unstable_now(),typeof we=="function"?h.callback=we:h===n(l)&&r(l),x(G)}else r(l);h=n(l)}if(h!==null)var We=!0;else{var nr=n(u);nr!==null&&xe(N,nr.startTime-G),We=!1}return We}finally{h=null,m=J,g=!1}}var F=!1,I=null,E=-1,C=5,D=-1;function R(){return!(t.unstable_now()-D<C)}function A(){if(I!==null){var $=t.unstable_now();D=$;var G=!0;try{G=I(!0,$)}finally{G?P():(F=!1,I=null)}}else F=!1}var P;if(typeof _=="function")P=function(){_(A)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Ze=ae.port2;ae.port1.onmessage=A,P=function(){Ze.postMessage(null)}}else P=function(){b(A,0)};function Te($){I=$,F||(F=!0,P())}function xe($,G){E=b(function(){$(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,Te(L))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var J=m;m=G;try{return $()}finally{m=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=m;m=$;try{return G()}finally{m=J}},t.unstable_scheduleCallback=function($,G,J){var Ne=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Ne+J:Ne):J=Ne,$){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=J+we,$={id:d++,callback:G,priorityLevel:$,startTime:J,expirationTime:we,sortIndex:-1},J>Ne?($.sortIndex=J,e(u,$),n(l)===null&&$===n(u)&&(T?(w(E),E=-1):T=!0,xe(N,J-Ne))):($.sortIndex=we,e(l,$),v||g||(v=!0,Te(L))),$},t.unstable_shouldYield=R,t.unstable_wrapCallback=function($){var G=m;return function(){var J=m;m=G;try{return $.apply(this,arguments)}finally{m=J}}}})(KE);qE.exports=KE;var zb=qE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb=M,nn=zb;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QE=new Set,Wa={};function wi(t,e){uo(t,e),uo(t+"Capture",e)}function uo(t,e){for(Wa[t]=e,t=0;t<e.length;t++)QE.add(e[t])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wf=Object.prototype.hasOwnProperty,Yb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jv={},Zv={};function qb(t){return Wf.call(Zv,t)?!0:Wf.call(Jv,t)?!1:Yb.test(t)?Zv[t]=!0:(Jv[t]=!0,!1)}function Kb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qb(t,e,n,r){if(e===null||typeof e>"u"||Kb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new Bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new Bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new Bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new Bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new Bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new Bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new Bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new Bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new Bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nm=/[\-:]([a-z])/g;function Rm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nm,Rm);vt[e]=new Bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nm,Rm);vt[e]=new Bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nm,Rm);vt[e]=new Bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new Bt(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new Bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Am(t,e,n,r){var s=vt.hasOwnProperty(e)?vt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qb(e,n,s,r)&&(n=null),r||s===null?qb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Nr=Hb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cc=Symbol.for("react.element"),Ui=Symbol.for("react.portal"),Bi=Symbol.for("react.fragment"),Mm=Symbol.for("react.strict_mode"),zf=Symbol.for("react.profiler"),GE=Symbol.for("react.provider"),XE=Symbol.for("react.context"),Om=Symbol.for("react.forward_ref"),Hf=Symbol.for("react.suspense"),Yf=Symbol.for("react.suspense_list"),Lm=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),JE=Symbol.for("react.offscreen"),e0=Symbol.iterator;function ra(t){return t===null||typeof t!="object"?null:(t=e0&&t[e0]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,Bh;function ma(t){if(Bh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bh=e&&e[1]||""}return`
`+Bh+t}var $h=!1;function Wh(t,e){if(!t||$h)return"";$h=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$h=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ma(t):""}function Gb(t){switch(t.tag){case 5:return ma(t.type);case 16:return ma("Lazy");case 13:return ma("Suspense");case 19:return ma("SuspenseList");case 0:case 2:case 15:return t=Wh(t.type,!1),t;case 11:return t=Wh(t.type.render,!1),t;case 1:return t=Wh(t.type,!0),t;default:return""}}function qf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bi:return"Fragment";case Ui:return"Portal";case zf:return"Profiler";case Mm:return"StrictMode";case Hf:return"Suspense";case Yf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case XE:return(t.displayName||"Context")+".Consumer";case GE:return(t._context.displayName||"Context")+".Provider";case Om:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lm:return e=t.displayName||null,e!==null?e:qf(t.type)||"Memo";case Fr:e=t._payload,t=t._init;try{return qf(t(e))}catch{}}return null}function Xb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qf(e);case 8:return e===Mm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ms(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ZE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jb(t){var e=ZE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uc(t){t._valueTracker||(t._valueTracker=Jb(t))}function ex(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ZE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kf(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function t0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ms(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tx(t,e){e=e.checked,e!=null&&Am(t,"checked",e,!1)}function Qf(t,e){tx(t,e);var n=ms(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gf(t,e.type,ms(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function n0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gf(t,e,n){(e!=="number"||fu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ga=Array.isArray;function Ji(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ms(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Xf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function r0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(ga(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ms(n)}}function nx(t,e){var n=ms(e.value),r=ms(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function s0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dc,sx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dc=dc||document.createElement("div"),dc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function za(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zb=["Webkit","ms","Moz","O"];Object.keys(ba).forEach(function(t){Zb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ba[e]=ba[t]})});function ix(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ba.hasOwnProperty(t)&&ba[t]?(""+e).trim():e+"px"}function ox(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ix(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var eC=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zf(t,e){if(e){if(eC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function ep(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tp=null;function Vm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var np=null,Zi=null,eo=null;function i0(t){if(t=Cl(t)){if(typeof np!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Td(e),np(t.stateNode,t.type,e))}}function ax(t){Zi?eo?eo.push(t):eo=[t]:Zi=t}function lx(){if(Zi){var t=Zi,e=eo;if(eo=Zi=null,i0(t),e)for(t=0;t<e.length;t++)i0(e[t])}}function cx(t,e){return t(e)}function ux(){}var zh=!1;function dx(t,e,n){if(zh)return t(e,n);zh=!0;try{return cx(t,e,n)}finally{zh=!1,(Zi!==null||eo!==null)&&(ux(),lx())}}function Ha(t,e){var n=t.stateNode;if(n===null)return null;var r=Td(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var rp=!1;if(xr)try{var sa={};Object.defineProperty(sa,"passive",{get:function(){rp=!0}}),window.addEventListener("test",sa,sa),window.removeEventListener("test",sa,sa)}catch{rp=!1}function tC(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ca=!1,pu=null,mu=!1,sp=null,nC={onError:function(t){Ca=!0,pu=t}};function rC(t,e,n,r,s,i,o,a,l){Ca=!1,pu=null,tC.apply(nC,arguments)}function sC(t,e,n,r,s,i,o,a,l){if(rC.apply(this,arguments),Ca){if(Ca){var u=pu;Ca=!1,pu=null}else throw Error(W(198));mu||(mu=!0,sp=u)}}function Ei(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o0(t){if(Ei(t)!==t)throw Error(W(188))}function iC(t){var e=t.alternate;if(!e){if(e=Ei(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return o0(s),t;if(i===r)return o0(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function fx(t){return t=iC(t),t!==null?px(t):null}function px(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=px(t);if(e!==null)return e;t=t.sibling}return null}var mx=nn.unstable_scheduleCallback,a0=nn.unstable_cancelCallback,oC=nn.unstable_shouldYield,aC=nn.unstable_requestPaint,Ye=nn.unstable_now,lC=nn.unstable_getCurrentPriorityLevel,jm=nn.unstable_ImmediatePriority,gx=nn.unstable_UserBlockingPriority,gu=nn.unstable_NormalPriority,cC=nn.unstable_LowPriority,yx=nn.unstable_IdlePriority,wd=null,Un=null;function uC(t){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(wd,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:fC,dC=Math.log,hC=Math.LN2;function fC(t){return t>>>=0,t===0?32:31-(dC(t)/hC|0)|0}var hc=64,fc=4194304;function ya(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ya(a):(i&=o,i!==0&&(r=ya(i)))}else o=n&~s,o!==0?r=ya(o):i!==0&&(r=ya(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kn(e),s=1<<n,r|=t[n],e&=~s;return r}function pC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-kn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=pC(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ip(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vx(){var t=hc;return hc<<=1,!(hc&4194240)&&(hc=64),t}function Hh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kn(e),t[e]=n}function gC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-kn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Fm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var _e=0;function _x(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wx,Um,Ex,xx,kx,op=!1,pc=[],Zr=null,es=null,ts=null,Ya=new Map,qa=new Map,$r=[],yC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l0(t,e){switch(t){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Ya.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qa.delete(e.pointerId)}}function ia(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Cl(e),e!==null&&Um(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function vC(t,e,n,r,s){switch(e){case"focusin":return Zr=ia(Zr,t,e,n,r,s),!0;case"dragenter":return es=ia(es,t,e,n,r,s),!0;case"mouseover":return ts=ia(ts,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ya.set(i,ia(Ya.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,qa.set(i,ia(qa.get(i)||null,t,e,n,r,s)),!0}return!1}function Tx(t){var e=Hs(t.target);if(e!==null){var n=Ei(e);if(n!==null){if(e=n.tag,e===13){if(e=hx(n),e!==null){t.blockedOn=e,kx(t.priority,function(){Ex(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ap(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);tp=r,n.target.dispatchEvent(r),tp=null}else return e=Cl(n),e!==null&&Um(e),t.blockedOn=n,!1;e.shift()}return!0}function c0(t,e,n){$c(t)&&n.delete(e)}function _C(){op=!1,Zr!==null&&$c(Zr)&&(Zr=null),es!==null&&$c(es)&&(es=null),ts!==null&&$c(ts)&&(ts=null),Ya.forEach(c0),qa.forEach(c0)}function oa(t,e){t.blockedOn===e&&(t.blockedOn=null,op||(op=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,_C)))}function Ka(t){function e(s){return oa(s,t)}if(0<pc.length){oa(pc[0],t);for(var n=1;n<pc.length;n++){var r=pc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zr!==null&&oa(Zr,t),es!==null&&oa(es,t),ts!==null&&oa(ts,t),Ya.forEach(e),qa.forEach(e),n=0;n<$r.length;n++)r=$r[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$r.length&&(n=$r[0],n.blockedOn===null);)Tx(n),n.blockedOn===null&&$r.shift()}var to=Nr.ReactCurrentBatchConfig,vu=!0;function wC(t,e,n,r){var s=_e,i=to.transition;to.transition=null;try{_e=1,Bm(t,e,n,r)}finally{_e=s,to.transition=i}}function EC(t,e,n,r){var s=_e,i=to.transition;to.transition=null;try{_e=4,Bm(t,e,n,r)}finally{_e=s,to.transition=i}}function Bm(t,e,n,r){if(vu){var s=ap(t,e,n,r);if(s===null)tf(t,e,r,_u,n),l0(t,r);else if(vC(s,t,e,n,r))r.stopPropagation();else if(l0(t,r),e&4&&-1<yC.indexOf(t)){for(;s!==null;){var i=Cl(s);if(i!==null&&wx(i),i=ap(t,e,n,r),i===null&&tf(t,e,r,_u,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else tf(t,e,r,null,n)}}var _u=null;function ap(t,e,n,r){if(_u=null,t=Vm(r),t=Hs(t),t!==null)if(e=Ei(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _u=t,null}function Ix(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lC()){case jm:return 1;case gx:return 4;case gu:case cC:return 16;case yx:return 536870912;default:return 16}default:return 16}}var Kr=null,$m=null,Wc=null;function Sx(){if(Wc)return Wc;var t,e=$m,n=e.length,r,s="value"in Kr?Kr.value:Kr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Wc=s.slice(t,1<r?1-r:void 0)}function zc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mc(){return!0}function u0(){return!1}function sn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?mc:u0,this.isPropagationStopped=u0,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mc)},persist:function(){},isPersistent:mc}),e}var Ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wm=sn(Ao),bl=Oe({},Ao,{view:0,detail:0}),xC=sn(bl),Yh,qh,aa,Ed=Oe({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==aa&&(aa&&t.type==="mousemove"?(Yh=t.screenX-aa.screenX,qh=t.screenY-aa.screenY):qh=Yh=0,aa=t),Yh)},movementY:function(t){return"movementY"in t?t.movementY:qh}}),d0=sn(Ed),kC=Oe({},Ed,{dataTransfer:0}),TC=sn(kC),IC=Oe({},bl,{relatedTarget:0}),Kh=sn(IC),SC=Oe({},Ao,{animationName:0,elapsedTime:0,pseudoElement:0}),bC=sn(SC),CC=Oe({},Ao,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DC=sn(CC),PC=Oe({},Ao,{data:0}),h0=sn(PC),NC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AC[t])?!!e[t]:!1}function zm(){return MC}var OC=Oe({},bl,{key:function(t){if(t.key){var e=NC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zm,charCode:function(t){return t.type==="keypress"?zc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LC=sn(OC),VC=Oe({},Ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f0=sn(VC),jC=Oe({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zm}),FC=sn(jC),UC=Oe({},Ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),BC=sn(UC),$C=Oe({},Ed,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WC=sn($C),zC=[9,13,27,32],Hm=xr&&"CompositionEvent"in window,Da=null;xr&&"documentMode"in document&&(Da=document.documentMode);var HC=xr&&"TextEvent"in window&&!Da,bx=xr&&(!Hm||Da&&8<Da&&11>=Da),p0=" ",m0=!1;function Cx(t,e){switch(t){case"keyup":return zC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $i=!1;function YC(t,e){switch(t){case"compositionend":return Dx(e);case"keypress":return e.which!==32?null:(m0=!0,p0);case"textInput":return t=e.data,t===p0&&m0?null:t;default:return null}}function qC(t,e){if($i)return t==="compositionend"||!Hm&&Cx(t,e)?(t=Sx(),Wc=$m=Kr=null,$i=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bx&&e.locale!=="ko"?null:e.data;default:return null}}var KC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KC[t.type]:e==="textarea"}function Px(t,e,n,r){ax(r),e=wu(e,"onChange"),0<e.length&&(n=new Wm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pa=null,Qa=null;function QC(t){Bx(t,0)}function xd(t){var e=Hi(t);if(ex(e))return t}function GC(t,e){if(t==="change")return e}var Nx=!1;if(xr){var Qh;if(xr){var Gh="oninput"in document;if(!Gh){var y0=document.createElement("div");y0.setAttribute("oninput","return;"),Gh=typeof y0.oninput=="function"}Qh=Gh}else Qh=!1;Nx=Qh&&(!document.documentMode||9<document.documentMode)}function v0(){Pa&&(Pa.detachEvent("onpropertychange",Rx),Qa=Pa=null)}function Rx(t){if(t.propertyName==="value"&&xd(Qa)){var e=[];Px(e,Qa,t,Vm(t)),dx(QC,e)}}function XC(t,e,n){t==="focusin"?(v0(),Pa=e,Qa=n,Pa.attachEvent("onpropertychange",Rx)):t==="focusout"&&v0()}function JC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xd(Qa)}function ZC(t,e){if(t==="click")return xd(e)}function eD(t,e){if(t==="input"||t==="change")return xd(e)}function tD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:tD;function Ga(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Wf.call(e,s)||!bn(t[s],e[s]))return!1}return!0}function _0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function w0(t,e){var n=_0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_0(n)}}function Ax(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ax(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mx(){for(var t=window,e=fu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fu(t.document)}return e}function Ym(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nD(t){var e=Mx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ax(n.ownerDocument.documentElement,n)){if(r!==null&&Ym(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=w0(n,i);var o=w0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rD=xr&&"documentMode"in document&&11>=document.documentMode,Wi=null,lp=null,Na=null,cp=!1;function E0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cp||Wi==null||Wi!==fu(r)||(r=Wi,"selectionStart"in r&&Ym(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Na&&Ga(Na,r)||(Na=r,r=wu(lp,"onSelect"),0<r.length&&(e=new Wm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wi)))}function gc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zi={animationend:gc("Animation","AnimationEnd"),animationiteration:gc("Animation","AnimationIteration"),animationstart:gc("Animation","AnimationStart"),transitionend:gc("Transition","TransitionEnd")},Xh={},Ox={};xr&&(Ox=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function kd(t){if(Xh[t])return Xh[t];if(!zi[t])return t;var e=zi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ox)return Xh[t]=e[n];return t}var Lx=kd("animationend"),Vx=kd("animationiteration"),jx=kd("animationstart"),Fx=kd("transitionend"),Ux=new Map,x0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cs(t,e){Ux.set(t,e),wi(e,[t])}for(var Jh=0;Jh<x0.length;Jh++){var Zh=x0[Jh],sD=Zh.toLowerCase(),iD=Zh[0].toUpperCase()+Zh.slice(1);Cs(sD,"on"+iD)}Cs(Lx,"onAnimationEnd");Cs(Vx,"onAnimationIteration");Cs(jx,"onAnimationStart");Cs("dblclick","onDoubleClick");Cs("focusin","onFocus");Cs("focusout","onBlur");Cs(Fx,"onTransitionEnd");uo("onMouseEnter",["mouseout","mouseover"]);uo("onMouseLeave",["mouseout","mouseover"]);uo("onPointerEnter",["pointerout","pointerover"]);uo("onPointerLeave",["pointerout","pointerover"]);wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oD=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function k0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sC(r,e,void 0,t),t.currentTarget=null}function Bx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;k0(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;k0(s,a,u),i=l}}}if(mu)throw t=sp,mu=!1,sp=null,t}function Se(t,e){var n=e[pp];n===void 0&&(n=e[pp]=new Set);var r=t+"__bubble";n.has(r)||($x(e,t,2,!1),n.add(r))}function ef(t,e,n){var r=0;e&&(r|=4),$x(n,t,r,e)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Xa(t){if(!t[yc]){t[yc]=!0,QE.forEach(function(n){n!=="selectionchange"&&(oD.has(n)||ef(n,!1,t),ef(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yc]||(e[yc]=!0,ef("selectionchange",!1,e))}}function $x(t,e,n,r){switch(Ix(e)){case 1:var s=wC;break;case 4:s=EC;break;default:s=Bm}n=s.bind(null,e,n,t),s=void 0,!rp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function tf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Hs(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}dx(function(){var u=i,d=Vm(n),h=[];e:{var m=Ux.get(t);if(m!==void 0){var g=Wm,v=t;switch(t){case"keypress":if(zc(n)===0)break e;case"keydown":case"keyup":g=LC;break;case"focusin":v="focus",g=Kh;break;case"focusout":v="blur",g=Kh;break;case"beforeblur":case"afterblur":g=Kh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=d0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=TC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=FC;break;case Lx:case Vx:case jx:g=bC;break;case Fx:g=BC;break;case"scroll":g=xC;break;case"wheel":g=WC;break;case"copy":case"cut":case"paste":g=DC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=f0}var T=(e&4)!==0,b=!T&&t==="scroll",w=T?m!==null?m+"Capture":null:m;T=[];for(var _=u,x;_!==null;){x=_;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,w!==null&&(N=Ha(_,w),N!=null&&T.push(Ja(_,N,x)))),b)break;_=_.return}0<T.length&&(m=new g(m,v,null,n,d),h.push({event:m,listeners:T}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==tp&&(v=n.relatedTarget||n.fromElement)&&(Hs(v)||v[kr]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Hs(v):null,v!==null&&(b=Ei(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(T=d0,N="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(T=f0,N="onPointerLeave",w="onPointerEnter",_="pointer"),b=g==null?m:Hi(g),x=v==null?m:Hi(v),m=new T(N,_+"leave",g,n,d),m.target=b,m.relatedTarget=x,N=null,Hs(d)===u&&(T=new T(w,_+"enter",v,n,d),T.target=x,T.relatedTarget=b,N=T),b=N,g&&v)t:{for(T=g,w=v,_=0,x=T;x;x=Ai(x))_++;for(x=0,N=w;N;N=Ai(N))x++;for(;0<_-x;)T=Ai(T),_--;for(;0<x-_;)w=Ai(w),x--;for(;_--;){if(T===w||w!==null&&T===w.alternate)break t;T=Ai(T),w=Ai(w)}T=null}else T=null;g!==null&&T0(h,m,g,T,!1),v!==null&&b!==null&&T0(h,b,v,T,!0)}}e:{if(m=u?Hi(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var L=GC;else if(g0(m))if(Nx)L=eD;else{L=JC;var F=XC}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=ZC);if(L&&(L=L(t,u))){Px(h,L,n,d);break e}F&&F(t,m,u),t==="focusout"&&(F=m._wrapperState)&&F.controlled&&m.type==="number"&&Gf(m,"number",m.value)}switch(F=u?Hi(u):window,t){case"focusin":(g0(F)||F.contentEditable==="true")&&(Wi=F,lp=u,Na=null);break;case"focusout":Na=lp=Wi=null;break;case"mousedown":cp=!0;break;case"contextmenu":case"mouseup":case"dragend":cp=!1,E0(h,n,d);break;case"selectionchange":if(rD)break;case"keydown":case"keyup":E0(h,n,d)}var I;if(Hm)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else $i?Cx(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(bx&&n.locale!=="ko"&&($i||E!=="onCompositionStart"?E==="onCompositionEnd"&&$i&&(I=Sx()):(Kr=d,$m="value"in Kr?Kr.value:Kr.textContent,$i=!0)),F=wu(u,E),0<F.length&&(E=new h0(E,t,null,n,d),h.push({event:E,listeners:F}),I?E.data=I:(I=Dx(n),I!==null&&(E.data=I)))),(I=HC?YC(t,n):qC(t,n))&&(u=wu(u,"onBeforeInput"),0<u.length&&(d=new h0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}Bx(h,e)})}function Ja(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ha(t,n),i!=null&&r.unshift(Ja(t,i,s)),i=Ha(t,e),i!=null&&r.push(Ja(t,i,s))),t=t.return}return r}function Ai(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function T0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Ha(n,i),l!=null&&o.unshift(Ja(n,l,a))):s||(l=Ha(n,i),l!=null&&o.push(Ja(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var aD=/\r\n?/g,lD=/\u0000|\uFFFD/g;function I0(t){return(typeof t=="string"?t:""+t).replace(aD,`
`).replace(lD,"")}function vc(t,e,n){if(e=I0(e),I0(t)!==e&&n)throw Error(W(425))}function Eu(){}var up=null,dp=null;function hp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fp=typeof setTimeout=="function"?setTimeout:void 0,cD=typeof clearTimeout=="function"?clearTimeout:void 0,S0=typeof Promise=="function"?Promise:void 0,uD=typeof queueMicrotask=="function"?queueMicrotask:typeof S0<"u"?function(t){return S0.resolve(null).then(t).catch(dD)}:fp;function dD(t){setTimeout(function(){throw t})}function nf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ka(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ka(e)}function ns(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function b0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),On="__reactFiber$"+Mo,Za="__reactProps$"+Mo,kr="__reactContainer$"+Mo,pp="__reactEvents$"+Mo,hD="__reactListeners$"+Mo,fD="__reactHandles$"+Mo;function Hs(t){var e=t[On];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kr]||n[On]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=b0(t);t!==null;){if(n=t[On])return n;t=b0(t)}return e}t=n,n=t.parentNode}return null}function Cl(t){return t=t[On]||t[kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Td(t){return t[Za]||null}var mp=[],Yi=-1;function Ds(t){return{current:t}}function Ce(t){0>Yi||(t.current=mp[Yi],mp[Yi]=null,Yi--)}function ke(t,e){Yi++,mp[Yi]=t.current,t.current=e}var gs={},Dt=Ds(gs),Yt=Ds(!1),ri=gs;function ho(t,e){var n=t.type.contextTypes;if(!n)return gs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function qt(t){return t=t.childContextTypes,t!=null}function xu(){Ce(Yt),Ce(Dt)}function C0(t,e,n){if(Dt.current!==gs)throw Error(W(168));ke(Dt,e),ke(Yt,n)}function Wx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,Xb(t)||"Unknown",s));return Oe({},n,r)}function ku(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gs,ri=Dt.current,ke(Dt,t),ke(Yt,Yt.current),!0}function D0(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=Wx(t,e,ri),r.__reactInternalMemoizedMergedChildContext=t,Ce(Yt),Ce(Dt),ke(Dt,t)):Ce(Yt),ke(Yt,n)}var cr=null,Id=!1,rf=!1;function zx(t){cr===null?cr=[t]:cr.push(t)}function pD(t){Id=!0,zx(t)}function Ps(){if(!rf&&cr!==null){rf=!0;var t=0,e=_e;try{var n=cr;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cr=null,Id=!1}catch(s){throw cr!==null&&(cr=cr.slice(t+1)),mx(jm,Ps),s}finally{_e=e,rf=!1}}return null}var qi=[],Ki=0,Tu=null,Iu=0,an=[],ln=0,si=null,dr=1,hr="";function Bs(t,e){qi[Ki++]=Iu,qi[Ki++]=Tu,Tu=t,Iu=e}function Hx(t,e,n){an[ln++]=dr,an[ln++]=hr,an[ln++]=si,si=t;var r=dr;t=hr;var s=32-kn(r)-1;r&=~(1<<s),n+=1;var i=32-kn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,dr=1<<32-kn(e)+s|n<<s|r,hr=i+t}else dr=1<<i|n<<s|r,hr=t}function qm(t){t.return!==null&&(Bs(t,1),Hx(t,1,0))}function Km(t){for(;t===Tu;)Tu=qi[--Ki],qi[Ki]=null,Iu=qi[--Ki],qi[Ki]=null;for(;t===si;)si=an[--ln],an[ln]=null,hr=an[--ln],an[ln]=null,dr=an[--ln],an[ln]=null}var en=null,Jt=null,Pe=!1,En=null;function Yx(t,e){var n=un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function P0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,en=t,Jt=ns(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,en=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=si!==null?{id:dr,overflow:hr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,en=t,Jt=null,!0):!1;default:return!1}}function gp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yp(t){if(Pe){var e=Jt;if(e){var n=e;if(!P0(t,e)){if(gp(t))throw Error(W(418));e=ns(n.nextSibling);var r=en;e&&P0(t,e)?Yx(r,n):(t.flags=t.flags&-4097|2,Pe=!1,en=t)}}else{if(gp(t))throw Error(W(418));t.flags=t.flags&-4097|2,Pe=!1,en=t}}}function N0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function _c(t){if(t!==en)return!1;if(!Pe)return N0(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hp(t.type,t.memoizedProps)),e&&(e=Jt)){if(gp(t))throw qx(),Error(W(418));for(;e;)Yx(t,e),e=ns(e.nextSibling)}if(N0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=ns(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=en?ns(t.stateNode.nextSibling):null;return!0}function qx(){for(var t=Jt;t;)t=ns(t.nextSibling)}function fo(){Jt=en=null,Pe=!1}function Qm(t){En===null?En=[t]:En.push(t)}var mD=Nr.ReactCurrentBatchConfig;function la(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function wc(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function R0(t){var e=t._init;return e(t._payload)}function Kx(t){function e(w,_){if(t){var x=w.deletions;x===null?(w.deletions=[_],w.flags|=16):x.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function s(w,_){return w=os(w,_),w.index=0,w.sibling=null,w}function i(w,_,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<_?(w.flags|=2,_):x):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,x,N){return _===null||_.tag!==6?(_=df(x,w.mode,N),_.return=w,_):(_=s(_,x),_.return=w,_)}function l(w,_,x,N){var L=x.type;return L===Bi?d(w,_,x.props.children,N,x.key):_!==null&&(_.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Fr&&R0(L)===_.type)?(N=s(_,x.props),N.ref=la(w,_,x),N.return=w,N):(N=Xc(x.type,x.key,x.props,null,w.mode,N),N.ref=la(w,_,x),N.return=w,N)}function u(w,_,x,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=hf(x,w.mode,N),_.return=w,_):(_=s(_,x.children||[]),_.return=w,_)}function d(w,_,x,N,L){return _===null||_.tag!==7?(_=Js(x,w.mode,N,L),_.return=w,_):(_=s(_,x),_.return=w,_)}function h(w,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=df(""+_,w.mode,x),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case cc:return x=Xc(_.type,_.key,_.props,null,w.mode,x),x.ref=la(w,null,_),x.return=w,x;case Ui:return _=hf(_,w.mode,x),_.return=w,_;case Fr:var N=_._init;return h(w,N(_._payload),x)}if(ga(_)||ra(_))return _=Js(_,w.mode,x,null),_.return=w,_;wc(w,_)}return null}function m(w,_,x,N){var L=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return L!==null?null:a(w,_,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case cc:return x.key===L?l(w,_,x,N):null;case Ui:return x.key===L?u(w,_,x,N):null;case Fr:return L=x._init,m(w,_,L(x._payload),N)}if(ga(x)||ra(x))return L!==null?null:d(w,_,x,N,null);wc(w,x)}return null}function g(w,_,x,N,L){if(typeof N=="string"&&N!==""||typeof N=="number")return w=w.get(x)||null,a(_,w,""+N,L);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case cc:return w=w.get(N.key===null?x:N.key)||null,l(_,w,N,L);case Ui:return w=w.get(N.key===null?x:N.key)||null,u(_,w,N,L);case Fr:var F=N._init;return g(w,_,x,F(N._payload),L)}if(ga(N)||ra(N))return w=w.get(x)||null,d(_,w,N,L,null);wc(_,N)}return null}function v(w,_,x,N){for(var L=null,F=null,I=_,E=_=0,C=null;I!==null&&E<x.length;E++){I.index>E?(C=I,I=null):C=I.sibling;var D=m(w,I,x[E],N);if(D===null){I===null&&(I=C);break}t&&I&&D.alternate===null&&e(w,I),_=i(D,_,E),F===null?L=D:F.sibling=D,F=D,I=C}if(E===x.length)return n(w,I),Pe&&Bs(w,E),L;if(I===null){for(;E<x.length;E++)I=h(w,x[E],N),I!==null&&(_=i(I,_,E),F===null?L=I:F.sibling=I,F=I);return Pe&&Bs(w,E),L}for(I=r(w,I);E<x.length;E++)C=g(I,w,E,x[E],N),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?E:C.key),_=i(C,_,E),F===null?L=C:F.sibling=C,F=C);return t&&I.forEach(function(R){return e(w,R)}),Pe&&Bs(w,E),L}function T(w,_,x,N){var L=ra(x);if(typeof L!="function")throw Error(W(150));if(x=L.call(x),x==null)throw Error(W(151));for(var F=L=null,I=_,E=_=0,C=null,D=x.next();I!==null&&!D.done;E++,D=x.next()){I.index>E?(C=I,I=null):C=I.sibling;var R=m(w,I,D.value,N);if(R===null){I===null&&(I=C);break}t&&I&&R.alternate===null&&e(w,I),_=i(R,_,E),F===null?L=R:F.sibling=R,F=R,I=C}if(D.done)return n(w,I),Pe&&Bs(w,E),L;if(I===null){for(;!D.done;E++,D=x.next())D=h(w,D.value,N),D!==null&&(_=i(D,_,E),F===null?L=D:F.sibling=D,F=D);return Pe&&Bs(w,E),L}for(I=r(w,I);!D.done;E++,D=x.next())D=g(I,w,E,D.value,N),D!==null&&(t&&D.alternate!==null&&I.delete(D.key===null?E:D.key),_=i(D,_,E),F===null?L=D:F.sibling=D,F=D);return t&&I.forEach(function(A){return e(w,A)}),Pe&&Bs(w,E),L}function b(w,_,x,N){if(typeof x=="object"&&x!==null&&x.type===Bi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case cc:e:{for(var L=x.key,F=_;F!==null;){if(F.key===L){if(L=x.type,L===Bi){if(F.tag===7){n(w,F.sibling),_=s(F,x.props.children),_.return=w,w=_;break e}}else if(F.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Fr&&R0(L)===F.type){n(w,F.sibling),_=s(F,x.props),_.ref=la(w,F,x),_.return=w,w=_;break e}n(w,F);break}else e(w,F);F=F.sibling}x.type===Bi?(_=Js(x.props.children,w.mode,N,x.key),_.return=w,w=_):(N=Xc(x.type,x.key,x.props,null,w.mode,N),N.ref=la(w,_,x),N.return=w,w=N)}return o(w);case Ui:e:{for(F=x.key;_!==null;){if(_.key===F)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(w,_.sibling),_=s(_,x.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=hf(x,w.mode,N),_.return=w,w=_}return o(w);case Fr:return F=x._init,b(w,_,F(x._payload),N)}if(ga(x))return v(w,_,x,N);if(ra(x))return T(w,_,x,N);wc(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(w,_.sibling),_=s(_,x),_.return=w,w=_):(n(w,_),_=df(x,w.mode,N),_.return=w,w=_),o(w)):n(w,_)}return b}var po=Kx(!0),Qx=Kx(!1),Su=Ds(null),bu=null,Qi=null,Gm=null;function Xm(){Gm=Qi=bu=null}function Jm(t){var e=Su.current;Ce(Su),t._currentValue=e}function vp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function no(t,e){bu=t,Gm=Qi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(Gm!==t)if(t={context:t,memoizedValue:e,next:null},Qi===null){if(bu===null)throw Error(W(308));Qi=t,bu.dependencies={lanes:0,firstContext:t}}else Qi=Qi.next=t;return e}var Ys=null;function Zm(t){Ys===null?Ys=[t]:Ys.push(t)}function Gx(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Zm(e)):(n.next=s.next,s.next=n),e.interleaved=n,Tr(t,r)}function Tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ur=!1;function eg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Tr(t,n)}return s=r.interleaved,s===null?(e.next=e,Zm(r)):(e.next=s.next,s.next=e),r.interleaved=e,Tr(t,n)}function Hc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fm(t,n)}}function A0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Cu(t,e,n,r){var s=t.updateQueue;Ur=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var m=a.lane,g=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,T=a;switch(m=e,g=n,T.tag){case 1:if(v=T.payload,typeof v=="function"){h=v.call(g,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=T.payload,m=typeof v=="function"?v.call(g,h,m):v,m==null)break e;h=Oe({},h,m);break e;case 2:Ur=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);oi|=o,t.lanes=o,t.memoizedState=h}}function M0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var Dl={},Bn=Ds(Dl),el=Ds(Dl),tl=Ds(Dl);function qs(t){if(t===Dl)throw Error(W(174));return t}function tg(t,e){switch(ke(tl,e),ke(el,t),ke(Bn,Dl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jf(e,t)}Ce(Bn),ke(Bn,e)}function mo(){Ce(Bn),Ce(el),Ce(tl)}function Jx(t){qs(tl.current);var e=qs(Bn.current),n=Jf(e,t.type);e!==n&&(ke(el,t),ke(Bn,n))}function ng(t){el.current===t&&(Ce(Bn),Ce(el))}var Re=Ds(0);function Du(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sf=[];function rg(){for(var t=0;t<sf.length;t++)sf[t]._workInProgressVersionPrimary=null;sf.length=0}var Yc=Nr.ReactCurrentDispatcher,of=Nr.ReactCurrentBatchConfig,ii=0,Me=null,et=null,it=null,Pu=!1,Ra=!1,nl=0,gD=0;function kt(){throw Error(W(321))}function sg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bn(t[n],e[n]))return!1;return!0}function ig(t,e,n,r,s,i){if(ii=i,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yc.current=t===null||t.memoizedState===null?wD:ED,t=n(r,s),Ra){i=0;do{if(Ra=!1,nl=0,25<=i)throw Error(W(301));i+=1,it=et=null,e.updateQueue=null,Yc.current=xD,t=n(r,s)}while(Ra)}if(Yc.current=Nu,e=et!==null&&et.next!==null,ii=0,it=et=Me=null,Pu=!1,e)throw Error(W(300));return t}function og(){var t=nl!==0;return nl=0,t}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Me.memoizedState=it=t:it=it.next=t,it}function fn(){if(et===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=it===null?Me.memoizedState:it.next;if(e!==null)it=e,et=t;else{if(t===null)throw Error(W(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},it===null?Me.memoizedState=it=t:it=it.next=t}return it}function rl(t,e){return typeof e=="function"?e(t):e}function af(t){var e=fn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=et,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((ii&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Me.lanes|=d,oi|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,bn(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Me.lanes|=i,oi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lf(t){var e=fn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);bn(i,e.memoizedState)||(Ht=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Zx(){}function ek(t,e){var n=Me,r=fn(),s=e(),i=!bn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ht=!0),r=r.queue,ag(rk.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,sl(9,nk.bind(null,n,r,s,e),void 0,null),at===null)throw Error(W(349));ii&30||tk(n,e,s)}return s}function tk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nk(t,e,n,r){e.value=n,e.getSnapshot=r,sk(e)&&ik(t)}function rk(t,e,n){return n(function(){sk(e)&&ik(t)})}function sk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bn(t,n)}catch{return!0}}function ik(t){var e=Tr(t,1);e!==null&&Tn(e,t,1,-1)}function O0(t){var e=Nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:t},e.queue=t,t=t.dispatch=_D.bind(null,Me,t),[e.memoizedState,t]}function sl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ok(){return fn().memoizedState}function qc(t,e,n,r){var s=Nn();Me.flags|=t,s.memoizedState=sl(1|e,n,void 0,r===void 0?null:r)}function Sd(t,e,n,r){var s=fn();r=r===void 0?null:r;var i=void 0;if(et!==null){var o=et.memoizedState;if(i=o.destroy,r!==null&&sg(r,o.deps)){s.memoizedState=sl(e,n,i,r);return}}Me.flags|=t,s.memoizedState=sl(1|e,n,i,r)}function L0(t,e){return qc(8390656,8,t,e)}function ag(t,e){return Sd(2048,8,t,e)}function ak(t,e){return Sd(4,2,t,e)}function lk(t,e){return Sd(4,4,t,e)}function ck(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uk(t,e,n){return n=n!=null?n.concat([t]):null,Sd(4,4,ck.bind(null,e,t),n)}function lg(){}function dk(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hk(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fk(t,e,n){return ii&21?(bn(n,e)||(n=vx(),Me.lanes|=n,oi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=n)}function yD(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=of.transition;of.transition={};try{t(!1),e()}finally{_e=n,of.transition=r}}function pk(){return fn().memoizedState}function vD(t,e,n){var r=is(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mk(t))gk(e,n);else if(n=Gx(t,e,n,r),n!==null){var s=jt();Tn(n,t,r,s),yk(n,e,r)}}function _D(t,e,n){var r=is(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mk(t))gk(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,bn(a,o)){var l=e.interleaved;l===null?(s.next=s,Zm(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Gx(t,e,s,r),n!==null&&(s=jt(),Tn(n,t,r,s),yk(n,e,r))}}function mk(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function gk(t,e){Ra=Pu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fm(t,n)}}var Nu={readContext:hn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},wD={readContext:hn,useCallback:function(t,e){return Nn().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:L0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qc(4194308,4,ck.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qc(4194308,4,t,e)},useInsertionEffect:function(t,e){return qc(4,2,t,e)},useMemo:function(t,e){var n=Nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vD.bind(null,Me,t),[r.memoizedState,t]},useRef:function(t){var e=Nn();return t={current:t},e.memoizedState=t},useState:O0,useDebugValue:lg,useDeferredValue:function(t){return Nn().memoizedState=t},useTransition:function(){var t=O0(!1),e=t[0];return t=yD.bind(null,t[1]),Nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Me,s=Nn();if(Pe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),at===null)throw Error(W(349));ii&30||tk(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,L0(rk.bind(null,r,i,t),[t]),r.flags|=2048,sl(9,nk.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Nn(),e=at.identifierPrefix;if(Pe){var n=hr,r=dr;n=(r&~(1<<32-kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ED={readContext:hn,useCallback:dk,useContext:hn,useEffect:ag,useImperativeHandle:uk,useInsertionEffect:ak,useLayoutEffect:lk,useMemo:hk,useReducer:af,useRef:ok,useState:function(){return af(rl)},useDebugValue:lg,useDeferredValue:function(t){var e=fn();return fk(e,et.memoizedState,t)},useTransition:function(){var t=af(rl)[0],e=fn().memoizedState;return[t,e]},useMutableSource:Zx,useSyncExternalStore:ek,useId:pk,unstable_isNewReconciler:!1},xD={readContext:hn,useCallback:dk,useContext:hn,useEffect:ag,useImperativeHandle:uk,useInsertionEffect:ak,useLayoutEffect:lk,useMemo:hk,useReducer:lf,useRef:ok,useState:function(){return lf(rl)},useDebugValue:lg,useDeferredValue:function(t){var e=fn();return et===null?e.memoizedState=t:fk(e,et.memoizedState,t)},useTransition:function(){var t=lf(rl)[0],e=fn().memoizedState;return[t,e]},useMutableSource:Zx,useSyncExternalStore:ek,useId:pk,unstable_isNewReconciler:!1};function _n(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _p(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bd={isMounted:function(t){return(t=t._reactInternals)?Ei(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=jt(),s=is(t),i=gr(r,s);i.payload=e,n!=null&&(i.callback=n),e=rs(t,i,s),e!==null&&(Tn(e,t,s,r),Hc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=jt(),s=is(t),i=gr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=rs(t,i,s),e!==null&&(Tn(e,t,s,r),Hc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=jt(),r=is(t),s=gr(n,r);s.tag=2,e!=null&&(s.callback=e),e=rs(t,s,r),e!==null&&(Tn(e,t,r,n),Hc(e,t,r))}};function V0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ga(n,r)||!Ga(s,i):!0}function vk(t,e,n){var r=!1,s=gs,i=e.contextType;return typeof i=="object"&&i!==null?i=hn(i):(s=qt(e)?ri:Dt.current,r=e.contextTypes,i=(r=r!=null)?ho(t,s):gs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function j0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bd.enqueueReplaceState(e,e.state,null)}function wp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},eg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=hn(i):(i=qt(e)?ri:Dt.current,s.context=ho(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(_p(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&bd.enqueueReplaceState(s,s.state,null),Cu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function go(t,e){try{var n="",r=e;do n+=Gb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function cf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ep(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kD=typeof WeakMap=="function"?WeakMap:Map;function _k(t,e,n){n=gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Au||(Au=!0,Np=r),Ep(t,e)},n}function wk(t,e,n){n=gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ep(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ep(t,e),typeof r!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function F0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kD;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=VD.bind(null,t,e,n),e.then(t,t))}function U0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function B0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gr(-1,1),e.tag=2,rs(n,e,1))),n.lanes|=1),t)}var TD=Nr.ReactCurrentOwner,Ht=!1;function Mt(t,e,n,r){e.child=t===null?Qx(e,null,n,r):po(e,t.child,n,r)}function $0(t,e,n,r,s){n=n.render;var i=e.ref;return no(e,s),r=ig(t,e,n,r,i,s),n=og(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ir(t,e,s)):(Pe&&n&&qm(e),e.flags|=1,Mt(t,e,r,s),e.child)}function W0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!gg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Ek(t,e,i,r,s)):(t=Xc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ga,n(o,r)&&t.ref===e.ref)return Ir(t,e,s)}return e.flags|=1,t=os(i,r),t.ref=e.ref,t.return=e,e.child=t}function Ek(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ga(i,r)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,Ir(t,e,s)}return xp(t,e,n,r,s)}function xk(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Xi,Gt),Gt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Xi,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ke(Xi,Gt),Gt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ke(Xi,Gt),Gt|=r;return Mt(t,e,s,n),e.child}function kk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xp(t,e,n,r,s){var i=qt(n)?ri:Dt.current;return i=ho(e,i),no(e,s),n=ig(t,e,n,r,i,s),r=og(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ir(t,e,s)):(Pe&&r&&qm(e),e.flags|=1,Mt(t,e,n,s),e.child)}function z0(t,e,n,r,s){if(qt(n)){var i=!0;ku(e)}else i=!1;if(no(e,s),e.stateNode===null)Kc(t,e),vk(e,n,r),wp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=hn(u):(u=qt(n)?ri:Dt.current,u=ho(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&j0(e,o,r,u),Ur=!1;var m=e.memoizedState;o.state=m,Cu(e,r,o,s),l=e.memoizedState,a!==r||m!==l||Yt.current||Ur?(typeof d=="function"&&(_p(e,n,d,r),l=e.memoizedState),(a=Ur||V0(e,n,a,r,m,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Xx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:_n(e.type,a),o.props=u,h=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=hn(l):(l=qt(n)?ri:Dt.current,l=ho(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&j0(e,o,r,l),Ur=!1,m=e.memoizedState,o.state=m,Cu(e,r,o,s);var v=e.memoizedState;a!==h||m!==v||Yt.current||Ur?(typeof g=="function"&&(_p(e,n,g,r),v=e.memoizedState),(u=Ur||V0(e,n,u,r,m,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return kp(t,e,n,r,i,s)}function kp(t,e,n,r,s,i){kk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&D0(e,n,!1),Ir(t,e,i);r=e.stateNode,TD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=po(e,t.child,null,i),e.child=po(e,null,a,i)):Mt(t,e,a,i),e.memoizedState=r.state,s&&D0(e,n,!0),e.child}function Tk(t){var e=t.stateNode;e.pendingContext?C0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&C0(t,e.context,!1),tg(t,e.containerInfo)}function H0(t,e,n,r,s){return fo(),Qm(s),e.flags|=256,Mt(t,e,n,r),e.child}var Tp={dehydrated:null,treeContext:null,retryLane:0};function Ip(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ik(t,e,n){var r=e.pendingProps,s=Re.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ke(Re,s&1),t===null)return yp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Pd(o,r,0,null),t=Js(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ip(n),e.memoizedState=Tp,t):cg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ID(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=os(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=os(a,i):(i=Js(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ip(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Tp,r}return i=t.child,t=i.sibling,r=os(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cg(t,e){return e=Pd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ec(t,e,n,r){return r!==null&&Qm(r),po(e,t.child,null,n),t=cg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ID(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=cf(Error(W(422))),Ec(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Pd({mode:"visible",children:r.children},s,0,null),i=Js(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&po(e,t.child,null,o),e.child.memoizedState=Ip(o),e.memoizedState=Tp,i);if(!(e.mode&1))return Ec(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=cf(i,r,void 0),Ec(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ht||a){if(r=at,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Tr(t,s),Tn(r,t,s,-1))}return mg(),r=cf(Error(W(421))),Ec(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=jD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Jt=ns(s.nextSibling),en=e,Pe=!0,En=null,t!==null&&(an[ln++]=dr,an[ln++]=hr,an[ln++]=si,dr=t.id,hr=t.overflow,si=e),e=cg(e,r.children),e.flags|=4096,e)}function Y0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vp(t.return,e,n)}function uf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Sk(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Mt(t,e,r.children,n),r=Re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Y0(t,n,e);else if(t.tag===19)Y0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Re,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Du(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),uf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Du(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}uf(e,!0,n,null,i);break;case"together":uf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SD(t,e,n){switch(e.tag){case 3:Tk(e),fo();break;case 5:Jx(e);break;case 1:qt(e.type)&&ku(e);break;case 4:tg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ke(Su,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Re,Re.current&1),e.flags|=128,null):n&e.child.childLanes?Ik(t,e,n):(ke(Re,Re.current&1),t=Ir(t,e,n),t!==null?t.sibling:null);ke(Re,Re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Sk(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ke(Re,Re.current),r)break;return null;case 22:case 23:return e.lanes=0,xk(t,e,n)}return Ir(t,e,n)}var bk,Sp,Ck,Dk;bk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sp=function(){};Ck=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,qs(Bn.current);var i=null;switch(n){case"input":s=Kf(t,s),r=Kf(t,r),i=[];break;case"select":s=Oe({},s,{value:void 0}),r=Oe({},r,{value:void 0}),i=[];break;case"textarea":s=Xf(t,s),r=Xf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Eu)}Zf(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wa.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Se("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Dk=function(t,e,n,r){n!==r&&(e.flags|=4)};function ca(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function bD(t,e,n){var r=e.pendingProps;switch(Km(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return qt(e.type)&&xu(),Tt(e),null;case 3:return r=e.stateNode,mo(),Ce(Yt),Ce(Dt),rg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_c(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,En!==null&&(Mp(En),En=null))),Sp(t,e),Tt(e),null;case 5:ng(e);var s=qs(tl.current);if(n=e.type,t!==null&&e.stateNode!=null)Ck(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Tt(e),null}if(t=qs(Bn.current),_c(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[On]=e,r[Za]=i,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(s=0;s<va.length;s++)Se(va[s],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":t0(r,i),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Se("invalid",r);break;case"textarea":r0(r,i),Se("invalid",r)}Zf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&vc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&vc(r.textContent,a,t),s=["children",""+a]):Wa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":uc(r),n0(r,i,!0);break;case"textarea":uc(r),s0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Eu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[On]=e,t[Za]=r,bk(t,e,!1,!1),e.stateNode=t;e:{switch(o=ep(n,r),n){case"dialog":Se("cancel",t),Se("close",t),s=r;break;case"iframe":case"object":case"embed":Se("load",t),s=r;break;case"video":case"audio":for(s=0;s<va.length;s++)Se(va[s],t);s=r;break;case"source":Se("error",t),s=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),s=r;break;case"details":Se("toggle",t),s=r;break;case"input":t0(t,r),s=Kf(t,r),Se("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Oe({},r,{value:void 0}),Se("invalid",t);break;case"textarea":r0(t,r),s=Xf(t,r),Se("invalid",t);break;default:s=r}Zf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?ox(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sx(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&za(t,l):typeof l=="number"&&za(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wa.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Se("scroll",t):l!=null&&Am(t,i,l,o))}switch(n){case"input":uc(t),n0(t,r,!1);break;case"textarea":uc(t),s0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ms(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ji(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ji(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Eu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)Dk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=qs(tl.current),qs(Bn.current),_c(e)){if(r=e.stateNode,n=e.memoizedProps,r[On]=e,(i=r.nodeValue!==n)&&(t=en,t!==null))switch(t.tag){case 3:vc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[On]=e,e.stateNode=r}return Tt(e),null;case 13:if(Ce(Re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&Jt!==null&&e.mode&1&&!(e.flags&128))qx(),fo(),e.flags|=98560,i=!1;else if(i=_c(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[On]=e}else fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),i=!1}else En!==null&&(Mp(En),En=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Re.current&1?tt===0&&(tt=3):mg())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return mo(),Sp(t,e),t===null&&Xa(e.stateNode.containerInfo),Tt(e),null;case 10:return Jm(e.type._context),Tt(e),null;case 17:return qt(e.type)&&xu(),Tt(e),null;case 19:if(Ce(Re),i=e.memoizedState,i===null)return Tt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ca(i,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Du(t),o!==null){for(e.flags|=128,ca(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Re,Re.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ye()>yo&&(e.flags|=128,r=!0,ca(i,!1),e.lanes=4194304)}else{if(!r)if(t=Du(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ca(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pe)return Tt(e),null}else 2*Ye()-i.renderingStartTime>yo&&n!==1073741824&&(e.flags|=128,r=!0,ca(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ye(),e.sibling=null,n=Re.current,ke(Re,r?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return pg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gt&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function CD(t,e){switch(Km(e),e.tag){case 1:return qt(e.type)&&xu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mo(),Ce(Yt),Ce(Dt),rg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ng(e),null;case 13:if(Ce(Re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(Re),null;case 4:return mo(),null;case 10:return Jm(e.type._context),null;case 22:case 23:return pg(),null;case 24:return null;default:return null}}var xc=!1,bt=!1,DD=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Gi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(t,e,r)}else n.current=null}function bp(t,e,n){try{n()}catch(r){je(t,e,r)}}var q0=!1;function PD(t,e){if(up=vu,t=Mx(),Ym(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dp={focusedElem:t,selectionRange:n},vu=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var T=v.memoizedProps,b=v.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?T:_n(e.type,T),b);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(N){je(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return v=q0,q0=!1,v}function Aa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&bp(e,n,i)}s=s.next}while(s!==r)}}function Cd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Cp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Pk(t){var e=t.alternate;e!==null&&(t.alternate=null,Pk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[On],delete e[Za],delete e[pp],delete e[hD],delete e[fD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Nk(t){return t.tag===5||t.tag===3||t.tag===4}function K0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Nk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Eu));else if(r!==4&&(t=t.child,t!==null))for(Dp(t,e,n),t=t.sibling;t!==null;)Dp(t,e,n),t=t.sibling}function Pp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Pp(t,e,n),t=t.sibling;t!==null;)Pp(t,e,n),t=t.sibling}var ft=null,wn=!1;function Lr(t,e,n){for(n=n.child;n!==null;)Rk(t,e,n),n=n.sibling}function Rk(t,e,n){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(wd,n)}catch{}switch(n.tag){case 5:bt||Gi(n,e);case 6:var r=ft,s=wn;ft=null,Lr(t,e,n),ft=r,wn=s,ft!==null&&(wn?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(wn?(t=ft,n=n.stateNode,t.nodeType===8?nf(t.parentNode,n):t.nodeType===1&&nf(t,n),Ka(t)):nf(ft,n.stateNode));break;case 4:r=ft,s=wn,ft=n.stateNode.containerInfo,wn=!0,Lr(t,e,n),ft=r,wn=s;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&bp(n,e,o),s=s.next}while(s!==r)}Lr(t,e,n);break;case 1:if(!bt&&(Gi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){je(n,e,a)}Lr(t,e,n);break;case 21:Lr(t,e,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,Lr(t,e,n),bt=r):Lr(t,e,n);break;default:Lr(t,e,n)}}function Q0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DD),e.forEach(function(r){var s=FD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ft=a.stateNode,wn=!1;break e;case 3:ft=a.stateNode.containerInfo,wn=!0;break e;case 4:ft=a.stateNode.containerInfo,wn=!0;break e}a=a.return}if(ft===null)throw Error(W(160));Rk(i,o,s),ft=null,wn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){je(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ak(e,t),e=e.sibling}function Ak(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),Pn(t),r&4){try{Aa(3,t,t.return),Cd(3,t)}catch(T){je(t,t.return,T)}try{Aa(5,t,t.return)}catch(T){je(t,t.return,T)}}break;case 1:yn(e,t),Pn(t),r&512&&n!==null&&Gi(n,n.return);break;case 5:if(yn(e,t),Pn(t),r&512&&n!==null&&Gi(n,n.return),t.flags&32){var s=t.stateNode;try{za(s,"")}catch(T){je(t,t.return,T)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&tx(s,i),ep(a,o);var u=ep(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?ox(s,h):d==="dangerouslySetInnerHTML"?sx(s,h):d==="children"?za(s,h):Am(s,d,h,u)}switch(a){case"input":Qf(s,i);break;case"textarea":nx(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Ji(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ji(s,!!i.multiple,i.defaultValue,!0):Ji(s,!!i.multiple,i.multiple?[]:"",!1))}s[Za]=i}catch(T){je(t,t.return,T)}}break;case 6:if(yn(e,t),Pn(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(T){je(t,t.return,T)}}break;case 3:if(yn(e,t),Pn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ka(e.containerInfo)}catch(T){je(t,t.return,T)}break;case 4:yn(e,t),Pn(t);break;case 13:yn(e,t),Pn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(hg=Ye())),r&4&&Q0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(u=bt)||d,yn(e,t),bt=u):yn(e,t),Pn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(h=Q=d;Q!==null;){switch(m=Q,g=m.child,m.tag){case 0:case 11:case 14:case 15:Aa(4,m,m.return);break;case 1:Gi(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(T){je(r,n,T)}}break;case 5:Gi(m,m.return);break;case 22:if(m.memoizedState!==null){X0(h);continue}}g!==null?(g.return=m,Q=g):X0(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ix("display",o))}catch(T){je(t,t.return,T)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(T){je(t,t.return,T)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yn(e,t),Pn(t),r&4&&Q0(t);break;case 21:break;default:yn(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Nk(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(za(s,""),r.flags&=-33);var i=K0(t);Pp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=K0(t);Dp(t,a,o);break;default:throw Error(W(161))}}catch(l){je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ND(t,e,n){Q=t,Mk(t)}function Mk(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||xc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||bt;a=xc;var u=bt;if(xc=o,(bt=l)&&!u)for(Q=s;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?J0(s):l!==null?(l.return=o,Q=l):J0(s);for(;i!==null;)Q=i,Mk(i),i=i.sibling;Q=s,xc=a,bt=u}G0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):G0(t)}}function G0(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||Cd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:_n(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&M0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}M0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ka(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}bt||e.flags&512&&Cp(e)}catch(m){je(e,e.return,m)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function X0(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function J0(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cd(4,e)}catch(l){je(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){je(e,s,l)}}var i=e.return;try{Cp(e)}catch(l){je(e,i,l)}break;case 5:var o=e.return;try{Cp(e)}catch(l){je(e,o,l)}}}catch(l){je(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var RD=Math.ceil,Ru=Nr.ReactCurrentDispatcher,ug=Nr.ReactCurrentOwner,dn=Nr.ReactCurrentBatchConfig,de=0,at=null,Ge=null,gt=0,Gt=0,Xi=Ds(0),tt=0,il=null,oi=0,Dd=0,dg=0,Ma=null,Wt=null,hg=0,yo=1/0,lr=null,Au=!1,Np=null,ss=null,kc=!1,Qr=null,Mu=0,Oa=0,Rp=null,Qc=-1,Gc=0;function jt(){return de&6?Ye():Qc!==-1?Qc:Qc=Ye()}function is(t){return t.mode&1?de&2&&gt!==0?gt&-gt:mD.transition!==null?(Gc===0&&(Gc=vx()),Gc):(t=_e,t!==0||(t=window.event,t=t===void 0?16:Ix(t.type)),t):1}function Tn(t,e,n,r){if(50<Oa)throw Oa=0,Rp=null,Error(W(185));Sl(t,n,r),(!(de&2)||t!==at)&&(t===at&&(!(de&2)&&(Dd|=n),tt===4&&Wr(t,gt)),Kt(t,r),n===1&&de===0&&!(e.mode&1)&&(yo=Ye()+500,Id&&Ps()))}function Kt(t,e){var n=t.callbackNode;mC(t,e);var r=yu(t,t===at?gt:0);if(r===0)n!==null&&a0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&a0(n),e===1)t.tag===0?pD(Z0.bind(null,t)):zx(Z0.bind(null,t)),uD(function(){!(de&6)&&Ps()}),n=null;else{switch(_x(r)){case 1:n=jm;break;case 4:n=gx;break;case 16:n=gu;break;case 536870912:n=yx;break;default:n=gu}n=$k(n,Ok.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ok(t,e){if(Qc=-1,Gc=0,de&6)throw Error(W(327));var n=t.callbackNode;if(ro()&&t.callbackNode!==n)return null;var r=yu(t,t===at?gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ou(t,r);else{e=r;var s=de;de|=2;var i=Vk();(at!==t||gt!==e)&&(lr=null,yo=Ye()+500,Xs(t,e));do try{OD();break}catch(a){Lk(t,a)}while(!0);Xm(),Ru.current=i,de=s,Ge!==null?e=0:(at=null,gt=0,e=tt)}if(e!==0){if(e===2&&(s=ip(t),s!==0&&(r=s,e=Ap(t,s))),e===1)throw n=il,Xs(t,0),Wr(t,r),Kt(t,Ye()),n;if(e===6)Wr(t,r);else{if(s=t.current.alternate,!(r&30)&&!AD(s)&&(e=Ou(t,r),e===2&&(i=ip(t),i!==0&&(r=i,e=Ap(t,i))),e===1))throw n=il,Xs(t,0),Wr(t,r),Kt(t,Ye()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:$s(t,Wt,lr);break;case 3:if(Wr(t,r),(r&130023424)===r&&(e=hg+500-Ye(),10<e)){if(yu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){jt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=fp($s.bind(null,t,Wt,lr),e);break}$s(t,Wt,lr);break;case 4:if(Wr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-kn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RD(r/1960))-r,10<r){t.timeoutHandle=fp($s.bind(null,t,Wt,lr),r);break}$s(t,Wt,lr);break;case 5:$s(t,Wt,lr);break;default:throw Error(W(329))}}}return Kt(t,Ye()),t.callbackNode===n?Ok.bind(null,t):null}function Ap(t,e){var n=Ma;return t.current.memoizedState.isDehydrated&&(Xs(t,e).flags|=256),t=Ou(t,e),t!==2&&(e=Wt,Wt=n,e!==null&&Mp(e)),t}function Mp(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function AD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!bn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wr(t,e){for(e&=~dg,e&=~Dd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kn(e),r=1<<n;t[n]=-1,e&=~r}}function Z0(t){if(de&6)throw Error(W(327));ro();var e=yu(t,0);if(!(e&1))return Kt(t,Ye()),null;var n=Ou(t,e);if(t.tag!==0&&n===2){var r=ip(t);r!==0&&(e=r,n=Ap(t,r))}if(n===1)throw n=il,Xs(t,0),Wr(t,e),Kt(t,Ye()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$s(t,Wt,lr),Kt(t,Ye()),null}function fg(t,e){var n=de;de|=1;try{return t(e)}finally{de=n,de===0&&(yo=Ye()+500,Id&&Ps())}}function ai(t){Qr!==null&&Qr.tag===0&&!(de&6)&&ro();var e=de;de|=1;var n=dn.transition,r=_e;try{if(dn.transition=null,_e=1,t)return t()}finally{_e=r,dn.transition=n,de=e,!(de&6)&&Ps()}}function pg(){Gt=Xi.current,Ce(Xi)}function Xs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cD(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(Km(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xu();break;case 3:mo(),Ce(Yt),Ce(Dt),rg();break;case 5:ng(r);break;case 4:mo();break;case 13:Ce(Re);break;case 19:Ce(Re);break;case 10:Jm(r.type._context);break;case 22:case 23:pg()}n=n.return}if(at=t,Ge=t=os(t.current,null),gt=Gt=e,tt=0,il=null,dg=Dd=oi=0,Wt=Ma=null,Ys!==null){for(e=0;e<Ys.length;e++)if(n=Ys[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ys=null}return t}function Lk(t,e){do{var n=Ge;try{if(Xm(),Yc.current=Nu,Pu){for(var r=Me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Pu=!1}if(ii=0,it=et=Me=null,Ra=!1,nl=0,ug.current=null,n===null||n.return===null){tt=1,il=e,Ge=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=gt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=U0(o);if(g!==null){g.flags&=-257,B0(g,o,a,i,e),g.mode&1&&F0(i,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var T=new Set;T.add(l),e.updateQueue=T}else v.add(l);break e}else{if(!(e&1)){F0(i,u,e),mg();break e}l=Error(W(426))}}else if(Pe&&a.mode&1){var b=U0(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),B0(b,o,a,i,e),Qm(go(l,a));break e}}i=l=go(l,a),tt!==4&&(tt=2),Ma===null?Ma=[i]:Ma.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=_k(i,l,e);A0(i,w);break e;case 1:a=l;var _=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ss===null||!ss.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=wk(i,a,e);A0(i,N);break e}}i=i.return}while(i!==null)}Fk(n)}catch(L){e=L,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function Vk(){var t=Ru.current;return Ru.current=Nu,t===null?Nu:t}function mg(){(tt===0||tt===3||tt===2)&&(tt=4),at===null||!(oi&268435455)&&!(Dd&268435455)||Wr(at,gt)}function Ou(t,e){var n=de;de|=2;var r=Vk();(at!==t||gt!==e)&&(lr=null,Xs(t,e));do try{MD();break}catch(s){Lk(t,s)}while(!0);if(Xm(),de=n,Ru.current=r,Ge!==null)throw Error(W(261));return at=null,gt=0,tt}function MD(){for(;Ge!==null;)jk(Ge)}function OD(){for(;Ge!==null&&!oC();)jk(Ge)}function jk(t){var e=Bk(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?Fk(t):Ge=e,ug.current=null}function Fk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=CD(n,e),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Ge=null;return}}else if(n=bD(n,e,Gt),n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);tt===0&&(tt=5)}function $s(t,e,n){var r=_e,s=dn.transition;try{dn.transition=null,_e=1,LD(t,e,n,r)}finally{dn.transition=s,_e=r}return null}function LD(t,e,n,r){do ro();while(Qr!==null);if(de&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(gC(t,i),t===at&&(Ge=at=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kc||(kc=!0,$k(gu,function(){return ro(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dn.transition,dn.transition=null;var o=_e;_e=1;var a=de;de|=4,ug.current=null,PD(t,n),Ak(n,t),nD(dp),vu=!!up,dp=up=null,t.current=n,ND(n),aC(),de=a,_e=o,dn.transition=i}else t.current=n;if(kc&&(kc=!1,Qr=t,Mu=s),i=t.pendingLanes,i===0&&(ss=null),uC(n.stateNode),Kt(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Au)throw Au=!1,t=Np,Np=null,t;return Mu&1&&t.tag!==0&&ro(),i=t.pendingLanes,i&1?t===Rp?Oa++:(Oa=0,Rp=t):Oa=0,Ps(),null}function ro(){if(Qr!==null){var t=_x(Mu),e=dn.transition,n=_e;try{if(dn.transition=null,_e=16>t?16:t,Qr===null)var r=!1;else{if(t=Qr,Qr=null,Mu=0,de&6)throw Error(W(331));var s=de;for(de|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Aa(8,d,i)}var h=d.child;if(h!==null)h.return=d,Q=h;else for(;Q!==null;){d=Q;var m=d.sibling,g=d.return;if(Pk(d),d===u){Q=null;break}if(m!==null){m.return=g,Q=m;break}Q=g}}}var v=i.alternate;if(v!==null){var T=v.child;if(T!==null){v.child=null;do{var b=T.sibling;T.sibling=null,T=b}while(T!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Aa(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Q=w;break e}Q=i.return}}var _=t.current;for(Q=_;Q!==null;){o=Q;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Q=x;else e:for(o=_;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cd(9,a)}}catch(L){je(a,a.return,L)}if(a===o){Q=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,Q=N;break e}Q=a.return}}if(de=s,Ps(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(wd,t)}catch{}r=!0}return r}finally{_e=n,dn.transition=e}}return!1}function e_(t,e,n){e=go(n,e),e=_k(t,e,1),t=rs(t,e,1),e=jt(),t!==null&&(Sl(t,1,e),Kt(t,e))}function je(t,e,n){if(t.tag===3)e_(t,t,n);else for(;e!==null;){if(e.tag===3){e_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ss===null||!ss.has(r))){t=go(n,t),t=wk(e,t,1),e=rs(e,t,1),t=jt(),e!==null&&(Sl(e,1,t),Kt(e,t));break}}e=e.return}}function VD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=jt(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(gt&n)===n&&(tt===4||tt===3&&(gt&130023424)===gt&&500>Ye()-hg?Xs(t,0):dg|=n),Kt(t,e)}function Uk(t,e){e===0&&(t.mode&1?(e=fc,fc<<=1,!(fc&130023424)&&(fc=4194304)):e=1);var n=jt();t=Tr(t,e),t!==null&&(Sl(t,e,n),Kt(t,n))}function jD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Uk(t,n)}function FD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),Uk(t,n)}var Bk;Bk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yt.current)Ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ht=!1,SD(t,e,n);Ht=!!(t.flags&131072)}else Ht=!1,Pe&&e.flags&1048576&&Hx(e,Iu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Kc(t,e),t=e.pendingProps;var s=ho(e,Dt.current);no(e,n),s=ig(null,e,r,t,s,n);var i=og();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qt(r)?(i=!0,ku(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,eg(e),s.updater=bd,e.stateNode=s,s._reactInternals=e,wp(e,r,t,n),e=kp(null,e,r,!0,i,n)):(e.tag=0,Pe&&i&&qm(e),Mt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Kc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=BD(r),t=_n(r,t),s){case 0:e=xp(null,e,r,t,n);break e;case 1:e=z0(null,e,r,t,n);break e;case 11:e=$0(null,e,r,t,n);break e;case 14:e=W0(null,e,r,_n(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),xp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),z0(t,e,r,s,n);case 3:e:{if(Tk(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Xx(t,e),Cu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=go(Error(W(423)),e),e=H0(t,e,r,n,s);break e}else if(r!==s){s=go(Error(W(424)),e),e=H0(t,e,r,n,s);break e}else for(Jt=ns(e.stateNode.containerInfo.firstChild),en=e,Pe=!0,En=null,n=Qx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fo(),r===s){e=Ir(t,e,n);break e}Mt(t,e,r,n)}e=e.child}return e;case 5:return Jx(e),t===null&&yp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,hp(r,s)?o=null:i!==null&&hp(r,i)&&(e.flags|=32),kk(t,e),Mt(t,e,o,n),e.child;case 6:return t===null&&yp(e),null;case 13:return Ik(t,e,n);case 4:return tg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=po(e,null,r,n):Mt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),$0(t,e,r,s,n);case 7:return Mt(t,e,e.pendingProps,n),e.child;case 8:return Mt(t,e,e.pendingProps.children,n),e.child;case 12:return Mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ke(Su,r._currentValue),r._currentValue=o,i!==null)if(bn(i.value,o)){if(i.children===s.children&&!Yt.current){e=Ir(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=gr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),vp(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),vp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Mt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,no(e,n),s=hn(s),r=r(s),e.flags|=1,Mt(t,e,r,n),e.child;case 14:return r=e.type,s=_n(r,e.pendingProps),s=_n(r.type,s),W0(t,e,r,s,n);case 15:return Ek(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),Kc(t,e),e.tag=1,qt(r)?(t=!0,ku(e)):t=!1,no(e,n),vk(e,r,s),wp(e,r,s,n),kp(null,e,r,!0,t,n);case 19:return Sk(t,e,n);case 22:return xk(t,e,n)}throw Error(W(156,e.tag))};function $k(t,e){return mx(t,e)}function UD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,e,n,r){return new UD(t,e,n,r)}function gg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BD(t){if(typeof t=="function")return gg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Om)return 11;if(t===Lm)return 14}return 2}function os(t,e){var n=t.alternate;return n===null?(n=un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")gg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bi:return Js(n.children,s,i,e);case Mm:o=8,s|=8;break;case zf:return t=un(12,n,e,s|2),t.elementType=zf,t.lanes=i,t;case Hf:return t=un(13,n,e,s),t.elementType=Hf,t.lanes=i,t;case Yf:return t=un(19,n,e,s),t.elementType=Yf,t.lanes=i,t;case JE:return Pd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case GE:o=10;break e;case XE:o=9;break e;case Om:o=11;break e;case Lm:o=14;break e;case Fr:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=un(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Js(t,e,n,r){return t=un(7,t,r,e),t.lanes=n,t}function Pd(t,e,n,r){return t=un(22,t,r,e),t.elementType=JE,t.lanes=n,t.stateNode={isHidden:!1},t}function df(t,e,n){return t=un(6,t,null,e),t.lanes=n,t}function hf(t,e,n){return e=un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $D(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hh(0),this.expirationTimes=Hh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yg(t,e,n,r,s,i,o,a,l){return t=new $D(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=un(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eg(i),t}function WD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ui,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Wk(t){if(!t)return gs;t=t._reactInternals;e:{if(Ei(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(qt(n))return Wx(t,n,e)}return e}function zk(t,e,n,r,s,i,o,a,l){return t=yg(n,r,!0,t,s,i,o,a,l),t.context=Wk(null),n=t.current,r=jt(),s=is(n),i=gr(r,s),i.callback=e??null,rs(n,i,s),t.current.lanes=s,Sl(t,s,r),Kt(t,r),t}function Nd(t,e,n,r){var s=e.current,i=jt(),o=is(s);return n=Wk(n),e.context===null?e.context=n:e.pendingContext=n,e=gr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rs(s,e,o),t!==null&&(Tn(t,s,o,i),Hc(t,s,o)),o}function Lu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function t_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vg(t,e){t_(t,e),(t=t.alternate)&&t_(t,e)}function zD(){return null}var Hk=typeof reportError=="function"?reportError:function(t){console.error(t)};function _g(t){this._internalRoot=t}Rd.prototype.render=_g.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Nd(t,e,null,null)};Rd.prototype.unmount=_g.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ai(function(){Nd(null,t,null,null)}),e[kr]=null}};function Rd(t){this._internalRoot=t}Rd.prototype.unstable_scheduleHydration=function(t){if(t){var e=xx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$r.length&&e!==0&&e<$r[n].priority;n++);$r.splice(n,0,t),n===0&&Tx(t)}};function wg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ad(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function n_(){}function HD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Lu(o);i.call(u)}}var o=zk(e,r,t,0,null,!1,!1,"",n_);return t._reactRootContainer=o,t[kr]=o.current,Xa(t.nodeType===8?t.parentNode:t),ai(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Lu(l);a.call(u)}}var l=yg(t,0,!1,null,null,!1,!1,"",n_);return t._reactRootContainer=l,t[kr]=l.current,Xa(t.nodeType===8?t.parentNode:t),ai(function(){Nd(e,l,n,r)}),l}function Md(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Lu(o);a.call(l)}}Nd(e,o,t,s)}else o=HD(n,e,t,s,r);return Lu(o)}wx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ya(e.pendingLanes);n!==0&&(Fm(e,n|1),Kt(e,Ye()),!(de&6)&&(yo=Ye()+500,Ps()))}break;case 13:ai(function(){var r=Tr(t,1);if(r!==null){var s=jt();Tn(r,t,1,s)}}),vg(t,1)}};Um=function(t){if(t.tag===13){var e=Tr(t,134217728);if(e!==null){var n=jt();Tn(e,t,134217728,n)}vg(t,134217728)}};Ex=function(t){if(t.tag===13){var e=is(t),n=Tr(t,e);if(n!==null){var r=jt();Tn(n,t,e,r)}vg(t,e)}};xx=function(){return _e};kx=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};np=function(t,e,n){switch(e){case"input":if(Qf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Td(r);if(!s)throw Error(W(90));ex(r),Qf(r,s)}}}break;case"textarea":nx(t,n);break;case"select":e=n.value,e!=null&&Ji(t,!!n.multiple,e,!1)}};cx=fg;ux=ai;var YD={usingClientEntryPoint:!1,Events:[Cl,Hi,Td,ax,lx,fg]},ua={findFiberByHostInstance:Hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qD={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fx(t),t===null?null:t.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance||zD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{wd=Tc.inject(qD),Un=Tc}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YD;rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wg(e))throw Error(W(200));return WD(t,e,null,n)};rn.createRoot=function(t,e){if(!wg(t))throw Error(W(299));var n=!1,r="",s=Hk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=yg(t,1,!1,null,null,n,!1,r,s),t[kr]=e.current,Xa(t.nodeType===8?t.parentNode:t),new _g(e)};rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=fx(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t){return ai(t)};rn.hydrate=function(t,e,n){if(!Ad(e))throw Error(W(200));return Md(null,t,e,!0,n)};rn.hydrateRoot=function(t,e,n){if(!wg(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Hk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=zk(e,null,t,1,n??null,s,!1,i,o),t[kr]=e.current,Xa(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Rd(e)};rn.render=function(t,e,n){if(!Ad(e))throw Error(W(200));return Md(null,t,e,!1,n)};rn.unmountComponentAtNode=function(t){if(!Ad(t))throw Error(W(40));return t._reactRootContainer?(ai(function(){Md(null,null,t,!1,function(){t._reactRootContainer=null,t[kr]=null})}),!0):!1};rn.unstable_batchedUpdates=fg;rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ad(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Md(t,e,n,!1,r)};rn.version="18.3.1-next-f1338f8080-20240426";function Yk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yk)}catch(t){console.error(t)}}Yk(),YE.exports=rn;var Od=YE.exports;const KD=AE(Od);var qk,r_=Od;qk=r_.createRoot,r_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ol.apply(this,arguments)}var Gr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gr||(Gr={}));const s_="popstate";function QD(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Op("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Vu(s)}return XD(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GD(){return Math.random().toString(36).substr(2,8)}function i_(t,e){return{usr:t.state,key:t.key,idx:e}}function Op(t,e,n,r){return n===void 0&&(n=null),ol({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Oo(e):e,{state:n,key:e&&e.key||r||GD()})}function Vu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Oo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function XD(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Gr.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ol({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Gr.Pop;let b=d(),w=b==null?null:b-u;u=b,l&&l({action:a,location:T.location,delta:w})}function m(b,w){a=Gr.Push;let _=Op(T.location,b,w);u=d()+1;let x=i_(_,u),N=T.createHref(_);try{o.pushState(x,"",N)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(N)}i&&l&&l({action:a,location:T.location,delta:1})}function g(b,w){a=Gr.Replace;let _=Op(T.location,b,w);u=d();let x=i_(_,u),N=T.createHref(_);o.replaceState(x,"",N),i&&l&&l({action:a,location:T.location,delta:0})}function v(b){let w=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof b=="string"?b:Vu(b);return _=_.replace(/ $/,"%20"),Je(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let T={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(s_,h),l=b,()=>{s.removeEventListener(s_,h),l=null}},createHref(b){return e(s,b)},createURL:v,encodeLocation(b){let w=v(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:g,go(b){return o.go(b)}};return T}var o_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(o_||(o_={}));function JD(t,e,n){return n===void 0&&(n="/"),ZD(t,e,n,!1)}function ZD(t,e,n,r){let s=typeof e=="string"?Oo(e):e,i=Eg(s.pathname||"/",n);if(i==null)return null;let o=Qk(t);eP(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=dP(i);a=cP(o[l],u,r)}return a}function Qk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Je(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=as([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Je(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Qk(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:aP(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Gk(i.path))s(i,o,l)}),e}function Gk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Gk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function eP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:lP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const tP=/^:[\w-]+$/,nP=3,rP=2,sP=1,iP=10,oP=-2,a_=t=>t==="*";function aP(t,e){let n=t.split("/"),r=n.length;return n.some(a_)&&(r+=oP),e&&(r+=rP),n.filter(s=>!a_(s)).reduce((s,i)=>s+(tP.test(i)?nP:i===""?sP:iP),r)}function lP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function cP(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=l_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),m=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=l_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:as([i,h.pathname]),pathnameBase:mP(as([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=as([i,h.pathnameBase]))}return o}function l_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=uP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let T=a[h]||"";o=i.slice(0,i.length-T.length).replace(/(.)\/+$/,"$1")}const v=a[h];return g&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function uP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Kk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function dP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Eg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function hP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Oo(t):t;return{pathname:n?n.startsWith("/")?n:fP(n,e):e,search:gP(r),hash:yP(s)}}function fP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ff(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xk(t,e){let n=pP(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Jk(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Oo(t):(s=ol({},t),Je(!s.pathname||!s.pathname.includes("?"),ff("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),ff("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),ff("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=hP(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const as=t=>t.join("/").replace(/\/\/+/g,"/"),mP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function vP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Zk=["post","put","patch","delete"];new Set(Zk);const _P=["get",...Zk];new Set(_P);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function al(){return al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},al.apply(this,arguments)}const xg=M.createContext(null),wP=M.createContext(null),xi=M.createContext(null),Ld=M.createContext(null),Ns=M.createContext({outlet:null,matches:[],isDataRoute:!1}),e1=M.createContext(null);function EP(t,e){let{relative:n}=e===void 0?{}:e;Pl()||Je(!1);let{basename:r,navigator:s}=M.useContext(xi),{hash:i,pathname:o,search:a}=n1(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:as([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Pl(){return M.useContext(Ld)!=null}function Vd(){return Pl()||Je(!1),M.useContext(Ld).location}function t1(t){M.useContext(xi).static||M.useLayoutEffect(t)}function Rs(){let{isDataRoute:t}=M.useContext(Ns);return t?MP():xP()}function xP(){Pl()||Je(!1);let t=M.useContext(xg),{basename:e,future:n,navigator:r}=M.useContext(xi),{matches:s}=M.useContext(Ns),{pathname:i}=Vd(),o=JSON.stringify(Xk(s,n.v7_relativeSplatPath)),a=M.useRef(!1);return t1(()=>{a.current=!0}),M.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=Jk(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:as([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function kg(){let{matches:t}=M.useContext(Ns),e=t[t.length-1];return e?e.params:{}}function n1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext(xi),{matches:s}=M.useContext(Ns),{pathname:i}=Vd(),o=JSON.stringify(Xk(s,r.v7_relativeSplatPath));return M.useMemo(()=>Jk(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function kP(t,e){return TP(t,e)}function TP(t,e,n,r){Pl()||Je(!1);let{navigator:s,static:i}=M.useContext(xi),{matches:o}=M.useContext(Ns),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=Vd(),h;if(e){var m;let w=typeof e=="string"?Oo(e):e;u==="/"||(m=w.pathname)!=null&&m.startsWith(u)||Je(!1),h=w}else h=d;let g=h.pathname||"/",v=g;if(u!=="/"){let w=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let T=!i&&n&&n.matches&&n.matches.length>0?n.matches:JD(t,{pathname:v}),b=DP(T&&T.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:as([u,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:as([u,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&b?M.createElement(Ld.Provider,{value:{location:al({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Gr.Pop}},b):b}function IP(){let t=AP(),e=vP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:s},n):null,null)}const SP=M.createElement(IP,null);class bP extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(Ns.Provider,{value:this.props.routeContext},M.createElement(e1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CP(t){let{routeContext:e,match:n,children:r}=t,s=M.useContext(xg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Ns.Provider,{value:e},r)}function DP(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Je(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:g}=n,v=h.route.loader&&m[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let g,v=!1,T=null,b=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,T=h.route.errorElement||SP,l&&(u<0&&m===0?(v=!0,b=null):u===m&&(v=!0,b=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,m+1)),_=()=>{let x;return g?x=T:v?x=b:h.route.Component?x=M.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,M.createElement(CP,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?M.createElement(bP,{location:n.location,revalidation:n.revalidation,component:T,error:g,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var r1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(r1||{}),ju=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ju||{});function PP(t){let e=M.useContext(xg);return e||Je(!1),e}function NP(t){let e=M.useContext(wP);return e||Je(!1),e}function RP(t){let e=M.useContext(Ns);return e||Je(!1),e}function s1(t){let e=RP(),n=e.matches[e.matches.length-1];return n.route.id||Je(!1),n.route.id}function AP(){var t;let e=M.useContext(e1),n=NP(ju.UseRouteError),r=s1(ju.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function MP(){let{router:t}=PP(r1.UseNavigateStable),e=s1(ju.UseNavigateStable),n=M.useRef(!1);return t1(()=>{n.current=!0}),M.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,al({fromRouteId:e},i)))},[t,e])}function OP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function vn(t){Je(!1)}function LP(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Gr.Pop,navigator:i,static:o=!1,future:a}=t;Pl()&&Je(!1);let l=e.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:l,navigator:i,static:o,future:al({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Oo(r));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:v="default"}=r,T=M.useMemo(()=>{let b=Eg(d,l);return b==null?null:{location:{pathname:b,search:h,hash:m,state:g,key:v},navigationType:s}},[l,d,h,m,g,v,s]);return T==null?null:M.createElement(xi.Provider,{value:u},M.createElement(Ld.Provider,{children:n,value:T}))}function VP(t){let{children:e,location:n}=t;return kP(Lp(e),n)}new Promise(()=>{});function Lp(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,s)=>{if(!M.isValidElement(r))return;let i=[...e,s];if(r.type===M.Fragment){n.push.apply(n,Lp(r.props.children,i));return}r.type!==vn&&Je(!1),!r.props.index||!r.props.children||Je(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Lp(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vp(){return Vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vp.apply(this,arguments)}function jP(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function FP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UP(t,e){return t.button===0&&(!e||e==="_self")&&!FP(t)}const BP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$P="6";try{window.__reactRouterVersion=$P}catch{}const WP="startTransition",c_=zE[WP];function zP(t){let{basename:e,children:n,future:r,window:s}=t,i=M.useRef();i.current==null&&(i.current=QD({window:s,v5Compat:!0}));let o=i.current,[a,l]=M.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=M.useCallback(h=>{u&&c_?c_(()=>l(h)):l(h)},[l,u]);return M.useLayoutEffect(()=>o.listen(d),[o,d]),M.useEffect(()=>OP(r),[r]),M.createElement(LP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const HP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,La=M.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,m=jP(e,BP),{basename:g}=M.useContext(xi),v,T=!1;if(typeof u=="string"&&YP.test(u)&&(v=u,HP))try{let x=new URL(window.location.href),N=u.startsWith("//")?new URL(x.protocol+u):new URL(u),L=Eg(N.pathname,g);N.origin===x.origin&&L!=null?u=L+N.search+N.hash:T=!0}catch{}let b=EP(u,{relative:s}),w=qP(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function _(x){r&&r(x),x.defaultPrevented||w(x)}return M.createElement("a",Vp({},m,{href:v||b,onClick:T||i?r:_,ref:n,target:l}))});var u_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(u_||(u_={}));var d_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(d_||(d_={}));function qP(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Rs(),u=Vd(),d=n1(t,{relative:o});return M.useCallback(h=>{if(UP(h,n)){h.preventDefault();let m=r!==void 0?r:Vu(u)===Vu(d);l(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,t,i,o,a])}const KP=()=>{};var h_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},QP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},o1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(m=64)),r.push(n[d],n[h],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new GP;const m=i<<2|a>>4;if(r.push(m),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XP=function(t){const e=i1(t);return o1.encodeByteArray(e,!0)},Fu=function(t){return XP(t).replace(/\./g,"")},a1=function(t){try{return o1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=()=>JP().__FIREBASE_DEFAULTS__,eN=()=>{if(typeof process>"u"||typeof h_>"u")return;const t=h_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&a1(t[1]);return e&&JSON.parse(e)},jd=()=>{try{return KP()||ZP()||eN()||tN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},l1=t=>{var e,n;return(n=(e=jd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},c1=t=>{const e=l1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},u1=()=>{var t;return(t=jd())===null||t===void 0?void 0:t.config},d1=t=>{var e;return(e=jd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fu(JSON.stringify(n)),Fu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function sN(){var t;const e=(t=jd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lN(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cN(){return!sN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uN(){try{return typeof indexedDB=="object"}catch{return!1}}function dN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="FirebaseError";class Zn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hN,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nl.prototype.create)}}class Nl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?fN(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Zn(s,a,r)}}function fN(t,e){return t.replace(pN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const pN=/\{\$([^}]+)}/g;function mN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function li(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(f_(i)&&f_(o)){if(!li(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function f_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _a(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function wa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function gN(t,e){const n=new yN(t,e);return n.subscribe.bind(n)}class yN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=pf),s.error===void 0&&(s.error=pf),s.complete===void 0&&(s.complete=pf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t){return t&&t._delegate?t._delegate:t}class ys{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EN(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wN(t){return t===Ws?void 0:t}function EN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _N(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const kN={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},TN=ie.INFO,IN={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},SN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=IN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tg{constructor(e){this.name=e,this._logLevel=TN,this._logHandler=SN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const bN=(t,e)=>e.some(n=>t instanceof n);let p_,m_;function CN(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DN(){return m_||(m_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f1=new WeakMap,jp=new WeakMap,p1=new WeakMap,mf=new WeakMap,Ig=new WeakMap;function PN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ls(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&f1.set(n,t)}).catch(()=>{}),Ig.set(e,t),e}function NN(t){if(jp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});jp.set(t,e)}let Fp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||p1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RN(t){Fp=t(Fp)}function AN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gf(this),e,...n);return p1.set(r,e.sort?e.sort():[e]),ls(r)}:DN().includes(t)?function(...e){return t.apply(gf(this),e),ls(f1.get(this))}:function(...e){return ls(t.apply(gf(this),e))}}function MN(t){return typeof t=="function"?AN(t):(t instanceof IDBTransaction&&NN(t),bN(t,CN())?new Proxy(t,Fp):t)}function ls(t){if(t instanceof IDBRequest)return PN(t);if(mf.has(t))return mf.get(t);const e=MN(t);return e!==t&&(mf.set(t,e),Ig.set(e,t)),e}const gf=t=>Ig.get(t);function ON(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ls(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ls(o.result),l.oldVersion,l.newVersion,ls(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const LN=["get","getKey","getAll","getAllKeys","count"],VN=["put","add","delete","clear"],yf=new Map;function g_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yf.get(e))return yf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=VN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||LN.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return yf.set(e,i),i}RN(t=>({...t,get:(e,n,r)=>g_(e,n)||t.get(e,n,r),has:(e,n)=>!!g_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Up="@firebase/app",y_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new Tg("@firebase/app"),UN="@firebase/app-compat",BN="@firebase/analytics-compat",$N="@firebase/analytics",WN="@firebase/app-check-compat",zN="@firebase/app-check",HN="@firebase/auth",YN="@firebase/auth-compat",qN="@firebase/database",KN="@firebase/data-connect",QN="@firebase/database-compat",GN="@firebase/functions",XN="@firebase/functions-compat",JN="@firebase/installations",ZN="@firebase/installations-compat",eR="@firebase/messaging",tR="@firebase/messaging-compat",nR="@firebase/performance",rR="@firebase/performance-compat",sR="@firebase/remote-config",iR="@firebase/remote-config-compat",oR="@firebase/storage",aR="@firebase/storage-compat",lR="@firebase/firestore",cR="@firebase/vertexai",uR="@firebase/firestore-compat",dR="firebase",hR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="[DEFAULT]",fR={[Up]:"fire-core",[UN]:"fire-core-compat",[$N]:"fire-analytics",[BN]:"fire-analytics-compat",[zN]:"fire-app-check",[WN]:"fire-app-check-compat",[HN]:"fire-auth",[YN]:"fire-auth-compat",[qN]:"fire-rtdb",[KN]:"fire-data-connect",[QN]:"fire-rtdb-compat",[GN]:"fire-fn",[XN]:"fire-fn-compat",[JN]:"fire-iid",[ZN]:"fire-iid-compat",[eR]:"fire-fcm",[tR]:"fire-fcm-compat",[nR]:"fire-perf",[rR]:"fire-perf-compat",[sR]:"fire-rc",[iR]:"fire-rc-compat",[oR]:"fire-gcs",[aR]:"fire-gcs-compat",[lR]:"fire-fst",[uR]:"fire-fst-compat",[cR]:"fire-vertex","fire-js":"fire-js",[dR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new Map,pR=new Map,$p=new Map;function v_(t,e){try{t.container.addComponent(e)}catch(n){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ci(t){const e=t.name;if($p.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;$p.set(e,t);for(const n of Uu.values())v_(n,t);for(const n of pR.values())v_(n,t);return!0}function Fd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new Nl("app","Firebase",mR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=hR;function m1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw cs.create("bad-app-name",{appName:String(s)});if(n||(n=u1()),!n)throw cs.create("no-options");const i=Uu.get(s);if(i){if(li(n,i.options)&&li(r,i.config))return i;throw cs.create("duplicate-app",{appName:s})}const o=new xN(s);for(const l of $p.values())o.addComponent(l);const a=new gR(n,r,o);return Uu.set(s,a),a}function Sg(t=Bp){const e=Uu.get(t);if(!e&&t===Bp&&u1())return m1();if(!e)throw cs.create("no-app",{appName:t});return e}function $n(t,e,n){var r;let s=(r=fR[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(a.join(" "));return}ci(new ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="firebase-heartbeat-database",vR=1,ll="firebase-heartbeat-store";let vf=null;function g1(){return vf||(vf=ON(yR,vR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ll)}catch(n){console.warn(n)}}}}).catch(t=>{throw cs.create("idb-open",{originalErrorMessage:t.message})})),vf}async function _R(t){try{const n=(await g1()).transaction(ll),r=await n.objectStore(ll).get(y1(t));return await n.done,r}catch(e){if(e instanceof Zn)Sr.warn(e.message);else{const n=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sr.warn(n.message)}}}async function __(t,e){try{const r=(await g1()).transaction(ll,"readwrite");await r.objectStore(ll).put(e,y1(t)),await r.done}catch(n){if(n instanceof Zn)Sr.warn(n.message);else{const r=cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sr.warn(r.message)}}}function y1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=1024,ER=30;class xR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=w_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>ER){const o=IR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Sr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=w_(),{heartbeatsToSend:r,unsentEntries:s}=kR(this._heartbeatsCache.heartbeats),i=Fu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Sr.warn(n),""}}}function w_(){return new Date().toISOString().substring(0,10)}function kR(t,e=wR){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),E_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),E_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uN()?dN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _R(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return __(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return __(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function E_(t){return Fu(JSON.stringify({version:2,heartbeats:t})).length}function IR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t){ci(new ys("platform-logger",e=>new jN(e),"PRIVATE")),ci(new ys("heartbeat",e=>new xR(e),"PRIVATE")),$n(Up,y_,t),$n(Up,y_,"esm2017"),$n("fire-js","")}SR("");var bR="firebase",CR="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n(bR,CR,"app");function bg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function v1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DR=v1,_1=new Nl("auth","Firebase",v1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=new Tg("@firebase/auth");function PR(t,...e){Bu.logLevel<=ie.WARN&&Bu.warn(`Auth (${ki}): ${t}`,...e)}function Jc(t,...e){Bu.logLevel<=ie.ERROR&&Bu.error(`Auth (${ki}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,...e){throw Dg(t,...e)}function In(t,...e){return Dg(t,...e)}function Cg(t,e,n){const r=Object.assign(Object.assign({},DR()),{[e]:n});return new Nl("auth","Firebase",r).create(e,{appName:t.name})}function yr(t){return Cg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NR(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pn(t,"argument-error"),Cg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _1.create(t,...e)}function Z(t,e,...n){if(!t)throw Dg(e,...n)}function fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jc(e),new Error(e)}function br(t,e){t||fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function w1(){return x_()==="http:"||x_()==="https:"}function x_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w1()||oN()||"connection"in navigator)?navigator.onLine:!0}function AR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=rN()||aN()}get(){return RR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t,e){br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=new Al(3e4,6e4);function Rr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function er(t,e,n,r,s={}){return x1(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Rl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return iN()||(u.referrerPolicy="no-referrer"),E1.fetch()(k1(t,t.config.apiHost,n,a),u)})}async function x1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},MR),e);try{const s=new VR(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ic(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ic(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ic(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Cg(t,d,u);pn(t,d)}}catch(s){if(s instanceof Zn)throw s;pn(t,"network-request-failed",{message:String(s)})}}async function Ml(t,e,n,r,s={}){const i=await er(t,e,n,r,s);return"mfaPendingCredential"in i&&pn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function k1(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Pg(t.config,s):`${t.config.apiScheme}://${s}`}function LR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(In(this.auth,"network-request-failed")),OR.get())})}}function Ic(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=In(t,e,r);return s.customData._tokenResponse=n,s}function k_(t){return t!==void 0&&t.enterprise!==void 0}class jR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FR(t,e){return er(t,"GET","/v2/recaptchaConfig",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(t,e){return er(t,"POST","/v1/accounts:delete",e)}async function T1(t,e){return er(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BR(t,e=!1){const n=Fe(t),r=await n.getIdToken(e),s=Ng(r);Z(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Va(_f(s.auth_time)),issuedAtTime:Va(_f(s.iat)),expirationTime:Va(_f(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function _f(t){return Number(t)*1e3}function Ng(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const s=a1(n);return s?JSON.parse(s):(Jc("Failed to decode base64 JWT payload"),null)}catch(s){return Jc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function T_(t){const e=Ng(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zn&&$R(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $R({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Va(this.lastLoginAt),this.creationTime=Va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(t){var e;const n=t.auth,r=await t.getIdToken(),s=await vo(t,T1(n,{idToken:r}));Z(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?I1(i.providerUserInfo):[],a=HR(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Wp(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function zR(t){const e=Fe(t);await Wu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HR(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function I1(t){return t.map(e=>{var{providerId:n}=e,r=bg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(t,e){const n=await x1(t,{},async()=>{const r=Rl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=k1(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",E1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qR(t,e){return er(t,"POST","/v2/accounts:revokeToken",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=T_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await YR(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new so;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Z(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Z(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=bg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Wp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await vo(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BR(this,e)}reload(){return zR(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zt(this.auth.app))return Promise.reject(yr(this.auth));const e=await this.getIdToken();return await vo(this,UR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:N,isAnonymous:L,providerData:F,stsTokenManager:I}=n;Z(x&&I,e,"internal-error");const E=so.fromJSON(this.name,I);Z(typeof x=="string",e,"internal-error"),Vr(h,e.name),Vr(m,e.name),Z(typeof N=="boolean",e,"internal-error"),Z(typeof L=="boolean",e,"internal-error"),Vr(g,e.name),Vr(v,e.name),Vr(T,e.name),Vr(b,e.name),Vr(w,e.name),Vr(_,e.name);const C=new pr({uid:x,auth:e,email:m,emailVerified:N,displayName:h,isAnonymous:L,photoURL:v,phoneNumber:g,tenantId:T,stsTokenManager:E,createdAt:w,lastLoginAt:_});return F&&Array.isArray(F)&&(C.providerData=F.map(D=>Object.assign({},D))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new so;s.updateFromServerResponse(n);const i=new pr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Wu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Z(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?I1(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new so;a.updateFromIdToken(r);const l=new pr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Wp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new Map;function mr(t){br(t instanceof Function,"Expected a class definition");let e=I_.get(t);return e?(br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,I_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}S1.type="NONE";const S_=S1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t,e,n){return`firebase:${t}:${e}:${n}`}class io{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Zc(this.userKey,s.apiKey,i),this.fullPersistenceKey=Zc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new io(mr(S_),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||mr(S_);const o=Zc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=pr._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new io(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new io(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R1(e))return"Blackberry";if(A1(e))return"Webos";if(C1(e))return"Safari";if((e.includes("chrome/")||D1(e))&&!e.includes("edge/"))return"Chrome";if(N1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function b1(t=Pt()){return/firefox\//i.test(t)}function C1(t=Pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function D1(t=Pt()){return/crios\//i.test(t)}function P1(t=Pt()){return/iemobile/i.test(t)}function N1(t=Pt()){return/android/i.test(t)}function R1(t=Pt()){return/blackberry/i.test(t)}function A1(t=Pt()){return/webos/i.test(t)}function Rg(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KR(t=Pt()){var e;return Rg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QR(){return lN()&&document.documentMode===10}function M1(t=Pt()){return Rg(t)||N1(t)||A1(t)||R1(t)||/windows phone/i.test(t)||P1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t,e=[]){let n;switch(t){case"Browser":n=b_(Pt());break;case"Worker":n=`${b_(Pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ki}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(t,e={}){return er(t,"GET","/v2/passwordPolicy",Rr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=6;class ZR{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:JR,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C_(this),this.idTokenSubscription=new C_(this),this.beforeStateQueue=new GR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await io.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await T1(this,{idToken:e}),r=await pr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zt(this.app))return Promise.reject(yr(this));const n=e?Fe(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zt(this.app)?Promise.reject(yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zt(this.app)?Promise.reject(yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XR(this),n=new ZR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mr(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&PR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function As(t){return Fe(t)}class C_{constructor(e){this.auth=e,this.observer=null,this.addObserver=gN(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tA(t){Ud=t}function L1(t){return Ud.loadJS(t)}function nA(){return Ud.recaptchaEnterpriseScript}function rA(){return Ud.gapiScript}function sA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class iA{constructor(){this.enterprise=new oA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const aA="recaptcha-enterprise",V1="NO_RECAPTCHA";class lA{constructor(e){this.type=aA,this.auth=As(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{FR(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new jR(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;k_(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(V1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iA().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&k_(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=nA();l.length!==0&&(l+=a),L1(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function D_(t,e,n,r=!1,s=!1){const i=new lA(t);let o;if(s)o=V1;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function zp(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await D_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await D_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t,e){const n=Fd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(li(i,e??{}))return s;pn(s,"already-initialized")}return n.initialize({options:e})}function uA(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dA(t,e,n){const r=As(t);Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=j1(e),{host:o,port:a}=hA(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Z(li(u,r.config.emulator)&&li(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,fA()}function j1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hA(t){const e=j1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:P_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:P_(o)}}}function P_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,n){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}async function pA(t,e){return er(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(t,e){return Ml(t,"POST","/v1/accounts:signInWithPassword",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(t,e){return Ml(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))}async function yA(t,e){return Ml(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends Ag{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new cl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zp(e,n,"signInWithPassword",mA);case"emailLink":return gA(e,{email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zp(e,r,"signUpPassword",pA);case"emailLink":return yA(e,{idToken:n,email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(t,e){return Ml(t,"POST","/v1/accounts:signInWithIdp",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="http://localhost";class ui extends Ag{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ui(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=bg(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ui(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return oo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oo(e,n)}buildRequest(){const e={requestUri:vA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wA(t){const e=_a(wa(t)).link,n=e?_a(wa(e)).deep_link_id:null,r=_a(wa(t)).deep_link_id;return(r?_a(wa(r)).link:null)||r||n||e||t}class Mg{constructor(e){var n,r,s,i,o,a;const l=_a(wa(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=_A((s=l.mode)!==null&&s!==void 0?s:null);Z(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=wA(e);try{return new Mg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,n){return cl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Mg.parseLink(n);return Z(r,"argument-error"),cl._fromEmailAndCode(e,r.code,r.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Og{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Ol{constructor(){super("facebook.com")}static credential(e){return ui._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ui._fromParams({providerId:Ln.PROVIDER_ID,signInMethod:Ln.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ln.credentialFromTaggedObject(e)}static credentialFromError(e){return Ln.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ln.credential(n,r)}catch{return null}}}Ln.GOOGLE_SIGN_IN_METHOD="google.com";Ln.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Ol{constructor(){super("github.com")}static credential(e){return ui._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Ol{constructor(){super("twitter.com")}static credential(e,n){return ui._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Yr.credential(n,r)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(t,e){return Ml(t,"POST","/v1/accounts:signUp",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await pr._fromIdTokenResponse(e,r,s),o=N_(r);return new di({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=N_(r);return new di({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function N_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends Zn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,zu.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new zu(e,n,r,s)}}function F1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?zu._fromErrorAndOperation(t,i,e,r):i})}async function xA(t,e,n=!1){const r=await vo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return di._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(t,e,n=!1){const{auth:r}=t;if(zt(r.app))return Promise.reject(yr(r));const s="reauthenticate";try{const i=await vo(t,F1(r,s,e,t),n);Z(i.idToken,r,"internal-error");const o=Ng(i.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),di._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&pn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(t,e,n=!1){if(zt(t.app))return Promise.reject(yr(t));const r="signIn",s=await F1(t,r,e),i=await di._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function TA(t,e){return U1(As(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(t){const e=As(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IA(t,e,n){if(zt(t.app))return Promise.reject(yr(t));const r=As(t),o=await zp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EA).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&B1(t),l}),a=await di._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function SA(t,e,n){return zt(t.app)?Promise.reject(yr(t)):TA(Fe(t),Lo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&B1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(t,e){return er(t,"POST","/v1/accounts:createAuthUri",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(t,e){const n=w1()?$u():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:s}=await bA(Fe(t),r);return s||[]}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA(t,e){return er(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Fe(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await vo(r,DA(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function NA(t,e,n,r){return Fe(t).onIdTokenChanged(e,n,r)}function RA(t,e,n){return Fe(t).beforeAuthStateChanged(e,n)}function AA(t,e,n,r){return Fe(t).onAuthStateChanged(e,n,r)}function $1(t){return Fe(t).signOut()}const Hu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hu,"1"),this.storage.removeItem(Hu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=1e3,OA=10;class z1 extends W1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);QR()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,OA):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},MA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}z1.type="LOCAL";const LA=z1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1 extends W1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}H1.type="SESSION";const Y1=H1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Bd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await VA(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Lg("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return window}function FA(t){Wn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){return typeof Wn().WorkerGlobalScope<"u"&&typeof Wn().importScripts=="function"}async function UA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $A(){return q1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="firebaseLocalStorageDb",WA=1,Yu="firebaseLocalStorage",Q1="fbase_key";class Ll{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $d(t,e){return t.transaction([Yu],e?"readwrite":"readonly").objectStore(Yu)}function zA(){const t=indexedDB.deleteDatabase(K1);return new Ll(t).toPromise()}function Hp(){const t=indexedDB.open(K1,WA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yu,{keyPath:Q1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yu)?e(r):(r.close(),await zA(),e(await Hp()))})})}async function R_(t,e,n){const r=$d(t,!0).put({[Q1]:e,value:n});return new Ll(r).toPromise()}async function HA(t,e){const n=$d(t,!1).get(e),r=await new Ll(n).toPromise();return r===void 0?null:r.value}function A_(t,e){const n=$d(t,!0).delete(e);return new Ll(n).toPromise()}const YA=800,qA=3;class G1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return q1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bd._getInstance($A()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UA(),!this.activeServiceWorker)return;this.sender=new jA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hp();return await R_(e,Hu,"1"),await A_(e,Hu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>R_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>HA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>A_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=$d(s,!1).getAll();return new Ll(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G1.type="LOCAL";const KA=G1;new Al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t,e){return e?mr(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends Ag{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QA(t){return U1(t.auth,new Vg(t),t.bypassAuthState)}function GA(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),kA(n,new Vg(t),t.bypassAuthState)}async function XA(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),xA(n,new Vg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QA;case"linkViaPopup":case"linkViaRedirect":return XA;case"reauthViaPopup":case"reauthViaRedirect":return GA;default:pn(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=new Al(2e3,1e4);async function ZA(t,e,n){if(zt(t.app))return Promise.reject(In(t,"operation-not-supported-in-this-environment"));const r=As(t);NR(t,e,Og);const s=X1(r,n);return new Ks(r,"signInViaPopup",e,s).executeNotNull()}class Ks extends J1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ks.currentPopupAction&&Ks.currentPopupAction.cancel(),Ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=Lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JA.get())};e()}}Ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="pendingRedirect",eu=new Map;class t2 extends J1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=eu.get(this.auth._key());if(!e){try{const r=await n2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}eu.set(this.auth._key(),e)}return this.bypassAuthState||eu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n2(t,e){const n=i2(e),r=s2(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function r2(t,e){eu.set(t._key(),e)}function s2(t){return mr(t._redirectPersistence)}function i2(t){return Zc(e2,t.config.apiKey,t.name)}async function o2(t,e,n=!1){if(zt(t.app))return Promise.reject(yr(t));const r=As(t),s=X1(r,e),o=await new t2(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=10*60*1e3;class l2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!c2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Z1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(In(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a2&&this.cachedEventUids.clear(),this.cachedEventUids.has(M_(e))}saveEventToCache(e){this.cachedEventUids.add(M_(e)),this.lastProcessedEventTime=Date.now()}}function M_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Z1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function c2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(t,e={}){return er(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h2=/^https?/;async function f2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await u2(t);for(const n of e)try{if(p2(n))return}catch{}pn(t,"unauthorized-domain")}function p2(t){const e=$u(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!h2.test(n))return!1;if(d2.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new Al(3e4,6e4);function O_(){const t=Wn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function g2(t){return new Promise((e,n)=>{var r,s,i;function o(){O_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O_(),n(In(t,"network-request-failed"))},timeout:m2.get()})}if(!((s=(r=Wn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Wn().gapi)===null||i===void 0)&&i.load)o();else{const a=sA("iframefcb");return Wn()[a]=()=>{gapi.load?o():n(In(t,"network-request-failed"))},L1(`${rA()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw tu=null,e})}let tu=null;function y2(t){return tu=tu||g2(t),tu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new Al(5e3,15e3),_2="__/auth/iframe",w2="emulator/auth/iframe",E2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k2(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Pg(e,w2):`https://${t.config.authDomain}/${_2}`,r={apiKey:e.apiKey,appName:t.name,v:ki},s=x2.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Rl(r).slice(1)}`}async function T2(t){const e=await y2(t),n=Wn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:k2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E2,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=In(t,"network-request-failed"),a=Wn().setTimeout(()=>{i(o)},v2.get());function l(){Wn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S2=500,b2=600,C2="_blank",D2="http://localhost";class L_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P2(t,e,n,r=S2,s=b2){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},I2),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Pt().toLowerCase();n&&(a=D1(u)?C2:n),b1(u)&&(e=e||D2,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[g,v])=>`${m}${g}=${v},`,"");if(KR(u)&&a!=="_self")return N2(e||"",a),new L_(null);const h=window.open(e||"",a,d);Z(h,t,"popup-blocked");try{h.focus()}catch{}return new L_(h)}function N2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="__/auth/handler",A2="emulator/auth/handler",M2=encodeURIComponent("fac");async function V_(t,e,n,r,s,i){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ki,eventId:s};if(e instanceof Og){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",mN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Ol){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${M2}=${encodeURIComponent(l)}`:"";return`${O2(t)}?${Rl(a).slice(1)}${u}`}function O2({config:t}){return t.emulator?Pg(t,A2):`https://${t.authDomain}/${R2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="webStorageSupport";class L2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y1,this._completeRedirectFn=o2,this._overrideRedirectResult=r2}async _openPopup(e,n,r,s){var i;br((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await V_(e,n,r,$u(),s);return P2(e,o,Lg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await V_(e,n,r,$u(),s);return FA(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(br(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await T2(e),r=new l2(e);return n.register("authEvent",s=>(Z(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wf,{type:wf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[wf];o!==void 0&&n(!!o),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=f2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return M1()||C1()||Rg()}}const V2=L2;var j_="@firebase/auth",F_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U2(t){ci(new ys("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O1(t)},u=new eA(r,s,i,l);return uA(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ci(new ys("auth-internal",e=>{const n=As(e.getProvider("auth").getImmediate());return(r=>new j2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$n(j_,F_,F2(t)),$n(j_,F_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=5*60,$2=d1("authIdTokenMaxAge")||B2;let U_=null;const W2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$2)return;const s=n==null?void 0:n.token;U_!==s&&(U_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function z2(t=Sg()){const e=Fd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=cA(t,{popupRedirectResolver:V2,persistence:[KA,LA,Y1]}),r=d1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=W2(i.toString());RA(n,o,()=>o(n.currentUser)),NA(n,a=>o(a))}}const s=l1("auth");return s&&dA(n,`http://${s}`),n}function H2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tA({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=In("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",H2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U2("Browser");var B_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,eT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,E){function C(){}C.prototype=E.prototype,I.D=E.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(D,R,A){for(var P=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)P[ae-2]=arguments[ae];return E.prototype[R].apply(D,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,E,C){C||(C=0);var D=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)D[R]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(R=0;16>R;++R)D[R]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=I.g[0],C=I.g[1],R=I.g[2];var A=I.g[3],P=E+(A^C&(R^A))+D[0]+3614090360&4294967295;E=C+(P<<7&4294967295|P>>>25),P=A+(R^E&(C^R))+D[1]+3905402710&4294967295,A=E+(P<<12&4294967295|P>>>20),P=R+(C^A&(E^C))+D[2]+606105819&4294967295,R=A+(P<<17&4294967295|P>>>15),P=C+(E^R&(A^E))+D[3]+3250441966&4294967295,C=R+(P<<22&4294967295|P>>>10),P=E+(A^C&(R^A))+D[4]+4118548399&4294967295,E=C+(P<<7&4294967295|P>>>25),P=A+(R^E&(C^R))+D[5]+1200080426&4294967295,A=E+(P<<12&4294967295|P>>>20),P=R+(C^A&(E^C))+D[6]+2821735955&4294967295,R=A+(P<<17&4294967295|P>>>15),P=C+(E^R&(A^E))+D[7]+4249261313&4294967295,C=R+(P<<22&4294967295|P>>>10),P=E+(A^C&(R^A))+D[8]+1770035416&4294967295,E=C+(P<<7&4294967295|P>>>25),P=A+(R^E&(C^R))+D[9]+2336552879&4294967295,A=E+(P<<12&4294967295|P>>>20),P=R+(C^A&(E^C))+D[10]+4294925233&4294967295,R=A+(P<<17&4294967295|P>>>15),P=C+(E^R&(A^E))+D[11]+2304563134&4294967295,C=R+(P<<22&4294967295|P>>>10),P=E+(A^C&(R^A))+D[12]+1804603682&4294967295,E=C+(P<<7&4294967295|P>>>25),P=A+(R^E&(C^R))+D[13]+4254626195&4294967295,A=E+(P<<12&4294967295|P>>>20),P=R+(C^A&(E^C))+D[14]+2792965006&4294967295,R=A+(P<<17&4294967295|P>>>15),P=C+(E^R&(A^E))+D[15]+1236535329&4294967295,C=R+(P<<22&4294967295|P>>>10),P=E+(R^A&(C^R))+D[1]+4129170786&4294967295,E=C+(P<<5&4294967295|P>>>27),P=A+(C^R&(E^C))+D[6]+3225465664&4294967295,A=E+(P<<9&4294967295|P>>>23),P=R+(E^C&(A^E))+D[11]+643717713&4294967295,R=A+(P<<14&4294967295|P>>>18),P=C+(A^E&(R^A))+D[0]+3921069994&4294967295,C=R+(P<<20&4294967295|P>>>12),P=E+(R^A&(C^R))+D[5]+3593408605&4294967295,E=C+(P<<5&4294967295|P>>>27),P=A+(C^R&(E^C))+D[10]+38016083&4294967295,A=E+(P<<9&4294967295|P>>>23),P=R+(E^C&(A^E))+D[15]+3634488961&4294967295,R=A+(P<<14&4294967295|P>>>18),P=C+(A^E&(R^A))+D[4]+3889429448&4294967295,C=R+(P<<20&4294967295|P>>>12),P=E+(R^A&(C^R))+D[9]+568446438&4294967295,E=C+(P<<5&4294967295|P>>>27),P=A+(C^R&(E^C))+D[14]+3275163606&4294967295,A=E+(P<<9&4294967295|P>>>23),P=R+(E^C&(A^E))+D[3]+4107603335&4294967295,R=A+(P<<14&4294967295|P>>>18),P=C+(A^E&(R^A))+D[8]+1163531501&4294967295,C=R+(P<<20&4294967295|P>>>12),P=E+(R^A&(C^R))+D[13]+2850285829&4294967295,E=C+(P<<5&4294967295|P>>>27),P=A+(C^R&(E^C))+D[2]+4243563512&4294967295,A=E+(P<<9&4294967295|P>>>23),P=R+(E^C&(A^E))+D[7]+1735328473&4294967295,R=A+(P<<14&4294967295|P>>>18),P=C+(A^E&(R^A))+D[12]+2368359562&4294967295,C=R+(P<<20&4294967295|P>>>12),P=E+(C^R^A)+D[5]+4294588738&4294967295,E=C+(P<<4&4294967295|P>>>28),P=A+(E^C^R)+D[8]+2272392833&4294967295,A=E+(P<<11&4294967295|P>>>21),P=R+(A^E^C)+D[11]+1839030562&4294967295,R=A+(P<<16&4294967295|P>>>16),P=C+(R^A^E)+D[14]+4259657740&4294967295,C=R+(P<<23&4294967295|P>>>9),P=E+(C^R^A)+D[1]+2763975236&4294967295,E=C+(P<<4&4294967295|P>>>28),P=A+(E^C^R)+D[4]+1272893353&4294967295,A=E+(P<<11&4294967295|P>>>21),P=R+(A^E^C)+D[7]+4139469664&4294967295,R=A+(P<<16&4294967295|P>>>16),P=C+(R^A^E)+D[10]+3200236656&4294967295,C=R+(P<<23&4294967295|P>>>9),P=E+(C^R^A)+D[13]+681279174&4294967295,E=C+(P<<4&4294967295|P>>>28),P=A+(E^C^R)+D[0]+3936430074&4294967295,A=E+(P<<11&4294967295|P>>>21),P=R+(A^E^C)+D[3]+3572445317&4294967295,R=A+(P<<16&4294967295|P>>>16),P=C+(R^A^E)+D[6]+76029189&4294967295,C=R+(P<<23&4294967295|P>>>9),P=E+(C^R^A)+D[9]+3654602809&4294967295,E=C+(P<<4&4294967295|P>>>28),P=A+(E^C^R)+D[12]+3873151461&4294967295,A=E+(P<<11&4294967295|P>>>21),P=R+(A^E^C)+D[15]+530742520&4294967295,R=A+(P<<16&4294967295|P>>>16),P=C+(R^A^E)+D[2]+3299628645&4294967295,C=R+(P<<23&4294967295|P>>>9),P=E+(R^(C|~A))+D[0]+4096336452&4294967295,E=C+(P<<6&4294967295|P>>>26),P=A+(C^(E|~R))+D[7]+1126891415&4294967295,A=E+(P<<10&4294967295|P>>>22),P=R+(E^(A|~C))+D[14]+2878612391&4294967295,R=A+(P<<15&4294967295|P>>>17),P=C+(A^(R|~E))+D[5]+4237533241&4294967295,C=R+(P<<21&4294967295|P>>>11),P=E+(R^(C|~A))+D[12]+1700485571&4294967295,E=C+(P<<6&4294967295|P>>>26),P=A+(C^(E|~R))+D[3]+2399980690&4294967295,A=E+(P<<10&4294967295|P>>>22),P=R+(E^(A|~C))+D[10]+4293915773&4294967295,R=A+(P<<15&4294967295|P>>>17),P=C+(A^(R|~E))+D[1]+2240044497&4294967295,C=R+(P<<21&4294967295|P>>>11),P=E+(R^(C|~A))+D[8]+1873313359&4294967295,E=C+(P<<6&4294967295|P>>>26),P=A+(C^(E|~R))+D[15]+4264355552&4294967295,A=E+(P<<10&4294967295|P>>>22),P=R+(E^(A|~C))+D[6]+2734768916&4294967295,R=A+(P<<15&4294967295|P>>>17),P=C+(A^(R|~E))+D[13]+1309151649&4294967295,C=R+(P<<21&4294967295|P>>>11),P=E+(R^(C|~A))+D[4]+4149444226&4294967295,E=C+(P<<6&4294967295|P>>>26),P=A+(C^(E|~R))+D[11]+3174756917&4294967295,A=E+(P<<10&4294967295|P>>>22),P=R+(E^(A|~C))+D[2]+718787259&4294967295,R=A+(P<<15&4294967295|P>>>17),P=C+(A^(R|~E))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(R+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+A&4294967295}r.prototype.u=function(I,E){E===void 0&&(E=I.length);for(var C=E-this.blockSize,D=this.B,R=this.h,A=0;A<E;){if(R==0)for(;A<=C;)s(this,I,A),A+=this.blockSize;if(typeof I=="string"){for(;A<E;)if(D[R++]=I.charCodeAt(A++),R==this.blockSize){s(this,D),R=0;break}}else for(;A<E;)if(D[R++]=I[A++],R==this.blockSize){s(this,D),R=0;break}}this.h=R,this.o+=E},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;var C=8*this.o;for(E=I.length-8;E<I.length;++E)I[E]=C&255,C/=256;for(this.u(I),I=Array(16),E=C=0;4>E;++E)for(var D=0;32>D;D+=8)I[C++]=this.g[E]>>>D&255;return I};function i(I,E){var C=a;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=E(I)}function o(I,E){this.h=E;for(var C=[],D=!0,R=I.length-1;0<=R;R--){var A=I[R]|0;D&&A==E||(C[R]=A,D=!1)}this.g=C}var a={};function l(I){return-128<=I&&128>I?i(I,function(E){return new o([E|0],0>E?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return b(u(-I));for(var E=[],C=1,D=0;I>=C;D++)E[D]=I/C|0,C*=4294967296;return new o(E,0)}function d(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return b(d(I.substring(1),E));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(E,8)),D=h,R=0;R<I.length;R+=8){var A=Math.min(8,I.length-R),P=parseInt(I.substring(R,R+A),E);8>A?(A=u(Math.pow(E,A)),D=D.j(A).add(u(P))):(D=D.j(C),D=D.add(u(P)))}return D}var h=l(0),m=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-b(this).m();for(var I=0,E=1,C=0;C<this.g.length;C++){var D=this.i(C);I+=(0<=D?D:4294967296+D)*E,E*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(T(this))return"-"+b(this).toString(I);for(var E=u(Math.pow(I,6)),C=this,D="";;){var R=N(C,E).g;C=w(C,R.j(E));var A=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=R,v(C))return A+D;for(;6>A.length;)A="0"+A;D=A+D}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function T(I){return I.h==-1}t.l=function(I){return I=w(this,I),T(I)?-1:v(I)?0:1};function b(I){for(var E=I.g.length,C=[],D=0;D<E;D++)C[D]=~I.g[D];return new o(C,~I.h).add(m)}t.abs=function(){return T(this)?b(this):this},t.add=function(I){for(var E=Math.max(this.g.length,I.g.length),C=[],D=0,R=0;R<=E;R++){var A=D+(this.i(R)&65535)+(I.i(R)&65535),P=(A>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);D=P>>>16,A&=65535,P&=65535,C[R]=P<<16|A}return new o(C,C[C.length-1]&-2147483648?-1:0)};function w(I,E){return I.add(b(E))}t.j=function(I){if(v(this)||v(I))return h;if(T(this))return T(I)?b(this).j(b(I)):b(b(this).j(I));if(T(I))return b(this.j(b(I)));if(0>this.l(g)&&0>I.l(g))return u(this.m()*I.m());for(var E=this.g.length+I.g.length,C=[],D=0;D<2*E;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(var R=0;R<I.g.length;R++){var A=this.i(D)>>>16,P=this.i(D)&65535,ae=I.i(R)>>>16,Ze=I.i(R)&65535;C[2*D+2*R]+=P*Ze,_(C,2*D+2*R),C[2*D+2*R+1]+=A*Ze,_(C,2*D+2*R+1),C[2*D+2*R+1]+=P*ae,_(C,2*D+2*R+1),C[2*D+2*R+2]+=A*ae,_(C,2*D+2*R+2)}for(D=0;D<E;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=E;D<2*E;D++)C[D]=0;return new o(C,0)};function _(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function x(I,E){this.g=I,this.h=E}function N(I,E){if(v(E))throw Error("division by zero");if(v(I))return new x(h,h);if(T(I))return E=N(b(I),E),new x(b(E.g),b(E.h));if(T(E))return E=N(I,b(E)),new x(b(E.g),E.h);if(30<I.g.length){if(T(I)||T(E))throw Error("slowDivide_ only works with positive integers.");for(var C=m,D=E;0>=D.l(I);)C=L(C),D=L(D);var R=F(C,1),A=F(D,1);for(D=F(D,2),C=F(C,2);!v(D);){var P=A.add(D);0>=P.l(I)&&(R=R.add(C),A=P),D=F(D,1),C=F(C,1)}return E=w(I,R.j(E)),new x(R,E)}for(R=h;0<=I.l(E);){for(C=Math.max(1,Math.floor(I.m()/E.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),A=u(C),P=A.j(E);T(P)||0<P.l(I);)C-=D,A=u(C),P=A.j(E);v(A)&&(A=m),R=R.add(A),I=w(I,P)}return new x(R,I)}t.A=function(I){return N(this,I).h},t.and=function(I){for(var E=Math.max(this.g.length,I.g.length),C=[],D=0;D<E;D++)C[D]=this.i(D)&I.i(D);return new o(C,this.h&I.h)},t.or=function(I){for(var E=Math.max(this.g.length,I.g.length),C=[],D=0;D<E;D++)C[D]=this.i(D)|I.i(D);return new o(C,this.h|I.h)},t.xor=function(I){for(var E=Math.max(this.g.length,I.g.length),C=[],D=0;D<E;D++)C[D]=this.i(D)^I.i(D);return new o(C,this.h^I.h)};function L(I){for(var E=I.g.length+1,C=[],D=0;D<E;D++)C[D]=I.i(D)<<1|I.i(D-1)>>>31;return new o(C,I.h)}function F(I,E){var C=E>>5;E%=32;for(var D=I.g.length-C,R=[],A=0;A<D;A++)R[A]=0<E?I.i(A+C)>>>E|I.i(A+C+1)<<32-E:I.i(A+C);return new o(R,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,eT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,us=o}).apply(typeof B_<"u"?B_:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tT,Ea,nT,nu,Yp,rT,sT,iT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,y){return c==Array.prototype||c==Object.prototype||(c[f]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var f=0;f<c.length;++f){var y=c[f];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(c,f){if(f)e:{var y=r;c=c.split(".");for(var k=0;k<c.length-1;k++){var O=c[k];if(!(O in y))break e;y=y[O]}c=c[c.length-1],k=y[c],f=f(k),f!=k&&f!=null&&e(y,c,{configurable:!0,writable:!0,value:f})}}function i(c,f){c instanceof String&&(c+="");var y=0,k=!1,O={next:function(){if(!k&&y<c.length){var j=y++;return{value:f(j,c[j]),done:!1}}return k=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}s("Array.prototype.values",function(c){return c||function(){return i(this,function(f,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function u(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function d(c,f,y){return c.call.apply(c.bind,arguments)}function h(c,f,y){if(!c)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,k),c.apply(f,O)}}return function(){return c.apply(f,arguments)}}function m(c,f,y){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,m.apply(null,arguments)}function g(c,f){var y=Array.prototype.slice.call(arguments,1);return function(){var k=y.slice();return k.push.apply(k,arguments),c.apply(this,k)}}function v(c,f){function y(){}y.prototype=f.prototype,c.aa=f.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(k,O,j){for(var z=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)z[Ee-2]=arguments[Ee];return f.prototype[O].apply(k,z)}}function T(c){const f=c.length;if(0<f){const y=Array(f);for(let k=0;k<f;k++)y[k]=c[k];return y}return[]}function b(c,f){for(let y=1;y<arguments.length;y++){const k=arguments[y];if(l(k)){const O=c.length||0,j=k.length||0;c.length=O+j;for(let z=0;z<j;z++)c[O+z]=k[z]}else c.push(k)}}class w{constructor(f,y){this.i=f,this.j=y,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function _(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function N(c){return N[" "](c),c}N[" "]=function(){};var L=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function F(c,f,y){for(const k in c)f.call(y,c[k],k,c)}function I(c,f){for(const y in c)f.call(void 0,c[y],y,c)}function E(c){const f={};for(const y in c)f[y]=c[y];return f}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,f){let y,k;for(let O=1;O<arguments.length;O++){k=arguments[O];for(y in k)c[y]=k[y];for(let j=0;j<C.length;j++)y=C[j],Object.prototype.hasOwnProperty.call(k,y)&&(c[y]=k[y])}}function R(c){var f=1;c=c.split(":");const y=[];for(;0<f&&c.length;)y.push(c.shift()),f--;return c.length&&y.push(c.join(":")),y}function A(c){a.setTimeout(()=>{throw c},0)}function P(){var c=G;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class ae{constructor(){this.h=this.g=null}add(f,y){const k=Ze.get();k.set(f,y),this.h?this.h.next=k:this.g=k,this.h=k}}var Ze=new w(()=>new Te,c=>c.reset());class Te{constructor(){this.next=this.g=this.h=null}set(f,y){this.h=f,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,$=!1,G=new ae,J=()=>{const c=a.Promise.resolve(void 0);xe=()=>{c.then(Ne)}};var Ne=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(y){A(y)}var f=Ze;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}$=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function We(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}We.prototype.h=function(){this.defaultPrevented=!0};var nr=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};a.addEventListener("test",y,f),a.removeEventListener("test",y,f)}catch{}return c}();function rr(c,f){if(We.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,k=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(L){e:{try{N(f.nodeName);var O=!0;break e}catch{}O=!1}O||(f=null)}}else y=="mouseover"?f=c.fromElement:y=="mouseout"&&(f=c.toElement);this.relatedTarget=f,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:sr[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&rr.aa.h.call(this)}}v(rr,We);var sr={2:"touch",3:"pen",4:"mouse"};rr.prototype.h=function(){rr.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ir="closure_listenable_"+(1e6*Math.random()|0),WS=0;function zS(c,f,y,k,O){this.listener=c,this.proxy=null,this.src=f,this.type=y,this.capture=!!k,this.ha=O,this.key=++WS,this.da=this.fa=!1}function zl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Hl(c){this.src=c,this.g={},this.h=0}Hl.prototype.add=function(c,f,y,k,O){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var z=vh(c,f,k,O);return-1<z?(f=c[z],y||(f.fa=!1)):(f=new zS(f,this.src,j,!!k,O),f.fa=y,c.push(f)),f};function yh(c,f){var y=f.type;if(y in c.g){var k=c.g[y],O=Array.prototype.indexOf.call(k,f,void 0),j;(j=0<=O)&&Array.prototype.splice.call(k,O,1),j&&(zl(f),c.g[y].length==0&&(delete c.g[y],c.h--))}}function vh(c,f,y,k){for(var O=0;O<c.length;++O){var j=c[O];if(!j.da&&j.listener==f&&j.capture==!!y&&j.ha==k)return O}return-1}var _h="closure_lm_"+(1e6*Math.random()|0),wh={};function Gy(c,f,y,k,O){if(Array.isArray(f)){for(var j=0;j<f.length;j++)Gy(c,f[j],y,k,O);return null}return y=Zy(y),c&&c[ir]?c.K(f,y,u(k)?!!k.capture:!!k,O):HS(c,f,y,!1,k,O)}function HS(c,f,y,k,O,j){if(!f)throw Error("Invalid event type");var z=u(O)?!!O.capture:!!O,Ee=xh(c);if(Ee||(c[_h]=Ee=new Hl(c)),y=Ee.add(f,y,k,z,j),y.proxy)return y;if(k=YS(),y.proxy=k,k.src=c,k.listener=y,c.addEventListener)nr||(O=z),O===void 0&&(O=!1),c.addEventListener(f.toString(),k,O);else if(c.attachEvent)c.attachEvent(Jy(f.toString()),k);else if(c.addListener&&c.removeListener)c.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return y}function YS(){function c(y){return f.call(c.src,c.listener,y)}const f=qS;return c}function Xy(c,f,y,k,O){if(Array.isArray(f))for(var j=0;j<f.length;j++)Xy(c,f[j],y,k,O);else k=u(k)?!!k.capture:!!k,y=Zy(y),c&&c[ir]?(c=c.i,f=String(f).toString(),f in c.g&&(j=c.g[f],y=vh(j,y,k,O),-1<y&&(zl(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete c.g[f],c.h--)))):c&&(c=xh(c))&&(f=c.g[f.toString()],c=-1,f&&(c=vh(f,y,k,O)),(y=-1<c?f[c]:null)&&Eh(y))}function Eh(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[ir])yh(f.i,c);else{var y=c.type,k=c.proxy;f.removeEventListener?f.removeEventListener(y,k,c.capture):f.detachEvent?f.detachEvent(Jy(y),k):f.addListener&&f.removeListener&&f.removeListener(k),(y=xh(f))?(yh(y,c),y.h==0&&(y.src=null,f[_h]=null)):zl(c)}}}function Jy(c){return c in wh?wh[c]:wh[c]="on"+c}function qS(c,f){if(c.da)c=!0;else{f=new rr(f,this);var y=c.listener,k=c.ha||c.src;c.fa&&Eh(c),c=y.call(k,f)}return c}function xh(c){return c=c[_h],c instanceof Hl?c:null}var kh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zy(c){return typeof c=="function"?c:(c[kh]||(c[kh]=function(f){return c.handleEvent(f)}),c[kh])}function wt(){we.call(this),this.i=new Hl(this),this.M=this,this.F=null}v(wt,we),wt.prototype[ir]=!0,wt.prototype.removeEventListener=function(c,f,y,k){Xy(this,c,f,y,k)};function Nt(c,f){var y,k=c.F;if(k)for(y=[];k;k=k.F)y.push(k);if(c=c.M,k=f.type||f,typeof f=="string")f=new We(f,c);else if(f instanceof We)f.target=f.target||c;else{var O=f;f=new We(k,c),D(f,O)}if(O=!0,y)for(var j=y.length-1;0<=j;j--){var z=f.g=y[j];O=Yl(z,k,!0,f)&&O}if(z=f.g=c,O=Yl(z,k,!0,f)&&O,O=Yl(z,k,!1,f)&&O,y)for(j=0;j<y.length;j++)z=f.g=y[j],O=Yl(z,k,!1,f)&&O}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var y=c.g[f],k=0;k<y.length;k++)zl(y[k]);delete c.g[f],c.h--}}this.F=null},wt.prototype.K=function(c,f,y,k){return this.i.add(String(c),f,!1,y,k)},wt.prototype.L=function(c,f,y,k){return this.i.add(String(c),f,!0,y,k)};function Yl(c,f,y,k){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var O=!0,j=0;j<f.length;++j){var z=f[j];if(z&&!z.da&&z.capture==y){var Ee=z.listener,ht=z.ha||z.src;z.fa&&yh(c.i,z),O=Ee.call(ht,k)!==!1&&O}}return O&&!k.defaultPrevented}function ev(c,f,y){if(typeof c=="function")y&&(c=m(c,y));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function tv(c){c.g=ev(()=>{c.g=null,c.i&&(c.i=!1,tv(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class KS extends we{constructor(f,y){super(),this.m=f,this.l=y,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:tv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zo(c){we.call(this),this.h=c,this.g={}}v(zo,we);var nv=[];function rv(c){F(c.g,function(f,y){this.g.hasOwnProperty(y)&&Eh(f)},c),c.g={}}zo.prototype.N=function(){zo.aa.N.call(this),rv(this)},zo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Th=a.JSON.stringify,QS=a.JSON.parse,GS=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Ih(){}Ih.prototype.h=null;function sv(c){return c.h||(c.h=c.i())}function iv(){}var Ho={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sh(){We.call(this,"d")}v(Sh,We);function bh(){We.call(this,"c")}v(bh,We);var Vs={},ov=null;function ql(){return ov=ov||new wt}Vs.La="serverreachability";function av(c){We.call(this,Vs.La,c)}v(av,We);function Yo(c){const f=ql();Nt(f,new av(f))}Vs.STAT_EVENT="statevent";function lv(c,f){We.call(this,Vs.STAT_EVENT,c),this.stat=f}v(lv,We);function Rt(c){const f=ql();Nt(f,new lv(f,c))}Vs.Ma="timingevent";function cv(c,f){We.call(this,Vs.Ma,c),this.size=f}v(cv,We);function qo(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function Ko(){this.g=!0}Ko.prototype.xa=function(){this.g=!1};function XS(c,f,y,k,O,j){c.info(function(){if(c.g)if(j)for(var z="",Ee=j.split("&"),ht=0;ht<Ee.length;ht++){var he=Ee[ht].split("=");if(1<he.length){var Et=he[0];he=he[1];var xt=Et.split("_");z=2<=xt.length&&xt[1]=="type"?z+(Et+"="+he+"&"):z+(Et+"=redacted&")}}else z=null;else z=j;return"XMLHTTP REQ ("+k+") [attempt "+O+"]: "+f+`
`+y+`
`+z})}function JS(c,f,y,k,O,j,z){c.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+O+"]: "+f+`
`+y+`
`+j+" "+z})}function Di(c,f,y,k){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+eb(c,y)+(k?" "+k:"")})}function ZS(c,f){c.info(function(){return"TIMEOUT: "+f})}Ko.prototype.info=function(){};function eb(c,f){if(!c.g)return f;if(!f)return null;try{var y=JSON.parse(f);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var k=y[c];if(!(2>k.length)){var O=k[1];if(Array.isArray(O)&&!(1>O.length)){var j=O[0];if(j!="noop"&&j!="stop"&&j!="close")for(var z=1;z<O.length;z++)O[z]=""}}}}return Th(y)}catch{return f}}var Kl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ch;function Ql(){}v(Ql,Ih),Ql.prototype.g=function(){return new XMLHttpRequest},Ql.prototype.i=function(){return{}},Ch=new Ql;function Ar(c,f,y,k){this.j=c,this.i=f,this.l=y,this.R=k||1,this.U=new zo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dv}function dv(){this.i=null,this.g="",this.h=!1}var hv={},Dh={};function Ph(c,f,y){c.L=1,c.v=Zl(or(f)),c.m=y,c.P=!0,fv(c,null)}function fv(c,f){c.F=Date.now(),Gl(c),c.A=or(c.v);var y=c.A,k=c.R;Array.isArray(k)||(k=[String(k)]),bv(y.i,"t",k),c.C=0,y=c.j.J,c.h=new dv,c.g=Hv(c.j,y?f:null,!c.m),0<c.O&&(c.M=new KS(m(c.Y,c,c.g),c.O)),f=c.U,y=c.g,k=c.ca;var O="readystatechange";Array.isArray(O)||(O&&(nv[0]=O.toString()),O=nv);for(var j=0;j<O.length;j++){var z=Gy(y,O[j],k||f.handleEvent,!1,f.h||f);if(!z)break;f.g[z.key]=z}f=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),Yo(),XS(c.i,c.u,c.A,c.l,c.R,c.m)}Ar.prototype.ca=function(c){c=c.target;const f=this.M;f&&ar(c)==3?f.j():this.Y(c)},Ar.prototype.Y=function(c){try{if(c==this.g)e:{const xt=ar(this.g);var f=this.g.Ba();const Ri=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Mv(this.g)))){this.J||xt!=4||f==7||(f==8||0>=Ri?Yo(3):Yo(2)),Nh(this);var y=this.g.Z();this.X=y;t:if(pv(this)){var k=Mv(this.g);c="";var O=k.length,j=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){js(this),Qo(this);var z="";break t}this.h.i=new a.TextDecoder}for(f=0;f<O;f++)this.h.h=!0,c+=this.h.i.decode(k[f],{stream:!(j&&f==O-1)});k.length=0,this.h.g+=c,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=y==200,JS(this.i,this.u,this.A,this.l,this.R,xt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,ht=this.g;if((Ee=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ee)){var he=Ee;break t}}he=null}if(y=he)Di(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rh(this,y);else{this.o=!1,this.s=3,Rt(12),js(this),Qo(this);break e}}if(this.P){y=!0;let gn;for(;!this.J&&this.C<z.length;)if(gn=tb(this,z),gn==Dh){xt==4&&(this.s=4,Rt(14),y=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==hv){this.s=4,Rt(15),Di(this.i,this.l,z,"[Invalid Chunk]"),y=!1;break}else Di(this.i,this.l,gn,null),Rh(this,gn);if(pv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||z.length!=0||this.h.h||(this.s=1,Rt(16),y=!1),this.o=this.o&&y,!y)Di(this.i,this.l,z,"[Invalid Chunked Response]"),js(this),Qo(this);else if(0<z.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),jh(Et),Et.M=!0,Rt(11))}}else Di(this.i,this.l,z,null),Rh(this,z);xt==4&&js(this),this.o&&!this.J&&(xt==4?Bv(this.j,this):(this.o=!1,Gl(this)))}else vb(this.g),y==400&&0<z.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),js(this),Qo(this)}}}catch{}finally{}};function pv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function tb(c,f){var y=c.C,k=f.indexOf(`
`,y);return k==-1?Dh:(y=Number(f.substring(y,k)),isNaN(y)?hv:(k+=1,k+y>f.length?Dh:(f=f.slice(k,k+y),c.C=k+y,f)))}Ar.prototype.cancel=function(){this.J=!0,js(this)};function Gl(c){c.S=Date.now()+c.I,mv(c,c.I)}function mv(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=qo(m(c.ba,c),f)}function Nh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ar.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ZS(this.i,this.A),this.L!=2&&(Yo(),Rt(17)),js(this),this.s=2,Qo(this)):mv(this,this.S-c)};function Qo(c){c.j.G==0||c.J||Bv(c.j,c)}function js(c){Nh(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,rv(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function Rh(c,f){try{var y=c.j;if(y.G!=0&&(y.g==c||Ah(y.h,c))){if(!c.K&&Ah(y.h,c)&&y.G==3){try{var k=y.Da.g.parse(f)}catch{k=null}if(Array.isArray(k)&&k.length==3){var O=k;if(O[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)ic(y),rc(y);else break e;Vh(y),Rt(18)}}else y.za=O[1],0<y.za-y.T&&37500>O[2]&&y.F&&y.v==0&&!y.C&&(y.C=qo(m(y.Za,y),6e3));if(1>=vv(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Us(y,11)}else if((c.K||y.g==c)&&ic(y),!_(f))for(O=y.Da.g.parse(f),f=0;f<O.length;f++){let he=O[f];if(y.T=he[0],he=he[1],y.G==2)if(he[0]=="c"){y.K=he[1],y.ia=he[2];const Et=he[3];Et!=null&&(y.la=Et,y.j.info("VER="+y.la));const xt=he[4];xt!=null&&(y.Aa=xt,y.j.info("SVER="+y.Aa));const Ri=he[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(k=1.5*Ri,y.L=k,y.j.info("backChannelRequestTimeoutMs_="+k)),k=y;const gn=c.g;if(gn){const ac=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ac){var j=k.h;j.g||ac.indexOf("spdy")==-1&&ac.indexOf("quic")==-1&&ac.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Mh(j,j.h),j.h=null))}if(k.D){const Fh=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fh&&(k.ya=Fh,Ie(k.I,k.D,Fh))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),k=y;var z=c;if(k.qa=zv(k,k.J?k.ia:null,k.W),z.K){_v(k.h,z);var Ee=z,ht=k.L;ht&&(Ee.I=ht),Ee.B&&(Nh(Ee),Gl(Ee)),k.g=z}else Fv(k);0<y.i.length&&sc(y)}else he[0]!="stop"&&he[0]!="close"||Us(y,7);else y.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?Us(y,7):Lh(y):he[0]!="noop"&&y.l&&y.l.ta(he),y.v=0)}}Yo(4)}catch{}}var nb=class{constructor(c,f){this.g=c,this.map=f}};function gv(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vv(c){return c.h?1:c.g?c.g.size:0}function Ah(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Mh(c,f){c.g?c.g.add(f):c.h=f}function _v(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}gv.prototype.cancel=function(){if(this.i=wv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wv(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const y of c.g.values())f=f.concat(y.D);return f}return T(c.i)}function rb(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var f=[],y=c.length,k=0;k<y;k++)f.push(c[k]);return f}f=[],y=0;for(k in c)f[y++]=c[k];return f}function sb(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var f=[];c=c.length;for(var y=0;y<c;y++)f.push(y);return f}f=[],y=0;for(const k in c)f[y++]=k;return f}}}function Ev(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var y=sb(c),k=rb(c),O=k.length,j=0;j<O;j++)f.call(void 0,k[j],y&&y[j],c)}var xv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ib(c,f){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var k=c[y].indexOf("="),O=null;if(0<=k){var j=c[y].substring(0,k);O=c[y].substring(k+1)}else j=c[y];f(j,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Fs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Fs){this.h=c.h,Xl(this,c.j),this.o=c.o,this.g=c.g,Jl(this,c.s),this.l=c.l;var f=c.i,y=new Jo;y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),kv(this,y),this.m=c.m}else c&&(f=String(c).match(xv))?(this.h=!1,Xl(this,f[1]||"",!0),this.o=Go(f[2]||""),this.g=Go(f[3]||"",!0),Jl(this,f[4]),this.l=Go(f[5]||"",!0),kv(this,f[6]||"",!0),this.m=Go(f[7]||"")):(this.h=!1,this.i=new Jo(null,this.h))}Fs.prototype.toString=function(){var c=[],f=this.j;f&&c.push(Xo(f,Tv,!0),":");var y=this.g;return(y||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Xo(f,Tv,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(Xo(y,y.charAt(0)=="/"?lb:ab,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",Xo(y,ub)),c.join("")};function or(c){return new Fs(c)}function Xl(c,f,y){c.j=y?Go(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Jl(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function kv(c,f,y){f instanceof Jo?(c.i=f,db(c.i,c.h)):(y||(f=Xo(f,cb)),c.i=new Jo(f,c.h))}function Ie(c,f,y){c.i.set(f,y)}function Zl(c){return Ie(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Go(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Xo(c,f,y){return typeof c=="string"?(c=encodeURI(c).replace(f,ob),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ob(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Tv=/[#\/\?@]/g,ab=/[#\?:]/g,lb=/[#\?]/g,cb=/[#\?@]/g,ub=/#/g;function Jo(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Mr(c){c.g||(c.g=new Map,c.h=0,c.i&&ib(c.i,function(f,y){c.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}t=Jo.prototype,t.add=function(c,f){Mr(this),this.i=null,c=Pi(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(f),this.h+=1,this};function Iv(c,f){Mr(c),f=Pi(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function Sv(c,f){return Mr(c),f=Pi(c,f),c.g.has(f)}t.forEach=function(c,f){Mr(this),this.g.forEach(function(y,k){y.forEach(function(O){c.call(f,O,k,this)},this)},this)},t.na=function(){Mr(this);const c=Array.from(this.g.values()),f=Array.from(this.g.keys()),y=[];for(let k=0;k<f.length;k++){const O=c[k];for(let j=0;j<O.length;j++)y.push(f[k])}return y},t.V=function(c){Mr(this);let f=[];if(typeof c=="string")Sv(this,c)&&(f=f.concat(this.g.get(Pi(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)f=f.concat(c[y])}return f},t.set=function(c,f){return Mr(this),this.i=null,c=Pi(this,c),Sv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function bv(c,f,y){Iv(c,f),0<y.length&&(c.i=null,c.g.set(Pi(c,f),T(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(var y=0;y<f.length;y++){var k=f[y];const j=encodeURIComponent(String(k)),z=this.V(k);for(k=0;k<z.length;k++){var O=j;z[k]!==""&&(O+="="+encodeURIComponent(String(z[k]))),c.push(O)}}return this.i=c.join("&")};function Pi(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function db(c,f){f&&!c.j&&(Mr(c),c.i=null,c.g.forEach(function(y,k){var O=k.toLowerCase();k!=O&&(Iv(this,k),bv(this,O,y))},c)),c.j=f}function hb(c,f){const y=new Ko;if(a.Image){const k=new Image;k.onload=g(Or,y,"TestLoadImage: loaded",!0,f,k),k.onerror=g(Or,y,"TestLoadImage: error",!1,f,k),k.onabort=g(Or,y,"TestLoadImage: abort",!1,f,k),k.ontimeout=g(Or,y,"TestLoadImage: timeout",!1,f,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=c}else f(!1)}function fb(c,f){const y=new Ko,k=new AbortController,O=setTimeout(()=>{k.abort(),Or(y,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:k.signal}).then(j=>{clearTimeout(O),j.ok?Or(y,"TestPingServer: ok",!0,f):Or(y,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(O),Or(y,"TestPingServer: error",!1,f)})}function Or(c,f,y,k,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),k(y)}catch{}}function pb(){this.g=new GS}function mb(c,f,y){const k=y||"";try{Ev(c,function(O,j){let z=O;u(O)&&(z=Th(O)),f.push(k+j+"="+encodeURIComponent(z))})}catch(O){throw f.push(k+"type="+encodeURIComponent("_badmap")),O}}function ec(c){this.l=c.Ub||null,this.j=c.eb||!1}v(ec,Ih),ec.prototype.g=function(){return new tc(this.l,this.j)},ec.prototype.i=function(c){return function(){return c}}({});function tc(c,f){wt.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(tc,wt),t=tc.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,ea(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ea(this)),this.g&&(this.readyState=3,ea(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cv(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cv(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Zo(this):ea(this),this.readyState==3&&Cv(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Zo(this))},t.Qa=function(c){this.g&&(this.response=c,Zo(this))},t.ga=function(){this.g&&Zo(this)};function Zo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ea(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var y=f.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=f.next();return c.join(`\r
`)};function ea(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(tc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dv(c){let f="";return F(c,function(y,k){f+=k,f+=":",f+=y,f+=`\r
`}),f}function Oh(c,f,y){e:{for(k in y){var k=!1;break e}k=!0}k||(y=Dv(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):Ie(c,f,y))}function Ve(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Ve,wt);var gb=/^https?$/i,yb=["POST","PUT"];t=Ve.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,y,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ch.g(),this.v=this.o?sv(this.o):sv(Ch),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(j){Pv(this,j);return}if(c=y||"",y=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var O in k)y.set(O,k[O]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const j of k.keys())y.set(j,k.get(j));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),O=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(yb,f,void 0))||k||O||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,z]of y)this.g.setRequestHeader(j,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Av(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){Pv(this,j)}};function Pv(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,Nv(c),nc(c)}function Nv(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Nt(this,"complete"),Nt(this,"abort"),nc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nc(this,!0)),Ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Rv(this):this.bb())},t.bb=function(){Rv(this)};function Rv(c){if(c.h&&typeof o<"u"&&(!c.v[1]||ar(c)!=4||c.Z()!=2)){if(c.u&&ar(c)==4)ev(c.Ea,0,c);else if(Nt(c,"readystatechange"),ar(c)==4){c.h=!1;try{const z=c.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var y;if(!(y=f)){var k;if(k=z===0){var O=String(c.D).match(xv)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),k=!gb.test(O?O.toLowerCase():"")}y=k}if(y)Nt(c,"complete"),Nt(c,"success");else{c.m=6;try{var j=2<ar(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",Nv(c)}}finally{nc(c)}}}}function nc(c,f){if(c.g){Av(c);const y=c.g,k=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||Nt(c,"ready");try{y.onreadystatechange=k}catch{}}}function Av(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ar(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),QS(f)}};function Mv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function vb(c){const f={};c=(c.g&&2<=ar(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<c.length;k++){if(_(c[k]))continue;var y=R(c[k]);const O=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=f[O]||[];f[O]=j,j.push(y)}I(f,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(c,f,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||f}function Ov(c){this.Aa=0,this.i=[],this.j=new Ko,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,c),this.cb=ta("retryDelaySeedMs",1e4,c),this.Wa=ta("forwardChannelMaxRetries",2,c),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new gv(c&&c.concurrentRequestLimit),this.Da=new pb,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ov.prototype,t.la=8,t.G=1,t.connect=function(c,f,y,k){Rt(0),this.W=c,this.H=f||{},y&&k!==void 0&&(this.H.OSID=y,this.H.OAID=k),this.F=this.X,this.I=zv(this,null,this.W),sc(this)};function Lh(c){if(Lv(c),c.G==3){var f=c.U++,y=or(c.I);if(Ie(y,"SID",c.K),Ie(y,"RID",f),Ie(y,"TYPE","terminate"),na(c,y),f=new Ar(c,c.j,f),f.L=2,f.v=Zl(or(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=f.v,y=!0),y||(f.g=Hv(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Gl(f)}Wv(c)}function rc(c){c.g&&(jh(c),c.g.cancel(),c.g=null)}function Lv(c){rc(c),c.u&&(a.clearTimeout(c.u),c.u=null),ic(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function sc(c){if(!yv(c.h)&&!c.s){c.s=!0;var f=c.Ga;xe||J(),$||(xe(),$=!0),G.add(f,c),c.B=0}}function _b(c,f){return vv(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=qo(m(c.Ga,c,f),$v(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const O=new Ar(this,this.j,c);let j=this.o;if(this.S&&(j?(j=E(j),D(j,this.S)):j=this.S),this.m!==null||this.O||(O.H=j,j=null),this.P)e:{for(var f=0,y=0;y<this.i.length;y++){t:{var k=this.i[y];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(f+=k,4096<f){f=y;break e}if(f===4096||y===this.i.length-1){f=y+1;break e}}f=1e3}else f=1e3;f=jv(this,O,f),y=or(this.I),Ie(y,"RID",c),Ie(y,"CVER",22),this.D&&Ie(y,"X-HTTP-Session-Id",this.D),na(this,y),j&&(this.O?f="headers="+encodeURIComponent(String(Dv(j)))+"&"+f:this.m&&Oh(y,this.m,j)),Mh(this.h,O),this.Ua&&Ie(y,"TYPE","init"),this.P?(Ie(y,"$req",f),Ie(y,"SID","null"),O.T=!0,Ph(O,y,null)):Ph(O,y,f),this.G=2}}else this.G==3&&(c?Vv(this,c):this.i.length==0||yv(this.h)||Vv(this))};function Vv(c,f){var y;f?y=f.l:y=c.U++;const k=or(c.I);Ie(k,"SID",c.K),Ie(k,"RID",y),Ie(k,"AID",c.T),na(c,k),c.m&&c.o&&Oh(k,c.m,c.o),y=new Ar(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),f&&(c.i=f.D.concat(c.i)),f=jv(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Mh(c.h,y),Ph(y,k,f)}function na(c,f){c.H&&F(c.H,function(y,k){Ie(f,k,y)}),c.l&&Ev({},function(y,k){Ie(f,k,y)})}function jv(c,f,y){y=Math.min(c.i.length,y);var k=c.l?m(c.l.Na,c.l,c):null;e:{var O=c.i;let j=-1;for(;;){const z=["count="+y];j==-1?0<y?(j=O[0].g,z.push("ofs="+j)):j=0:z.push("ofs="+j);let Ee=!0;for(let ht=0;ht<y;ht++){let he=O[ht].g;const Et=O[ht].map;if(he-=j,0>he)j=Math.max(0,O[ht].g-100),Ee=!1;else try{mb(Et,z,"req"+he+"_")}catch{k&&k(Et)}}if(Ee){k=z.join("&");break e}}}return c=c.i.splice(0,y),f.D=c,k}function Fv(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;xe||J(),$||(xe(),$=!0),G.add(f,c),c.v=0}}function Vh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=qo(m(c.Fa,c),$v(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Uv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=qo(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),rc(this),Uv(this))};function jh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Uv(c){c.g=new Ar(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=or(c.qa);Ie(f,"RID","rpc"),Ie(f,"SID",c.K),Ie(f,"AID",c.T),Ie(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ie(f,"TO",c.ja),Ie(f,"TYPE","xmlhttp"),na(c,f),c.m&&c.o&&Oh(f,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=Zl(or(f)),y.m=null,y.P=!0,fv(y,c)}t.Za=function(){this.C!=null&&(this.C=null,rc(this),Vh(this),Rt(19))};function ic(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Bv(c,f){var y=null;if(c.g==f){ic(c),jh(c),c.g=null;var k=2}else if(Ah(c.h,f))y=f.D,_v(c.h,f),k=1;else return;if(c.G!=0){if(f.o)if(k==1){y=f.m?f.m.length:0,f=Date.now()-f.F;var O=c.B;k=ql(),Nt(k,new cv(k,y)),sc(c)}else Fv(c);else if(O=f.s,O==3||O==0&&0<f.X||!(k==1&&_b(c,f)||k==2&&Vh(c)))switch(y&&0<y.length&&(f=c.h,f.i=f.i.concat(y)),O){case 1:Us(c,5);break;case 4:Us(c,10);break;case 3:Us(c,6);break;default:Us(c,2)}}}function $v(c,f){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*f}function Us(c,f){if(c.j.info("Error code "+f),f==2){var y=m(c.fb,c),k=c.Xa;const O=!k;k=new Fs(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Xl(k,"https"),Zl(k),O?hb(k.toString(),y):fb(k.toString(),y)}else Rt(2);c.G=0,c.l&&c.l.sa(f),Wv(c),Lv(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Wv(c){if(c.G=0,c.ka=[],c.l){const f=wv(c.h);(f.length!=0||c.i.length!=0)&&(b(c.ka,f),b(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function zv(c,f,y){var k=y instanceof Fs?or(y):new Fs(y);if(k.g!="")f&&(k.g=f+"."+k.g),Jl(k,k.s);else{var O=a.location;k=O.protocol,f=f?f+"."+O.hostname:O.hostname,O=+O.port;var j=new Fs(null);k&&Xl(j,k),f&&(j.g=f),O&&Jl(j,O),y&&(j.l=y),k=j}return y=c.D,f=c.ya,y&&f&&Ie(k,y,f),Ie(k,"VER",c.la),na(c,k),k}function Hv(c,f,y){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Ve(new ec({eb:y})):new Ve(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yv(){}t=Yv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function oc(){}oc.prototype.g=function(c,f){return new Qt(c,f)};function Qt(c,f){wt.call(this),this.g=new Ov(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!_(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!_(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Ni(this)}v(Qt,wt),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Lh(this.g)},Qt.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=Th(c),c=y);f.i.push(new nb(f.Ya++,c)),f.G==3&&sc(f)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Lh(this.g),delete this.g,Qt.aa.N.call(this)};function qv(c){Sh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const y in f){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}v(qv,Sh);function Kv(){bh.call(this),this.status=1}v(Kv,bh);function Ni(c){this.g=c}v(Ni,Yv),Ni.prototype.ua=function(){Nt(this.g,"a")},Ni.prototype.ta=function(c){Nt(this.g,new qv(c))},Ni.prototype.sa=function(c){Nt(this.g,new Kv)},Ni.prototype.ra=function(){Nt(this.g,"b")},oc.prototype.createWebChannel=oc.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,iT=function(){return new oc},sT=function(){return ql()},rT=Vs,Yp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Kl.NO_ERROR=0,Kl.TIMEOUT=8,Kl.HTTP_ERROR=6,nu=Kl,uv.COMPLETE="complete",nT=uv,iv.EventType=Ho,Ho.OPEN="a",Ho.CLOSE="b",Ho.ERROR="c",Ho.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Ea=iv,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,tT=Ve}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const $_="@firebase/firestore",W_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let St=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new Tg("@firebase/firestore");function Oi(){return hi.logLevel}function Y(t,...e){if(hi.logLevel<=ie.DEBUG){const n=e.map(jg);hi.debug(`Firestore (${Vo}): ${t}`,...n)}}function Cr(t,...e){if(hi.logLevel<=ie.ERROR){const n=e.map(jg);hi.error(`Firestore (${Vo}): ${t}`,...n)}}function _o(t,...e){if(hi.logLevel<=ie.WARN){const n=e.map(jg);hi.warn(`Firestore (${Vo}): ${t}`,...n)}}function jg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: `+t;throw Cr(e),new Error(e)}function me(t,e){t||ee()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Y2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class q2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class K2{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){me(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new vr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new vr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string"),new oT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string"),new St(e)}}class Q2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class G2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Q2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X2{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,zt(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){me(this.o===void 0);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new z_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string"),this.R=n.token,new z_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=J2(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function wo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=-62135596800,Y_=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Y_);return new nt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<H_)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y_}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-H_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new nt(0,0))}static max(){return new te(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="__name__";class Rn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Rn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Rn.isNumericId(e),s=Rn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Rn.extractNumericId(e).compare(Rn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class be extends Rn{construct(e,n,r){return new be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new be(n)}static emptyPath(){return new be([])}}const Z2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends Rn{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return Z2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q_}static keyField(){return new mt([q_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(be.fromString(e))}static fromName(e){return new X(be.fromString(e).popFirst(5))}static empty(){return new X(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new be(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=-1;function eM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=te.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new vs(s,X.empty(),e)}function tM(t){return new vs(t.readTime,t.key,ul)}class vs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vs(te.min(),X.empty(),ul)}static max(){return new vs(te.max(),X.empty(),ul)}}function nM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==rM)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function iM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Wd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=-1;function zd(t){return t==null}function qu(t){return t===0&&1/t==-1/0}function oM(t){return typeof t=="number"&&Number.isInteger(t)&&!qu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="";function aM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=K_(e)),e=lM(t.get(n),e);return K_(e)}function lM(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case lT:n+="";break;default:n+=i}}return n}function K_(t){return t+lT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ti(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??pt.RED,this.left=s??pt.EMPTY,this.right=i??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new pt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return pt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,s,i){return this}insert(e,n,r){return new pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new G_(this.data.getIterator())}getIteratorFrom(e){return new G_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rt(this.comparator);return n.data=e,n}}class G_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new rt(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new uT("Invalid base64 string: "+i):i}}(e);return new _t(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const cM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(t){if(me(!!t),typeof t=="string"){let e=0;const n=cM.exec(t);if(me(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ws(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="server_timestamp",hT="__type__",fT="__previous_value__",pT="__local_write_time__";function Ug(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[hT])===null||n===void 0?void 0:n.stringValue)===dT}function Hd(t){const e=t.mapValue.fields[fT];return Ug(e)?Hd(e):e}function dl(t){const e=_s(t.mapValue.fields[pT].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}const Ku="(default)";class hl{constructor(e,n){this.projectId=e,this.database=n||Ku}static empty(){return new hl("","")}get isDefaultDatabase(){return this.database===Ku}isEqual(e){return e instanceof hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="__type__",gT="__max__",Cc={mapValue:{fields:{__type__:{stringValue:gT}}}},yT="__vector__",Qu="value";function Es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ug(t)?4:hM(t)?9007199254740991:dM(t)?10:11:ee()}function Xn(t,e){if(t===e)return!0;const n=Es(t);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dl(t).isEqual(dl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=_s(s.timestampValue),a=_s(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ws(s.bytesValue).isEqual(ws(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return He(s.geoPointValue.latitude)===He(i.geoPointValue.latitude)&&He(s.geoPointValue.longitude)===He(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return He(s.integerValue)===He(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=He(s.doubleValue),a=He(i.doubleValue);return o===a?qu(o)===qu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return wo(t.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Q_(o)!==Q_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Xn(o[l],a[l])))return!1;return!0}(t,e);default:return ee()}}function fl(t,e){return(t.values||[]).find(n=>Xn(n,e))!==void 0}function Eo(t,e){if(t===e)return 0;const n=Es(t),r=Es(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=He(i.integerValue||i.doubleValue),l=He(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return X_(t.timestampValue,e.timestampValue);case 4:return X_(dl(t),dl(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ws(i),l=ws(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=le(a[u],l[u]);if(d!==0)return d}return le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=le(He(i.latitude),He(o.latitude));return a!==0?a:le(He(i.longitude),He(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return J_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,d;const h=i.fields||{},m=o.fields||{},g=(a=h[Qu])===null||a===void 0?void 0:a.arrayValue,v=(l=m[Qu])===null||l===void 0?void 0:l.arrayValue,T=le(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return T!==0?T:J_(g,v)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Cc.mapValue&&o===Cc.mapValue)return 0;if(i===Cc.mapValue)return 1;if(o===Cc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const m=le(l[h],d[h]);if(m!==0)return m;const g=Eo(a[l[h]],u[d[h]]);if(g!==0)return g}return le(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ee()}}function X_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=_s(t),r=_s(e),s=le(n.seconds,r.seconds);return s!==0?s:le(n.nanos,r.nanos)}function J_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Eo(n[s],r[s]);if(i)return i}return le(n.length,r.length)}function xo(t){return qp(t)}function qp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_s(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ws(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=qp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${qp(n.fields[o])}`;return s+"}"}(t.mapValue):ee()}function ru(t){switch(Es(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hd(t);return e?16+ru(e):16;case 5:return 2*t.stringValue.length;case 6:return ws(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+ru(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ti(r.fields,(i,o)=>{s+=i.length+ru(o)}),s}(t.mapValue);default:throw ee()}}function Z_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kp(t){return!!t&&"integerValue"in t}function Bg(t){return!!t&&"arrayValue"in t}function ew(t){return!!t&&"nullValue"in t}function tw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function su(t){return!!t&&"mapValue"in t}function dM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[mT])===null||n===void 0?void 0:n.stringValue)===yT}function ja(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ti(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ja(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ja(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!su(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ja(n)}setAll(e){let n=mt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ja(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());su(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];su(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ti(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new cn(ja(this.value))}}function vT(t){const e=[];return Ti(t.fields,(n,r)=>{const s=new mt([n]);if(su(r)){const i=vT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ct(e,0,te.min(),te.min(),te.min(),cn.empty(),0)}static newFoundDocument(e,n,r,s){return new Ct(e,1,n,te.min(),r,s,0)}static newNoDocument(e,n){return new Ct(e,2,n,te.min(),te.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,te.min(),te.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.position=e,this.inclusive=n}}function nw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=Eo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function rw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n="asc"){this.field=e,this.dir=n}}function fM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{}class Xe extends _T{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mM(e,n,r):n==="array-contains"?new vM(e,r):n==="in"?new _M(e,r):n==="not-in"?new wM(e,r):n==="array-contains-any"?new EM(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gM(e,r):new yM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Eo(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cn extends _T{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Cn(e,n)}matches(e){return wT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function wT(t){return t.op==="and"}function ET(t){return pM(t)&&wT(t)}function pM(t){for(const e of t.filters)if(e instanceof Cn)return!1;return!0}function Qp(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+xo(t.value);if(ET(t))return t.filters.map(e=>Qp(e)).join(",");{const e=t.filters.map(n=>Qp(n)).join(",");return`${t.op}(${e})`}}function xT(t,e){return t instanceof Xe?function(r,s){return s instanceof Xe&&r.op===s.op&&r.field.isEqual(s.field)&&Xn(r.value,s.value)}(t,e):t instanceof Cn?function(r,s){return s instanceof Cn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&xT(o,s.filters[a]),!0):!1}(t,e):void ee()}function kT(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${xo(n.value)}`}(t):t instanceof Cn?function(n){return n.op.toString()+" {"+n.getFilters().map(kT).join(" ,")+"}"}(t):"Filter"}class mM extends Xe{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class gM extends Xe{constructor(e,n){super(e,"in",n),this.keys=TT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yM extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=TT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class vM extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bg(n)&&fl(n.arrayValue,this.value)}}class _M extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fl(this.value.arrayValue,n)}}class wM extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fl(this.value.arrayValue,n)}}class EM extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function sw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new xM(t,e,n,r,s,i,o)}function $g(t){const e=ne(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),zd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xo(r)).join(",")),e.le=n}return e.le}function Wg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rw(t.startAt,e.startAt)&&rw(t.endAt,e.endAt)}function Gp(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function kM(t,e,n,r,s,i,o,a){return new Uo(t,e,n,r,s,i,o,a)}function Yd(t){return new Uo(t)}function iw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IT(t){return t.collectionGroup!==null}function Fa(t){const e=ne(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rt(mt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new pl(i,r))}),n.has(mt.keyField().canonicalString())||e.he.push(new pl(mt.keyField(),r))}return e.he}function zn(t){const e=ne(t);return e.Pe||(e.Pe=TM(e,Fa(t))),e.Pe}function TM(t,e){if(t.limitType==="F")return sw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new pl(s.field,i)});const n=t.endAt?new Gu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gu(t.startAt.position,t.startAt.inclusive):null;return sw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xp(t,e){const n=t.filters.concat([e]);return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jp(t,e,n){return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qd(t,e){return Wg(zn(t),zn(e))&&t.limitType===e.limitType}function ST(t){return`${$g(zn(t))}|lt:${t.limitType}`}function Li(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>kT(s)).join(", ")}]`),zd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>xo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>xo(s)).join(",")),`Target(${r})`}(zn(t))}; limitType=${t.limitType})`}function Kd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):X.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Fa(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=nw(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Fa(r),s)||r.endAt&&!function(o,a,l){const u=nw(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Fa(r),s))}(t,e)}function IM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bT(t){return(e,n)=>{let r=!1;for(const s of Fa(t)){const i=SM(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function SM(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Eo(l,u):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ti(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return cT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=new Le(X.comparator);function Dr(){return bM}const CT=new Le(X.comparator);function xa(...t){let e=CT;for(const n of t)e=e.insert(n.key,n);return e}function DT(t){let e=CT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qs(){return Ua()}function PT(){return Ua()}function Ua(){return new Ii(t=>t.toString(),(t,e)=>t.isEqual(e))}const CM=new Le(X.comparator),DM=new rt(X.comparator);function oe(...t){let e=DM;for(const n of t)e=e.add(n);return e}const PM=new rt(le);function NM(){return PM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qu(e)?"-0":e}}function NT(t){return{integerValue:""+t}}function RM(t,e){return oM(e)?NT(e):zg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this._=void 0}}function AM(t,e,n){return t instanceof ml?function(s,i){const o={fields:{[hT]:{stringValue:dT},[pT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ug(i)&&(i=Hd(i)),i&&(o.fields[fT]=i),{mapValue:o}}(n,e):t instanceof gl?AT(t,e):t instanceof yl?MT(t,e):function(s,i){const o=RT(s,i),a=ow(o)+ow(s.Ie);return Kp(o)&&Kp(s.Ie)?NT(a):zg(s.serializer,a)}(t,e)}function MM(t,e,n){return t instanceof gl?AT(t,e):t instanceof yl?MT(t,e):n}function RT(t,e){return t instanceof Xu?function(r){return Kp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ml extends Qd{}class gl extends Qd{constructor(e){super(),this.elements=e}}function AT(t,e){const n=OT(e);for(const r of t.elements)n.some(s=>Xn(s,r))||n.push(r);return{arrayValue:{values:n}}}class yl extends Qd{constructor(e){super(),this.elements=e}}function MT(t,e){let n=OT(e);for(const r of t.elements)n=n.filter(s=>!Xn(s,r));return{arrayValue:{values:n}}}class Xu extends Qd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function ow(t){return He(t.integerValue||t.doubleValue)}function OT(t){return Bg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n){this.field=e,this.transform=n}}function LM(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof gl&&s instanceof gl||r instanceof yl&&s instanceof yl?wo(r.elements,s.elements,Xn):r instanceof Xu&&s instanceof Xu?Xn(r.Ie,s.Ie):r instanceof ml&&s instanceof ml}(t.transform,e.transform)}class VM{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gd{}function LT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jT(t.key,Hn.none()):new Vl(t.key,t.data,Hn.none());{const n=t.data,r=cn.empty();let s=new rt(mt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Si(t.key,r,new xn(s.toArray()),Hn.none())}}function jM(t,e,n){t instanceof Vl?function(s,i,o){const a=s.value.clone(),l=lw(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Si?function(s,i,o){if(!iu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=lw(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(VT(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ba(t,e,n,r){return t instanceof Vl?function(i,o,a,l){if(!iu(i.precondition,o))return a;const u=i.value.clone(),d=cw(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Si?function(i,o,a,l){if(!iu(i.precondition,o))return a;const u=cw(i.fieldTransforms,l,o),d=o.data;return d.setAll(VT(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return iu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function FM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=RT(r.transform,s||null);i!=null&&(n===null&&(n=cn.empty()),n.set(r.field,i))}return n||null}function aw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&wo(r,s,(i,o)=>LM(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vl extends Gd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Si extends Gd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function VT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function lw(t,e,n){const r=new Map;me(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,MM(o,a,n[s]))}return r}function cw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,AM(i,o,e))}return r}class jT extends Gd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UM extends Gd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&jM(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ba(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ba(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PT();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=LT(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,(n,r)=>aw(n,r))&&wo(this.baseMutations,e.baseMutations,(n,r)=>aw(n,r))}}class Hg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){me(e.mutations.length===r.length);let s=function(){return CM}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Hg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,ce;function zM(t){switch(t){case U.OK:return ee();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ee()}}function FT(t){if(t===void 0)return Cr("GRPC error has no .code"),U.UNKNOWN;switch(t){case Qe.OK:return U.OK;case Qe.CANCELLED:return U.CANCELLED;case Qe.UNKNOWN:return U.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return U.INTERNAL;case Qe.UNAVAILABLE:return U.UNAVAILABLE;case Qe.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Qe.NOT_FOUND:return U.NOT_FOUND;case Qe.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Qe.ABORTED:return U.ABORTED;case Qe.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Qe.DATA_LOSS:return U.DATA_LOSS;default:return ee()}}(ce=Qe||(Qe={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=new us([4294967295,4294967295],0);function uw(t){const e=HM().encode(t),n=new eT;return n.update(e),new Uint8Array(n.digest())}function dw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new us([n,r],0),new us([s,i],0)]}class Yg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ka(`Invalid padding: ${n}`);if(r<0)throw new ka(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ka(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ka(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=us.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(us.fromNumber(r)));return s.compare(YM)===1&&(s=new us([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=uw(e),[r,s]=dw(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Yg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=uw(e),[r,s]=dw(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,jl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xd(te.min(),s,new Le(le),Dr(),oe())}}class jl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jl(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class UT{constructor(e,n){this.targetId=e,this.ge=n}}class BT{constructor(e,n,r=_t.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class hw{constructor(){this.pe=0,this.ye=fw(),this.we=_t.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=oe(),n=oe(),r=oe();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ee()}}),new jl(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=fw()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,me(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class qM{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Dr(),this.$e=Dc(),this.Ke=Dc(),this.Ue=new Le(le)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const i=s.target;if(Gp(i))if(r===0){const o=new X(i.path);this.ze(n,o,Ct.newNoDocument(o,te.min()))}else me(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,u)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ws(r).toUint8Array()}catch(l){if(l instanceof uT)return _o("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Yg(o,s,i)}catch(l){return _o(l instanceof ka?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,i,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((i,o)=>{const a=this.Xe(o);if(a){if(i.current&&Gp(a.target)){const l=new X(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,Ct.newNoDocument(l,e))}i.ve&&(n.set(o,i.Fe()),i.Me())}});let r=oe();this.Ke.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new Xd(e,n,this.Ue,this.Qe,r);return this.Qe=Dr(),this.$e=Dc(),this.Ke=Dc(),this.Ue=new Le(le),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new hw,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new rt(le),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new rt(le),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new hw),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Dc(){return new Le(X.comparator)}function fw(){return new Le(X.comparator)}const KM={asc:"ASCENDING",desc:"DESCENDING"},QM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GM={and:"AND",or:"OR"};class XM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zp(t,e){return t.useProto3Json||zd(e)?e:{value:e}}function Ju(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $T(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JM(t,e){return Ju(t,e.toTimestamp())}function Yn(t){return me(!!t),te.fromTimestamp(function(n){const r=_s(n);return new nt(r.seconds,r.nanos)}(t))}function qg(t,e){return em(t,e).canonicalString()}function em(t,e){const n=function(s){return new be(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WT(t){const e=be.fromString(t);return me(KT(e)),e}function tm(t,e){return qg(t.databaseId,e.path)}function Ef(t,e){const n=WT(e);if(n.get(1)!==t.databaseId.projectId)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(HT(n))}function zT(t,e){return qg(t.databaseId,e)}function ZM(t){const e=WT(t);return e.length===4?be.emptyPath():HT(e)}function nm(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HT(t){return me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function pw(t,e,n){return{name:tm(t,e),fields:n.value.mapValue.fields}}function eO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(me(d===void 0||typeof d=="string"),_t.fromBase64String(d||"")):(me(d===void 0||d instanceof Buffer||d instanceof Uint8Array),_t.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?U.UNKNOWN:FT(u.code);return new q(d,u.message||"")}(o);n=new BT(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ef(t,r.document.name),i=Yn(r.document.updateTime),o=r.document.createTime?Yn(r.document.createTime):te.min(),a=new cn({mapValue:{fields:r.document.fields}}),l=Ct.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new ou(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ef(t,r.document),i=r.readTime?Yn(r.readTime):te.min(),o=Ct.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ou([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ef(t,r.document),i=r.removedTargetIds||[];n=new ou([],i,s,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new WM(s,i),a=r.targetId;n=new UT(a,o)}}return n}function tO(t,e){let n;if(e instanceof Vl)n={update:pw(t,e.key,e.value)};else if(e instanceof jT)n={delete:tm(t,e.key)};else if(e instanceof Si)n={update:pw(t,e.key,e.data),updateMask:uO(e.fieldMask)};else{if(!(e instanceof UM))return ee();n={verify:tm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ml)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xu)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:JM(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee()}(t,e.precondition)),n}function nO(t,e){return t&&t.length>0?(me(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Yn(s.updateTime):Yn(i);return o.isEqual(te.min())&&(o=Yn(i)),new VM(o,s.transformResults||[])}(n,e))):[]}function rO(t,e){return{documents:[zT(t,e.path)]}}function sO(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zT(t,s);const i=function(u){if(u.length!==0)return qT(Cn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Vi(m.field),direction:aO(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Zp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:n,parent:s}}function iO(t){let e=ZM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){me(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const m=YT(h);return m instanceof Cn&&ET(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(v){return new pl(ji(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,zd(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(h){const m=!!h.before,g=h.values||[];return new Gu(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,g=h.values||[];return new Gu(g,m)}(n.endAt)),kM(e,s,o,i,a,"F",l,u)}function oO(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ji(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ji(n.unaryFilter.field);return Xe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ji(n.unaryFilter.field);return Xe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ji(n.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(ji(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Cn.create(n.compositeFilter.filters.map(r=>YT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function aO(t){return KM[t]}function lO(t){return QM[t]}function cO(t){return GM[t]}function Vi(t){return{fieldPath:t.canonicalString()}}function ji(t){return mt.fromServerFormat(t.fieldPath)}function qT(t){return t instanceof Xe?function(n){if(n.op==="=="){if(tw(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NAN"}};if(ew(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tw(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NOT_NAN"}};if(ew(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vi(n.field),op:lO(n.op),value:n.value}}}(t):t instanceof Cn?function(n){const r=n.getFilters().map(s=>qT(s));return r.length===1?r[0]:{compositeFilter:{op:cO(n.op),filters:r}}}(t):ee()}function uO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,r,s,i=te.min(),o=te.min(),a=_t.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.Tt=e}}function hO(t){const e=iO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.Tn=new pO}addToCollectionParentIndex(e,n){return this.Tn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(vs.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class pO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new rt(be.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new rt(be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QT=41943040;class $t{static withCacheSize(e){return new $t(e,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$t.DEFAULT_COLLECTION_PERCENTILE=10,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$t.DEFAULT=new $t(QT,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$t.DISABLED=new $t(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ko(0)}static Un(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="LruGarbageCollector",mO=1048576;function yw([t,e],[n,r]){const s=le(t,n);return s===0?le(e,r):s}class gO{constructor(e){this.Hn=e,this.buffer=new rt(yw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();yw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Y(gw,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fo(n)?Y(gw,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.er(3e5)})}}class vO{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Wd.ae);const r=new gO(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(mw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mw):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Oi()<=ie.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function _O(t,e){return new vO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.changes=new Ii(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ba(r.mutation,s,xn.empty(),nt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const s=Qs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=xa();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Dr();const o=Ua(),a=function(){return Ua()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Si)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Ba(d.mutation,u,d.mutation.getFieldMask(),nt.now())):o.set(u.key,xn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new EO(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ua();let s=new Le((o,a)=>o-a),i=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||xn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||oe()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=PT();d.forEach(m=>{if(!i.has(m)){const g=LT(n.get(m),r.get(m));g!==null&&h.set(m,g),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(Qs());let a=ul,l=i;return o.next(u=>B.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,oe())).next(d=>({batchId:a,changes:DT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let s=xa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=xa();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const u=function(h,m){return new Uo(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ct.newInvalidDocument(d)))});let a=xa();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&Ba(d.mutation,u,xn.empty(),nt.now()),Kd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return B.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Yn(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:hO(s.bundledQuery),readTime:Yn(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.overlays=new Le(X.comparator),this.Rr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qs();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Et(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Qs(),i=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Le((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Qs(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Qs(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return B.resolve(a)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $M(n,r));let i=this.Rr.get(n);i===void 0&&(i=oe(),this.Rr.set(n,i)),this.Rr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this.Vr=new rt(st.mr),this.gr=new rt(st.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new st(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new st(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){const n=new X(new be([])),r=new st(n,e),s=new st(n,e+1),i=[];return this.gr.forEachInRange([r,s],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new X(new be([])),r=new st(n,e),s=new st(n,e+1);let i=oe();return this.gr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new st(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class st{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return X.comparator(e.key,n.key)||le(e.Cr,n.Cr)}static pr(e,n){return le(e.Cr,n.Cr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new rt(st.mr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new BM(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Mr=this.Mr.add(new st(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Fg:this.Fr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new st(n,0),s=new st(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],o=>{const a=this.Or(o.Cr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rt(le);return n.forEach(s=>{const i=new st(s,0),o=new st(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],a=>{r=r.add(a.Cr)})}),B.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;X.isDocumentKey(i)||(i=i.child(""));const o=new st(new X(i),0);let a=new rt(le);return this.Mr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Cr)),!0)},o),B.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){me(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return B.forEach(n.mutations,s=>{const i=new st(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new st(n,0),s=this.Mr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.kr=e,this.docs=function(){return new Le(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=Dr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ct.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Dr();const o=n.path,a=new X(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||nM(tM(d),r)<=0||(s.has(d.key)||Kd(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ee()}qr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new CO(this)}getSize(e){return B.resolve(this.size)}}class CO extends wO{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.persistence=e,this.Qr=new Ii(n=>$g(n),Wg),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Kg,this.targetCount=0,this.Ur=ko.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),B.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new ko(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.zn(n),B.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Wd(0),this.zr=!1,this.zr=!0,this.jr=new IO,this.referenceDelegate=e(this),this.Hr=new DO(this),this.indexManager=new fO,this.remoteDocumentCache=function(s){return new bO(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new dO(n),this.Yr=new kO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new SO(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new PO(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,n){return B.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class PO extends sM{constructor(e){super(),this.currentSequenceNumber=e}}class Qg{constructor(e){this.persistence=e,this.ti=new Kg,this.ni=null}static ri(e){return new Qg(e)}get ii(){if(this.ni)return this.ni;throw ee()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),B.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.ii,r=>{const s=X.fromPath(r);return this.si(e,s).next(i=>{i||n.removeEntry(s,te.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return B.or([()=>B.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Zu{constructor(e,n){this.persistence=e,this.oi=new Ii(r=>aM(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=_O(this,n)}static ri(e,n){return new Zu(e,n)}Zr(){}Xr(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return B.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,i.removeEntry(o,te.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),B.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ru(e.data.value)),n}ar(e,n,r){return B.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=oe(),s=oe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Gg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return cN()?8:iM(Pt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new NO;return this._s(e,n,o).next(a=>{if(i.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>i.result)}us(e,n,r,s){return r.documentReadCount<this.es?(Oi()<=ie.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Li(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),B.resolve()):(Oi()<=ie.DEBUG&&Y("QueryEngine","Query:",Li(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(Oi()<=ie.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Li(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(n))):B.resolve())}rs(e,n){if(iw(n))return B.resolve(null);let r=zn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Jp(n,null,"F"),r=zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=oe(...i);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.cs(n,a);return this.ls(n,u,o,l.readTime)?this.rs(e,Jp(n,null,"F")):this.hs(e,u,n,l)}))})))}ss(e,n,r,s){return iw(n)||s.isEqual(te.min())?B.resolve(null):this.ns.getDocuments(e,r).next(i=>{const o=this.cs(n,i);return this.ls(n,o,r,s)?B.resolve(null):(Oi()<=ie.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Li(n)),this.hs(e,o,n,eM(s,ul)).next(a=>a))})}cs(e,n){let r=new rt(bT(e));return n.forEach((s,i)=>{Kd(e,i)&&(r=r.add(i))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,n,r){return Oi()<=ie.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Li(n)),this.ns.getDocumentsMatchingQuery(e,n,vs.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="LocalStore",AO=3e8;class MO{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new Le(le),this.Is=new Ii(i=>$g(i),Wg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function OO(t,e,n,r){return new MO(t,e,n,r)}async function XT(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=oe();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Rs:u,removedBatchIds:o,addedBatchIds:a}))})})}function LO(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,m=h.keys();let g=B.resolve();return m.forEach(v=>{g=g.next(()=>d.getEntry(l,v)).next(T=>{const b=u.docVersions.get(v);me(b!==null),T.version.compareTo(b)<0&&(h.applyToRemoteDocument(T,u),T.isValidDocument()&&(T.setReadTime(u.commitVersion),d.addEntry(T)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function JT(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function VO(t,e){const n=ne(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const a=[];e.targetChanges.forEach((d,h)=>{const m=s.get(h);if(!m)return;a.push(n.Hr.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(i,d.addedDocuments,h)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(_t.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(h,g),function(T,b,w){return T.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=AO?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,g,d)&&a.push(n.Hr.updateTargetData(i,g))});let l=Dr(),u=oe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(jO(i,o,e.documentUpdates).next(d=>{l=d.Vs,u=d.fs})),!r.isEqual(te.min())){const d=n.Hr.getLastRemoteSnapshotVersion(i).next(h=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ts=s,i))}function jO(t,e,n){let r=oe(),s=oe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Dr();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y(Xg,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Vs:o,fs:s}})}function FO(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Fg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function UO(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Hr.allocateTargetId(r).next(o=>(s=new Xr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function rm(t,e,n){const r=ne(t),s=r.Ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Fo(o))throw o;Y(Xg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function vw(t,e,n){const r=ne(t);let s=te.min(),i=oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=ne(l),m=h.Is.get(d);return m!==void 0?B.resolve(h.Ts.get(m)):h.Hr.getTargetData(u,d)}(r,o,zn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?s:te.min(),n?i:oe())).next(a=>(BO(r,IM(e),a),{documents:a,gs:i})))}function BO(t,e,n){let r=t.Es.get(e)||te.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Es.set(e,r)}class _w{constructor(){this.activeTargetIds=NM()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $O{constructor(){this.ho=new _w,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new _w,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="ConnectivityMonitor";class Ew{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Y(ww,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Y(ww,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc=null;function sm(){return Pc===null?Pc=function(){return 268435456+Math.round(2147483648*Math.random())}():Pc++,"0x"+Pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="RestConnection",zO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Ku?`project_id=${r}`:`project_id=${r}&database_id=${s}`}bo(e,n,r,s,i){const o=sm(),a=this.So(e,n.toUriEncodedString());Y(xf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,s,i),this.vo(e,a,l,r).then(u=>(Y(xf,`Received RPC '${e}' ${o}: `,u),u),u=>{throw _o(xf,`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}Co(e,n,r,s,i,o){return this.bo(e,n,r,s,i)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}So(e,n){const r=zO[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It="WebChannelConnection";class qO extends HO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=sm();return new Promise((o,a)=>{const l=new tT;l.setWithCredentials(!0),l.listenOnce(nT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case nu.NO_ERROR:const d=l.getResponseJson();Y(It,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case nu.TIMEOUT:Y(It,`RPC '${e}' ${i} timed out`),a(new q(U.DEADLINE_EXCEEDED,"Request time out"));break;case nu.HTTP_ERROR:const h=l.getStatus();if(Y(It,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const v=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(w)>=0?w:U.UNKNOWN}(g.status);a(new q(v,g.message))}else a(new q(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(U.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{Y(It,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);Y(It,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Wo(e,n,r){const s=sm(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iT(),a=sT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");Y(It,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);let m=!1,g=!1;const v=new YO({Fo:b=>{g?Y(It,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(m||(Y(It,`Opening RPC '${e}' stream ${s} transport.`),h.open(),m=!0),Y(It,`RPC '${e}' stream ${s} sending:`,b),h.send(b))},Mo:()=>h.close()}),T=(b,w,_)=>{b.listen(w,x=>{try{_(x)}catch(N){setTimeout(()=>{throw N},0)}})};return T(h,Ea.EventType.OPEN,()=>{g||(Y(It,`RPC '${e}' stream ${s} transport opened.`),v.Qo())}),T(h,Ea.EventType.CLOSE,()=>{g||(g=!0,Y(It,`RPC '${e}' stream ${s} transport closed`),v.Ko())}),T(h,Ea.EventType.ERROR,b=>{g||(g=!0,_o(It,`RPC '${e}' stream ${s} transport errored:`,b),v.Ko(new q(U.UNAVAILABLE,"The operation could not be completed")))}),T(h,Ea.EventType.MESSAGE,b=>{var w;if(!g){const _=b.data[0];me(!!_);const x=_,N=(x==null?void 0:x.error)||((w=x[0])===null||w===void 0?void 0:w.error);if(N){Y(It,`RPC '${e}' stream ${s} received error:`,N);const L=N.status;let F=function(C){const D=Qe[C];if(D!==void 0)return FT(D)}(L),I=N.message;F===void 0&&(F=U.INTERNAL,I="Unknown error status: "+L+" with message "+N.message),g=!0,v.Ko(new q(F,I)),h.close()}else Y(It,`RPC '${e}' stream ${s} received:`,_),v.Uo(_)}}),T(a,rT.STAT_EVENT,b=>{b.stat===Yp.PROXY?Y(It,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Yp.NOPROXY&&Y(It,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.$o()},0),v}}function kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t){return new XM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="PersistentStream";class eI{constructor(e,n,r,s,i,o,a,l){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ZT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Y(xw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Y(xw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KO extends eI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=eO(this.serializer,e),r=function(i){if(!("targetChange"in i))return te.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Yn(o.readTime):te.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=nm(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Gp(l)?{documents:rO(i,l)}:{query:sO(i,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=$T(i,o.resumeToken);const u=Zp(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=Ju(i,o.snapshotVersion.toTimestamp());const u=Zp(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=oO(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=nm(this.serializer),n.removeTarget=e,this.I_(n)}}class QO extends eI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return me(!!e.streamToken),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=nO(e.writeResults,e.commitTime),r=Yn(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=nm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>tO(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{}class XO extends GO{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.bo(e,em(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(U.UNKNOWN,i.toString())})}Co(e,n,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,em(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(U.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class JO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Cr(n),this.N_=!1):Y("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="RemoteStore";class ZO{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{r.enqueueAndForget(async()=>{bi(this)&&(Y(fi,"Restarting streams for network reachability change."),await async function(l){const u=ne(l);u.W_.add(4),await Fl(u),u.j_.set("Unknown"),u.W_.delete(4),await Zd(u)}(this))})}),this.j_=new JO(r,s)}}async function Zd(t){if(bi(t))for(const e of t.G_)await e(!0)}async function Fl(t){for(const e of t.G_)await e(!1)}function tI(t,e){const n=ne(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),ty(n)?ey(n):Bo(n).c_()&&Zg(n,e))}function Jg(t,e){const n=ne(t),r=Bo(n);n.U_.delete(e),r.c_()&&nI(n,e),n.U_.size===0&&(r.c_()?r.P_():bi(n)&&n.j_.set("Unknown"))}function Zg(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bo(t).y_(e)}function nI(t,e){t.H_.Ne(e),Bo(t).w_(e)}function ey(t){t.H_=new qM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Bo(t).start(),t.j_.B_()}function ty(t){return bi(t)&&!Bo(t).u_()&&t.U_.size>0}function bi(t){return ne(t).W_.size===0}function rI(t){t.H_=void 0}async function eL(t){t.j_.set("Online")}async function tL(t){t.U_.forEach((e,n)=>{Zg(t,e)})}async function nL(t,e){rI(t),ty(t)?(t.j_.q_(e),ey(t)):t.j_.set("Unknown")}async function rL(t,e,n){if(t.j_.set("Online"),e instanceof BT&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.U_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.U_.delete(a),s.H_.removeTarget(a))}(t,e)}catch(r){Y(fi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ed(t,r)}else if(e instanceof ou?t.H_.We(e):e instanceof UT?t.H_.Ze(e):t.H_.je(e),!n.isEqual(te.min()))try{const r=await JT(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.H_.ot(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.U_.get(u);d&&i.U_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.U_.get(l);if(!d)return;i.U_.set(l,d.withResumeToken(_t.EMPTY_BYTE_STRING,d.snapshotVersion)),nI(i,l);const h=new Xr(d.target,l,u,d.sequenceNumber);Zg(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(fi,"Failed to raise snapshot:",r),await ed(t,r)}}async function ed(t,e,n){if(!Fo(e))throw e;t.W_.add(1),await Fl(t),t.j_.set("Offline"),n||(n=()=>JT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(fi,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Zd(t)})}function sI(t,e){return e().catch(n=>ed(t,n,e))}async function eh(t){const e=ne(t),n=xs(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Fg;for(;sL(e);)try{const s=await FO(e.localStore,r);if(s===null){e.K_.length===0&&n.P_();break}r=s.batchId,iL(e,s)}catch(s){await ed(e,s)}iI(e)&&oI(e)}function sL(t){return bi(t)&&t.K_.length<10}function iL(t,e){t.K_.push(e);const n=xs(t);n.c_()&&n.b_&&n.S_(e.mutations)}function iI(t){return bi(t)&&!xs(t).u_()&&t.K_.length>0}function oI(t){xs(t).start()}async function oL(t){xs(t).C_()}async function aL(t){const e=xs(t);for(const n of t.K_)e.S_(n.mutations)}async function lL(t,e,n){const r=t.K_.shift(),s=Hg.from(r,e,n);await sI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await eh(t)}async function cL(t,e){e&&xs(t).b_&&await async function(r,s){if(function(o){return zM(o)&&o!==U.ABORTED}(s.code)){const i=r.K_.shift();xs(r).h_(),await sI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await eh(r)}}(t,e),iI(t)&&oI(t)}async function kw(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),Y(fi,"RemoteStore received new credentials");const r=bi(n);n.W_.add(3),await Fl(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Zd(n)}async function uL(t,e){const n=ne(t);e?(n.W_.delete(2),await Zd(n)):e||(n.W_.add(2),await Fl(n),n.j_.set("Unknown"))}function Bo(t){return t.J_||(t.J_=function(n,r,s){const i=ne(n);return i.M_(),new KO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:eL.bind(null,t),No:tL.bind(null,t),Lo:nL.bind(null,t),p_:rL.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),ty(t)?ey(t):t.j_.set("Unknown")):(await t.J_.stop(),rI(t))})),t.J_}function xs(t){return t.Y_||(t.Y_=function(n,r,s){const i=ne(n);return i.M_(),new QO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:oL.bind(null,t),Lo:cL.bind(null,t),D_:aL.bind(null,t),v_:lL.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await eh(t)):(await t.Y_.stop(),t.K_.length>0&&(Y(fi,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new ny(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ry(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),Fo(t))return new q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(e){return new ao(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=xa(),this.sortedSet=new Le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.Z_=new Le(X.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ee():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class To{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new To(e,n,ao.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class hL{constructor(){this.queries=Iw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=ne(n),i=s.queries;s.queries=Iw(),i.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new q(U.ABORTED,"Firestore shutting down"))}}function Iw(){return new Ii(t=>ST(t),qd)}async function sy(t,e){const n=ne(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new dL,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await n.onListen(s,!0);break;case 1:i.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=ry(o,`Initialization of query '${Li(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ta.push(e),e.sa(n.onlineState),i.ea&&e.oa(i.ea)&&oy(n)}async function iy(t,e){const n=ne(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fL(t,e){const n=ne(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ta)a.oa(s)&&(r=!0);o.ea=s}}r&&oy(n)}function pL(t,e,n){const r=ne(t),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(n);r.queries.delete(e)}function oy(t){t.ia.forEach(e=>{e.next()})}var im,Sw;(Sw=im||(im={}))._a="default",Sw.Cache="cache";class ay{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new To(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==im.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.key=e}}class lI{constructor(e){this.key=e}}class mL{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=oe(),this.mutatedKeys=oe(),this.ya=bT(e),this.wa=new ao(this.ya)}get ba(){return this.fa}Sa(e,n){const r=n?n.Da:new Tw,s=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const m=s.get(d),g=Kd(this.query,h)?h:null,v=!!m&&this.mutatedKeys.has(m.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;m&&g?m.data.isEqual(g.data)?v!==T&&(r.track({type:3,doc:g}),b=!0):this.va(m,g)||(r.track({type:2,doc:g}),b=!0,(l&&this.ya(g,l)>0||u&&this.ya(g,u)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),b=!0):m&&!g&&(r.track({type:1,doc:m}),b=!0,(l||u)&&(a=!0)),b&&(g?(o=o.add(g),i=T?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{wa:o,Da:r,ls:a,mutatedKeys:i}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((d,h)=>function(g,v){const T=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return T(g)-T(v)}(d.type,h.type)||this.ya(d.doc,h.doc)),this.Ca(r),s=s!=null&&s;const a=n&&!s?this.Fa():[],l=this.pa.size===0&&this.current&&!s?1:0,u=l!==this.ga;return this.ga=l,o.length!==0||u?{snapshot:new To(this.query,e.wa,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Tw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=oe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new lI(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new aI(r))}),n}Oa(e){this.fa=e.gs,this.pa=oe();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return To.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ly="SyncEngine";class gL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yL{constructor(e){this.key=e,this.Ba=!1}}class vL{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Ii(a=>ST(a),qd),this.qa=new Map,this.Qa=new Set,this.$a=new Le(X.comparator),this.Ka=new Map,this.Ua=new Kg,this.Wa={},this.Ga=new Map,this.za=ko.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function _L(t,e,n=!0){const r=pI(t);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await cI(r,e,n,!0),s}async function wL(t,e){const n=pI(t);await cI(n,e,!0,!1)}async function cI(t,e,n,r){const s=await UO(t.localStore,zn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await EL(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&tI(t.remoteStore,s),a}async function EL(t,e,n,r,s){t.Ha=(h,m,g)=>async function(T,b,w,_){let x=b.view.Sa(w);x.ls&&(x=await vw(T.localStore,b.query,!1).then(({documents:I})=>b.view.Sa(I,x)));const N=_&&_.targetChanges.get(b.targetId),L=_&&_.targetMismatches.get(b.targetId)!=null,F=b.view.applyChanges(x,T.isPrimaryClient,N,L);return Cw(T,b.targetId,F.Ma),F.snapshot}(t,h,m,g);const i=await vw(t.localStore,e,!0),o=new mL(e,i.gs),a=o.Sa(i.documents),l=jl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);Cw(t,n,u.Ma);const d=new gL(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),u.snapshot}async function xL(t,e,n){const r=ne(t),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter(o=>!qd(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await rm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Jg(r.remoteStore,s.targetId),om(r,s.targetId)}).catch(jo)):(om(r,s.targetId),await rm(r.localStore,s.targetId,!0))}async function kL(t,e){const n=ne(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jg(n.remoteStore,r.targetId))}async function TL(t,e,n){const r=NL(t);try{const s=await function(o,a){const l=ne(o),u=nt.now(),d=a.reduce((g,v)=>g.add(v.key),oe());let h,m;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=Dr(),T=oe();return l.ds.getEntries(g,d).next(b=>{v=b,v.forEach((w,_)=>{_.isValidDocument()||(T=T.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(b=>{h=b;const w=[];for(const _ of a){const x=FM(_,h.get(_.key).overlayedDocument);x!=null&&w.push(new Si(_.key,x,vT(x.value.mapValue),Hn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,w,a)}).next(b=>{m=b;const w=b.applyToLocalDocumentSet(h,T);return l.documentOverlayCache.saveOverlays(g,b.batchId,w)})}).then(()=>({batchId:m.batchId,changes:DT(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Wa[o.currentUser.toKey()];u||(u=new Le(le)),u=u.insert(a,l),o.Wa[o.currentUser.toKey()]=u}(r,s.batchId,n),await Ul(r,s.changes),await eh(r.remoteStore)}catch(s){const i=ry(s,"Failed to persist write");n.reject(i)}}async function uI(t,e){const n=ne(t);try{const r=await VO(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ka.get(i);o&&(me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?me(o.Ba):s.removedDocuments.size>0&&(me(o.Ba),o.Ba=!1))}),await Ul(n,r,e)}catch(r){await jo(r)}}function bw(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((i,o)=>{const a=o.view.sa(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ne(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const m of h.ta)m.sa(a)&&(u=!0)}),u&&oy(l)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IL(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ka.get(e),i=s&&s.key;if(i){let o=new Le(X.comparator);o=o.insert(i,Ct.newNoDocument(i,te.min()));const a=oe().add(i),l=new Xd(te.min(),new Map,new Le(le),o,a);await uI(r,l),r.$a=r.$a.remove(i),r.Ka.delete(e),cy(r)}else await rm(r.localStore,e,!1).then(()=>om(r,e,n)).catch(jo)}async function SL(t,e){const n=ne(t),r=e.batch.batchId;try{const s=await LO(n.localStore,e);hI(n,r,null),dI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ul(n,s)}catch(s){await jo(s)}}async function bL(t,e,n){const r=ne(t);try{const s=await function(o,a){const l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(me(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);hI(r,e,n),dI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ul(r,s)}catch(s){await jo(s)}}function dI(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function hI(t,e,n){const r=ne(t);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function om(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(r=>{t.Ua.containsKey(r)||fI(t,r)})}function fI(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Jg(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),cy(t))}function Cw(t,e,n){for(const r of n)r instanceof aI?(t.Ua.addReference(r.key,e),CL(t,r)):r instanceof lI?(Y(ly,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||fI(t,r.key)):ee()}function CL(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(Y(ly,"New document in limbo: "+n),t.Qa.add(r),cy(t))}function cy(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new X(be.fromString(e)),r=t.za.next();t.Ka.set(r,new yL(n)),t.$a=t.$a.insert(n,r),tI(t.remoteStore,new Xr(zn(Yd(n.path)),r,"TargetPurposeLimboResolution",Wd.ae))}}async function Ul(t,e,n){const r=ne(t),s=[],i=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Gg.Yi(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.La.p_(s),await async function(l,u){const d=ne(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(u,m=>B.forEach(m.Hi,g=>d.persistence.referenceDelegate.addReference(h,m.targetId,g)).next(()=>B.forEach(m.Ji,g=>d.persistence.referenceDelegate.removeReference(h,m.targetId,g)))))}catch(h){if(!Fo(h))throw h;Y(Xg,"Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const g=d.Ts.get(m),v=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(v);d.Ts=d.Ts.insert(m,T)}}}(r.localStore,i))}async function DL(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){Y(ly,"User change. New user:",e.toKey());const r=await XT(n.localStore,e);n.currentUser=e,function(i,o){i.Ga.forEach(a=>{a.forEach(l=>{l.reject(new q(U.CANCELLED,o))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ul(n,r.Rs)}}function PL(t,e){const n=ne(t),r=n.Ka.get(e);if(r&&r.Ba)return oe().add(r.key);{let s=oe();const i=n.qa.get(e);if(!i)return s;for(const o of i){const a=n.ka.get(o);s=s.unionWith(a.view.ba)}return s}}function pI(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IL.bind(null,e),e.La.p_=fL.bind(null,e.eventManager),e.La.Ja=pL.bind(null,e.eventManager),e}function NL(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bL.bind(null,e),e}class td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return OO(this.persistence,new RO,e.initialUser,this.serializer)}Xa(e){return new GT(Qg.ri,this.serializer)}Za(e){return new $O}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}td.provider={build:()=>new td};class RL extends td{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){me(this.persistence.referenceDelegate instanceof Zu);const r=this.persistence.referenceDelegate.garbageCollector;return new yO(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?$t.withCacheSize(this.cacheSizeBytes):$t.DEFAULT;return new GT(r=>Zu.ri(r,n),this.serializer)}}class am{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DL.bind(null,this.syncEngine),await uL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hL}()}createDatastore(e){const n=Jd(e.databaseInfo.databaseId),r=function(i){return new qO(i)}(e.databaseInfo);return function(i,o,a,l){return new XO(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new ZO(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>bw(this.syncEngine,n,0),function(){return Ew.D()?new Ew:new WO}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const h=new vL(s,i,o,a,l,u);return d&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ne(s);Y(fi,"RemoteStore shutting down."),i.W_.add(5),await Fl(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}am.provider={build:()=>new am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="FirestoreClient";class AL{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=St.UNAUTHENTICATED,this.clientId=aT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Y(ks,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(ks,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ry(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Tf(t,e){t.asyncQueue.verifyOperationInProgress(),Y(ks,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await XT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Dw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ML(t);Y(ks,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>kw(e.remoteStore,s)),t._onlineComponents=e}async function ML(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(ks,"Using user provided OfflineComponentProvider");try{await Tf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await Tf(t,new td)}}else Y(ks,"Using default OfflineComponentProvider"),await Tf(t,new RL(void 0));return t._offlineComponents}async function mI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(ks,"Using user provided OnlineComponentProvider"),await Dw(t,t._uninitializedComponentsProvider._online)):(Y(ks,"Using default OnlineComponentProvider"),await Dw(t,new am))),t._onlineComponents}function OL(t){return mI(t).then(e=>e.syncEngine)}async function nd(t){const e=await mI(t),n=e.eventManager;return n.onListen=_L.bind(null,e.syncEngine),n.onUnlisten=xL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kL.bind(null,e.syncEngine),n}function LL(t,e,n={}){const r=new vr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new uy({next:m=>{d.su(),o.enqueueAndForget(()=>iy(i,h));const g=m.docs.has(a);!g&&m.fromCache?u.reject(new q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&l&&l.source==="server"?u.reject(new q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new ay(Yd(a.path),d,{includeMetadataChanges:!0,Ta:!0});return sy(i,h)}(await nd(t),t.asyncQueue,e,n,r)),r.promise}function VL(t,e,n={}){const r=new vr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new uy({next:m=>{d.su(),o.enqueueAndForget(()=>iy(i,h)),m.fromCache&&l.source==="server"?u.reject(new q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new ay(a,d,{includeMetadataChanges:!0,Ta:!0});return sy(i,h)}(await nd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t,e,n){if(!n)throw new q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jL(t,e,n,r){if(e===!0&&r===!0)throw new q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nw(t){if(!X.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Rw(t){if(X.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function th(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function Sn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=th(t);throw new q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="firestore.googleapis.com",Aw=!0;class Mw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vI,this.ssl=Aw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Aw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mO)throw new q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Y2;switch(r.type){case"firstParty":return new G2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Pw.get(n);r&&(Y("ComponentProvider","Removing Datastore"),Pw.delete(n),r.terminate())}(this),Promise.resolve()}}function FL(t,e,n,r={}){var s;const i=(t=Sn(t,nh))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i.host!==vI&&i.host!==a&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},i),{host:a,ssl:!1,emulatorOptions:r});if(!li(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=St.MOCK_USER;else{u=h1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new St(h)}t._authCredentials=new q2(new oT(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ms(this.firestore,e,this._query)}}class Ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}}class ds extends Ms{constructor(e,n,r){super(e,n,Yd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new X(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function _r(t,e,...n){if(t=Fe(t),yI("collection","path",e),t instanceof nh){const r=be.fromString(e,...n);return Rw(r),new ds(t,null,r)}{if(!(t instanceof Ft||t instanceof ds))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return Rw(r),new ds(t.firestore,null,r)}}function Ts(t,e,...n){if(t=Fe(t),arguments.length===1&&(e=aT.newId()),yI("doc","path",e),t instanceof nh){const r=be.fromString(e,...n);return Nw(r),new Ft(t,null,new X(r))}{if(!(t instanceof Ft||t instanceof ds))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return Nw(r),new Ft(t.firestore,t instanceof ds?t.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="AsyncQueue";class Lw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ZT(this,"async_queue_retry"),this.bu=()=>{const r=kf();r&&Y(Ow,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const n=kf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=kf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new vr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Fo(e))throw e;Y(Ow,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Cr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=ny.createAndSchedule(this,e,n,r,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function Vw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class pi extends nh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Lw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Lw(e),this._firestoreClient=void 0,await e}}}function UL(t,e){const n=typeof t=="object"?t:Sg(),r=typeof t=="string"?t:Ku,s=Fd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=c1("firestore");i&&FL(s,...i)}return s}function rh(t){if(t._terminated)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BL(t),t._firestoreClient}function BL(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,d){return new uM(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,gI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new AL(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Io(_t.fromBase64String(e))}catch(n){throw new q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Io(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=/^__.*__$/;class WL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Si(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vl(e,this.data,n,this.fieldTransforms)}}function _I(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class my{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new my(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return rd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(_I(this.Lu)&&$L.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class zL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jd(e)}ju(e,n,r,s=!1){return new my({Lu:e,methodName:n,zu:r,path:mt.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gy(t){const e=t._freezeSettings(),n=Jd(t._databaseId);return new zL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wI(t,e,n,r,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,n,s);kI("Data must be an object, but it was:",o,r);const a=EI(r,o);let l,u;if(i.merge)l=new xn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const m=YL(e,h,n);if(!o.contains(m))throw new q(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);KL(d,m)||d.push(m)}l=new xn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new WL(new cn(a),l,u)}class yy extends hy{_toFieldTransform(e){return new OM(e.path,new ml)}isEqual(e){return e instanceof yy}}function HL(t,e,n,r=!1){return vy(n,t.ju(r?4:3,e))}function vy(t,e){if(xI(t=Fe(t)))return kI("Unsupported field value:",e,t),EI(t,e);if(t instanceof hy)return function(r,s){if(!_I(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=vy(a,s.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Fe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=nt.fromDate(r);return{timestampValue:Ju(s.serializer,i)}}if(r instanceof nt){const i=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ju(s.serializer,i)}}if(r instanceof fy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Io)return{bytesValue:$T(s.serializer,r._byteString)};if(r instanceof Ft){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof py)return function(o,a){return{mapValue:{fields:{[mT]:{stringValue:yT},[Qu]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return zg(a.serializer,u)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${th(r)}`)}(t,e)}function EI(t,e){const n={};return cT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ti(t,(r,s)=>{const i=vy(s,e.qu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function xI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof fy||t instanceof Io||t instanceof Ft||t instanceof hy||t instanceof py)}function kI(t,e,n){if(!xI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=th(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function YL(t,e,n){if((e=Fe(e))instanceof dy)return e._internalPath;if(typeof e=="string")return TI(t,e);throw rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const qL=new RegExp("[~\\*/\\[\\]]");function TI(t,e,n){if(e.search(qL)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dy(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new q(U.INVALID_ARGUMENT,a+t+l)}function KL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QL extends II{data(){return super.data()}}function sh(t,e){return typeof e=="string"?TI(t,e):e instanceof dy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _y{}class bI extends _y{}function wy(t,e,...n){let r=[];e instanceof _y&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof xy).length,a=i.filter(l=>l instanceof ih).length;if(o>1||o>0&&a>0)throw new q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class ih extends bI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ih(e,n,r)}_apply(e){const n=this._parse(e);return DI(e._query,n),new Ms(e.firestore,e.converter,Xp(e._query,n))}_parse(e){const n=gy(e.firestore);return function(i,o,a,l,u,d,h){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Fw(h,d);const v=[];for(const T of h)v.push(jw(l,i,T));m={arrayValue:{values:v}}}else m=jw(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Fw(h,d),m=HL(a,o,h,d==="in"||d==="not-in");return Xe.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ey(t,e,n){const r=e,s=sh("where",t);return ih._create(s,r,n)}class xy extends _y{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Cn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)DI(o,l),o=Xp(o,l)}(e._query,n),new Ms(e.firestore,e.converter,Xp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ky extends bI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ky(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pl(i,o)}(e._query,this._field,this._direction);return new Ms(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Uo(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function CI(t,e="asc"){const n=e,r=sh("orderBy",t);return ky._create(r,n)}function jw(t,e,n){if(typeof(n=Fe(n))=="string"){if(n==="")throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IT(e)&&n.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(be.fromString(n));if(!X.isDocumentKey(r))throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Z_(t,new X(r))}if(n instanceof Ft)return Z_(t,n._key);throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${th(n)}.`)}function Fw(t,e){if(!Array.isArray(t)||t.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class GL{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ti(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Qu].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>He(o.doubleValue));return new py(i)}convertGeoPoint(e){return new fy(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dl(e));default:return null}}convertTimestamp(e){const n=_s(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=be.fromString(e);me(KT(r));const s=new hl(r.get(1),r.get(3)),i=new X(r.popFirst(5));return s.isEqual(n)||Cr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NI extends II{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class au extends NI{data(e={}){return super.data(e)}}class RI{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ta(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new au(this._firestore,this._userDataWriter,r.key,r,new Ta(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new au(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ta(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new au(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ta(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:XL(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function XL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(t){t=Sn(t,Ft);const e=Sn(t.firestore,pi);return LL(rh(e),t._key).then(n=>OI(e,t,n))}class Ty extends GL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Io(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function Iy(t){t=Sn(t,Ms);const e=Sn(t.firestore,pi),n=rh(e),r=new Ty(e);return SI(t._query),VL(n,t._query).then(s=>new RI(e,r,t,s))}function lm(t,e,n){t=Sn(t,Ft);const r=Sn(t.firestore,pi),s=PI(t.converter,e);return MI(r,[wI(gy(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Hn.none())])}function cm(t,e){const n=Sn(t.firestore,pi),r=Ts(t),s=PI(t.converter,e);return MI(n,[wI(gy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Hn.exists(!1))]).then(()=>r)}function AI(t,...e){var n,r,s;t=Fe(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Vw(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Vw(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,u,d;if(t instanceof Ft)u=Sn(t.firestore,pi),d=Yd(t._key.path),l={next:h=>{e[o]&&e[o](OI(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Sn(t,Ms);u=Sn(h.firestore,pi),d=h._query;const m=new Ty(u);l={next:g=>{e[o]&&e[o](new RI(u,m,h,g))},error:e[o+1],complete:e[o+2]},SI(t._query)}return function(m,g,v,T){const b=new uy(T),w=new ay(g,b,v);return m.asyncQueue.enqueueAndForget(async()=>sy(await nd(m),w)),()=>{b.su(),m.asyncQueue.enqueueAndForget(async()=>iy(await nd(m),w))}}(rh(u),d,a,l)}function MI(t,e){return function(r,s){const i=new vr;return r.asyncQueue.enqueueAndForget(async()=>TL(await OL(r),s,i)),i.promise}(rh(t),e)}function OI(t,e,n){const r=n.docs.get(e._key),s=new Ty(t);return new NI(t,s,e._key,r,new Ta(n.hasPendingWrites,n.fromCache),e.converter)}function um(){return new yy("serverTimestamp")}(function(e,n=!0){(function(s){Vo=s})(ki),ci(new ys("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new pi(new K2(r.getProvider("auth-internal")),new X2(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hl(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),$n($_,W_,e),$n($_,W_,"esm2017")})();const JL={apiKey:"AIzaSyB--D7pQrmIgl5e6QZm8TRoc-9NEuZ6BKU",authDomain:"lazyowner-7571d.firebaseapp.com",databaseURL:"https://lazyowner-7571d-default-rtdb.firebaseio.com",projectId:"lazyowner-7571d",storageBucket:"lazyowner-7571d.firebasestorage.app",messagingSenderId:"361474077422",appId:"1:361474077422:web:e3c7c5075bd11ae8cf79ff",measurementId:"G-RTNJ2KRB5Y"},LI=m1(JL),ze=z2(LI),ot=UL(LI),ZL={user:null,loading:!0,signIn:async()=>{},signUp:async()=>{},signInWithGoogle:async()=>{},signOut:async()=>{}},Sy=M.createContext(ZL),e4=({children:t})=>{const[e,n]=M.useState(null),[r,s]=M.useState(!0),i=Rs();M.useEffect(()=>AA(ze,h=>{n(h),s(!1),h||i("/")}),[i]);const o=async(d,h)=>{try{await SA(ze,d,h)}catch(m){throw console.error("Error signing in:",m),m}},a=async(d,h,m)=>{try{const g=await IA(ze,d,h);await lm(Ts(ot,"users",g.user.uid),{uid:g.user.uid,username:m,email:d}),await PA(g.user,{displayName:m}),console.log("User created:",g.user,"with username:",m)}catch(g){throw console.error("Error signing up:",g),g}},l=async()=>{const d=new Ln;try{const m=(await ZA(ze,d)).user,g=Ts(ot,"users",m.uid);(await mi(g)).exists()?console.log("User already exists"):(await lm(g,{uid:m.uid,username:m.displayName,email:m.email}),console.log("New user created with Google Sign-In"))}catch(h){if(console.error("Error during Google Sign-In:",h),h.code==="auth/account-exists-with-different-credential"){const m=h.customData.email;Ln.credentialFromError(h),CA(ze,m).then(g=>{throw g.includes("password")?(console.warn(`User with email ${m} already exists. Please sign in with your password and link your Google account.`),new Error("Account already exists. Please sign in with your password and link your Google account.")):h}).catch(g=>{throw console.error("Error fetching sign-in methods:",g),g})}else throw h}},u=async()=>{try{await $1(ze)}catch(d){throw console.error("Error signing out:",d),d}};return p.jsx(Sy.Provider,{value:{user:e,loading:r,signIn:o,signUp:a,signInWithGoogle:l,signOut:u},children:!r&&t})},$o=()=>M.useContext(Sy);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var t4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ue=(t,e)=>{const n=M.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>M.createElement("svg",{ref:d,...t4,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${n4(t)}`,a].join(" "),...u},[...e.map(([h,m])=>M.createElement(h,m)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=ue("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=ue("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=ue("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=ue("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ue("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=ue("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=ue("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=ue("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=ue("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=ue("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=ue("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=ue("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=ue("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=ue("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=ue("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=ue("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Py=({isOpen:t,onClose:e,redirectAfterLogin:n})=>{const[r,s]=M.useState(!0),[i,o]=M.useState(""),[a,l]=M.useState(""),[u,d]=M.useState(""),[h,m]=M.useState(!1),{signIn:g,signUp:v,signInWithGoogle:T}=M.useContext(Sy),b=Rs();M.useEffect(()=>{},[n,b]);const w=async x=>{x.preventDefault();try{r?(await g(i,a),e()):(await v(i,a,u),m(!0),setTimeout(()=>{m(!1),e(),n&&b(n)},3e3))}catch(N){console.error("Authentication error:",N.message),alert(N.message)}},_=async()=>{try{await T(),e(),n&&b(n)}catch(x){console.error("Google Sign-In error:",x.message),alert(x.message)}};return p.jsx("div",{className:`fixed inset-0 z-50 ${t?"flex":"hidden"} items-center justify-center bg-black bg-opacity-50`,children:p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",children:h?p.jsx("div",{className:"text-center animate-bounce",children:p.jsx("h2",{className:"text-2xl font-semibold text-green-600 dark:text-green-400",children:"Welcome to StarConnect!"})}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-2xl font-semibold dark:text-white",children:r?"Sign In":"Sign Up"}),p.jsx("button",{onClick:e,className:"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100",children:p.jsx(UI,{className:"w-6 h-6"})})]}),p.jsxs("form",{onSubmit:w,className:"space-y-4",children:[!r&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username"}),p.jsxs("div",{className:"relative",children:[p.jsx(vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"text",value:u,onChange:x=>d(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-700 dark:text-gray-200",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),p.jsxs("div",{className:"relative",children:[p.jsx(Cy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"email",value:i,onChange:x=>o(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-700 dark:text-gray-200",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(h4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"password",value:a,onChange:x=>l(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-700 dark:text-gray-200",required:!0})]})]}),p.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 rounded-lg font-semibold hover:bg-indigo-700 transition",children:r?"Sign In":"Sign Up"})]}),p.jsx("button",{onClick:_,className:"w-full mt-4 bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Sign In with Google"}),p.jsx("div",{className:"text-center mt-4",children:p.jsx("button",{onClick:()=>s(!r),className:"text-sm text-indigo-600 dark:text-indigo-400 hover:underline",children:r?"Create an account":"Already have an account? Sign in"})})]})})})},BI=({size:t="sm",animated:e=!1})=>{const n=`
    relative
    ${t==="lg"?"w-24 h-24":"w-8 h-8"}
    ${e?"animate-spin-slow":""}
  `,r=`
    absolute
    inset-0
    bg-indigo-500
    rounded-full
    blur-lg
    opacity-50
    ${e?"animate-pulse":""}
  `,s=`
    absolute
    inset-0
    ${t==="lg"?"p-3":"p-1"}
    text-white
    transform
    ${e?"hover:scale-110":""}
    transition-transform
    duration-300
    z-20
  `,i=`
    absolute
    inset-0
    border-4
    border-indigo-600
    rounded-full
    transform
    rotate-45
    ${e?"animate-pulse-fast":""}
    z-10
  `;return p.jsxs("div",{className:n,children:[p.jsx("div",{className:r}),p.jsx("div",{className:i}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600 to-indigo-800 rounded-full shadow-lg z-0"}),p.jsx(Os,{className:s,fill:"currentColor",size:t==="lg"?72:24,strokeWidth:2,absoluteStrokeWidth:!0})]})},w4=[{id:"Pop Singer",name:"Pop Singer",icon:sd,color:"bg-blue-500"},{id:"DJ",name:"DJ",icon:u4,color:"bg-green-500"},{id:"Band",name:"Band",icon:oh,color:"bg-pink-500"},{id:"Hip-Hop Artist",name:"Hip-Hop Artist",icon:sd,color:"bg-red-500"}],E4=[{title:"Browse & Discover",description:"Explore profiles of top artists, bands, and entertainers.",icon:jI,color:"bg-blue-500"},{title:"Book & Customize",description:"Select your favorite star and personalize the booking.",icon:s4,color:"bg-green-500"},{title:"Secure Payment",description:"Pay safely through our platform.",icon:a4,color:"bg-purple-500"},{title:"Enjoy the Experience",description:"Sit back and enjoy an unforgettable event.",icon:Os,color:"bg-pink-500"}],x4=[{title:"Verified Artists & Secure Payments",description:"All artists are verified and payments are protected.",icon:v4,color:"bg-indigo-500"},{title:"Fast & Easy Booking",description:"Book your favorite artist in minutes.",icon:o4,color:"bg-green-500"},{title:"Customizable Experiences",description:"Personalize your event exactly how you want it.",icon:oh,color:"bg-purple-500"},{title:"Exclusive Talent",description:"Access to top-tier artists for any occasion.",icon:by,color:"bg-blue-500"}],k4=[{name:"Sarah Johnson",event:"Wedding Reception",rating:5,comment:"Amazing experience! The booking process was smooth and the artist exceeded our expectations.",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=400"},{name:"David Chen",event:"Corporate Event",rating:5,comment:"Professional service from start to finish. Will definitely use StarConnect again!",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&w=400"}],T4=[{question:"How do I book an artist?",answer:"Simply browse our catalog, select your preferred artist, choose your date and time, and complete the booking process through our secure platform."},{question:"What if an artist cancels?",answer:"We offer full refunds for artist cancellations and will help you find a suitable replacement immediately."},{question:"How do artists get paid?",answer:"Artists receive payment through our secure platform after the event is successfully completed."}],I4=()=>{const t=Rs(),{user:e}=$o(),[n,r]=M.useState(!1),[s,i]=M.useState([]),[o,a]=M.useState(!0);M.useEffect(()=>{(async()=>{try{const d=_r(ot,"stars"),m=(await Iy(d)).docs.map(g=>({id:g.id,...g.data()}));i(m.slice(0,3))}catch(d){console.error("Error fetching featured stars:",d)}finally{a(!1)}})()},[]);const l=u=>{e?t(u):r(!0)};return p.jsxs("div",{className:"text-gray-900 dark:text-gray-100",children:[p.jsxs("section",{className:"relative h-[600px] flex items-center justify-center text-white overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(https://images.unsplash.com/photo-1492684223066-81342ee5ff30?auto=format&fit=crop&w=1920)"},children:p.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60"})}),p.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto px-4",children:[p.jsx("div",{className:"mb-8 flex justify-center",children:p.jsx(BI,{size:"lg",animated:!0})}),p.jsx("h1",{className:"text-5xl font-bold mb-6 animate-fade-in",children:"Experience Unforgettable Moments with Your Favorite Rock Stars"}),p.jsx("p",{className:"text-xl mb-8 animate-fade-in-delay",children:"Book personalized experiences."}),p.jsxs("div",{className:"flex justify-center gap-4 animate-fade-in-delay-2",children:[p.jsx("button",{onClick:()=>l("/book-star"),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-lg font-semibold transition transform hover:scale-105",children:"Book a Star"}),p.jsx("button",{onClick:()=>l("/register-star"),className:"bg-white hover:bg-gray-100 text-indigo-600 px-8 py-3 rounded-lg font-semibold transition transform hover:scale-105",children:"Register as a Star"})]})]})]}),p.jsx("section",{className:"py-16 bg-gray-50 dark:bg-gray-800",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:"Browse by Category"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:w4.map(u=>p.jsxs("div",{onClick:()=>l(`/category/${u.id}`),className:"bg-white dark:bg-gray-700 rounded-xl shadow-md p-6 cursor-pointer transform hover:scale-105 transition",children:[p.jsx("div",{className:`${u.color} w-12 h-12 rounded-lg flex items-center justify-center mb-4`,children:p.jsx(u.icon,{className:"w-6 h-6 text-white"})}),p.jsx("h3",{className:"text-xl font-semibold dark:text-white",children:u.name})]},u.id))})]})}),p.jsx("section",{className:"py-16 dark:bg-gray-900",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:"Featured Stars"}),o?p.jsx("div",{className:"text-center",children:"Loading featured stars..."}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map(u=>p.jsxs("div",{onClick:()=>l(`/star/${u.id}`),className:"bg-white dark:bg-gray-700 rounded-xl shadow-md overflow-hidden cursor-pointer transform hover:scale-105 transition",children:[p.jsx("img",{src:u.profilePicture,alt:u.name,className:"w-full h-48 object-cover"}),p.jsxs("div",{className:"p-6",children:[p.jsx("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:u.name}),p.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:u.category}),p.jsxs("p",{className:"text-indigo-600 dark:text-indigo-400 font-semibold",children:["$",u.hourlyRate,"/hour"]})]})]},u.id))})]})}),p.jsx("section",{className:"py-16 bg-white dark:bg-gray-900",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:"How It Works"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:E4.map((u,d)=>p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:`${u.color} w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4`,children:p.jsx(u.icon,{className:"w-8 h-8 text-white"})}),p.jsx("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:u.title}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:u.description})]},d))})]})}),p.jsx("section",{className:"py-16 bg-gray-50 dark:bg-gray-800",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:"Why Choose StarConnect?"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:x4.map((u,d)=>p.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl shadow-md p-6",children:[p.jsx("div",{className:`${u.color} w-12 h-12 rounded-lg flex items-center justify-center mb-4`,children:p.jsx(u.icon,{className:"w-6 h-6 text-white"})}),p.jsx("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:u.title}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:u.description})]},d))})]})}),p.jsx("section",{className:"py-16 bg-white dark:bg-gray-900",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:"What Our Customers Say"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:k4.map((u,d)=>p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-6 shadow-md",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("img",{src:u.image,alt:u.name,className:"w-12 h-12 rounded-full mr-4"}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold dark:text-white",children:u.name}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:u.event})]})]}),p.jsx("div",{className:"flex mb-2",children:[...Array(u.rating)].map((h,m)=>p.jsx(Os,{className:"w-5 h-5 text-yellow-400 fill-current"},m))}),p.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:u.comment})]},d))})]})}),p.jsx("section",{className:"py-16 bg-gray-50 dark:bg-gray-800",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:"Frequently Asked Questions"}),p.jsx("div",{className:"max-w-3xl mx-auto",children:T4.map((u,d)=>p.jsxs("div",{className:"mb-6 bg-white dark:bg-gray-700 rounded-lg shadow-md p-6",children:[p.jsx("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:u.question}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:u.answer})]},d))})]})}),p.jsx(Py,{isOpen:n,onClose:()=>r(!1)})]})},S4=()=>{const{categoryId:t}=kg(),e=Rs(),[n,r]=M.useState([]),[s,i]=M.useState(!0);M.useEffect(()=>{(async()=>{try{const l=_r(ot,"stars"),u=wy(l,Ey("category","==",t)),h=(await Iy(u)).docs.map(m=>({id:m.id,...m.data()}));r(h)}catch(l){console.error("Error fetching stars:",l)}finally{i(!1)}})()},[t]);const o={"pop-singer":{title:"Pop Singers",description:"Book talented pop singers for your events and performances.",image:"https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?auto=format&fit=crop&w=1920"},dj:{title:"DJs",description:"Find the perfect DJ for your party or event.",image:"https://images.unsplash.com/photo-1571266866051-47551e216e1c?auto=format&fit=crop&w=1920"},band:{title:"Bands",description:"Book amazing bands for live performances.",image:"https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?auto=format&fit=crop&w=1920"},"hip-hop":{title:"Hip-Hop Artists",description:"Connect with talented hip-hop artists for your events.",image:"https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?auto=format&fit=crop&w=1920"}}[t]||{title:"",description:"",image:""};return p.jsxs("div",{className:"min-h-screen bg-transparent",children:[p.jsxs("div",{className:"relative h-[10px] flex items-center justify-center text-white",children:[p.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${o.image})`}}),p.jsxs("div",{className:"relative z-10 text-center max-w-3xl mx-auto px-4",children:[p.jsx("h1",{className:"text-4xl font-bold mb-1 tracking-tight",children:o.title}),p.jsx("p",{className:"text-lg text-white/90",children:o.description})]})]}),p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsxs("div",{className:"bg-white/80 backdrop-blur-sm dark:bg-gray-800/80 rounded-lg shadow-lg p-4 -mt-1 mb-8 flex justify-around items-center relative z-10",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:n.length}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Available Stars"})]}),p.jsxs("div",{className:"text-center",children:[p.jsxs("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:["$",Math.min(...n.map(a=>a.hourlyRate||0))||0,"/hr"]}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Starting Price"})]})]}),s?p.jsx("div",{className:"flex items-center justify-center h-64",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-indigo-500 border-t-transparent"})}):n.length===0?p.jsxs("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-lg shadow",children:[p.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Stars Available"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Check back soon for updates"})]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(a=>{var l,u;return p.jsxs("div",{onClick:()=>e(`/star/${a.id}`),className:"group bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden cursor-pointer transform transition duration-300 hover:shadow-xl hover:-translate-y-1",children:[p.jsxs("div",{className:"relative",children:[p.jsx("img",{src:a.profilePicture||((l=a.advertisingImages)==null?void 0:l[0])||"/default-avatar.png",alt:a.name,className:"w-full h-56 object-cover group-hover:scale-105 transition-transform duration-300",onError:d=>{d.currentTarget.src="/default-avatar.png"}}),p.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-4",children:p.jsx("h3",{className:"text-xl font-semibold text-white",children:a.name})})]}),p.jsxs("div",{className:"p-5",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Os,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"}),p.jsx("span",{className:"ml-1 font-medium",children:a.rating||"New"})]}),p.jsxs("p",{className:"text-indigo-600 dark:text-indigo-400 font-bold",children:["$",a.hourlyRate,"/hr"]})]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:(u=a.specialties)==null?void 0:u.slice(0,3).map((d,h)=>p.jsx("span",{className:"px-3 py-1 rounded-full text-sm bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",children:d},h))})]})]},a.id)})})]})]})};function $I(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=$I(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yt(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=$I(t))&&(r&&(r+=" "),r+=e);return r}function gi(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function K(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function _l(t){if(!gi(t)&&typeof t!="number")return!1;const e=K(t);return!isNaN(Number(e))}const b4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},C4=(t,e,n)=>{let r;const s=b4[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function bf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const D4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},P4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},N4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R4={date:bf({formats:D4,defaultWidth:"full"}),time:bf({formats:P4,defaultWidth:"full"}),dateTime:bf({formats:N4,defaultWidth:"full"})},A4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},M4=(t,e,n,r)=>A4[t];function da(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const O4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},L4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},V4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},j4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},F4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},U4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},B4=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$4={ordinalNumber:B4,era:da({values:O4,defaultWidth:"wide"}),quarter:da({values:L4,defaultWidth:"wide",argumentCallback:t=>t-1}),month:da({values:V4,defaultWidth:"wide"}),day:da({values:j4,defaultWidth:"wide"}),dayPeriod:da({values:F4,defaultWidth:"wide",formattingValues:U4,defaultFormattingWidth:"wide"})};function ha(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?z4(a,h=>h.test(o)):W4(a,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function W4(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function z4(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function H4(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const Y4=/^(\d+)(th|st|nd|rd)?/i,q4=/\d+/i,K4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Q4={any:[/^b/i,/^(a|c)/i]},G4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},X4={any:[/1/i,/2/i,/3/i,/4/i]},J4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Z4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sV={ordinalNumber:H4({matchPattern:Y4,parsePattern:q4,valueCallback:t=>parseInt(t,10)}),era:ha({matchPatterns:K4,defaultMatchWidth:"wide",parsePatterns:Q4,defaultParseWidth:"any"}),quarter:ha({matchPatterns:G4,defaultMatchWidth:"wide",parsePatterns:X4,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ha({matchPatterns:J4,defaultMatchWidth:"wide",parsePatterns:Z4,defaultParseWidth:"any"}),day:ha({matchPatterns:eV,defaultMatchWidth:"wide",parsePatterns:tV,defaultParseWidth:"any"}),dayPeriod:ha({matchPatterns:nV,defaultMatchWidth:"any",parsePatterns:rV,defaultParseWidth:"any"})},WI={code:"en-US",formatDistance:C4,formatLong:R4,formatRelative:M4,localize:$4,match:sV,options:{weekStartsOn:0,firstWeekContainsDate:1}};let iV={};function Ci(){return iV}const zI=6048e5,oV=864e5,ah=6e4,lh=36e5,aV=1e3;function qn(t){const e=K(t);return e.setHours(0,0,0,0),e}function id(t){const e=K(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function wl(t,e){const n=qn(t),r=qn(e),s=+n-id(n),i=+r-id(r);return Math.round((s-i)/oV)}function ye(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function ch(t){const e=K(t),n=ye(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function lV(t){const e=K(t);return wl(e,ch(e))+1}function Pr(t,e){var a,l,u,d;const n=Ci(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=K(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function So(t){return Pr(t,{weekStartsOn:1})}function HI(t){const e=K(t),n=e.getFullYear(),r=ye(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=So(r),i=ye(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=So(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function cV(t){const e=HI(t),n=ye(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),So(n)}function Ny(t){const e=K(t),n=+So(e)-+cV(e);return Math.round(n/zI)+1}function Ry(t,e){var d,h,m,g;const n=K(t),r=n.getFullYear(),s=Ci(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,o=ye(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Pr(o,e),l=ye(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=Pr(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function uV(t,e){var a,l,u,d;const n=Ci(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Ry(t,e),i=ye(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Pr(i,e)}function YI(t,e){const n=K(t),r=+Pr(n,e)-+uV(n,e);return Math.round(r/zI)+1}function ge(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const jr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ge(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ge(n+1,2)},d(t,e){return ge(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ge(t.getHours()%12||12,e.length)},H(t,e){return ge(t.getHours(),e.length)},m(t,e){return ge(t.getMinutes(),e.length)},s(t,e){return ge(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ge(s,e.length)}},Mi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$w={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return jr.y(t,e)},Y:function(t,e,n,r){const s=Ry(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return ge(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):ge(i,e.length)},R:function(t,e){const n=HI(t);return ge(n,e.length)},u:function(t,e){const n=t.getFullYear();return ge(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ge(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ge(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return jr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ge(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=YI(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):ge(s,e.length)},I:function(t,e,n){const r=Ny(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ge(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):jr.d(t,e)},D:function(t,e,n){const r=lV(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ge(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ge(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ge(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return ge(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Mi.noon:r===0?s=Mi.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Mi.evening:r>=12?s=Mi.afternoon:r>=4?s=Mi.morning:s=Mi.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return jr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):jr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ge(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ge(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):jr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):jr.s(t,e)},S:function(t,e){return jr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return zw(r);case"XXXX":case"XX":return zs(r);case"XXXXX":case"XXX":default:return zs(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return zw(r);case"xxxx":case"xx":return zs(r);case"xxxxx":case"xxx":default:return zs(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Ww(r,":");case"OOOO":default:return"GMT"+zs(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Ww(r,":");case"zzzz":default:return"GMT"+zs(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ge(r,e.length)},T:function(t,e,n){const r=t.getTime();return ge(r,e.length)}};function Ww(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+ge(i,2)}function zw(t,e){return t%60===0?(t>0?"-":"+")+ge(Math.abs(t)/60,2):zs(t,e)}function zs(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=ge(Math.trunc(r/60),2),i=ge(r%60,2);return n+s+e+i}const Hw=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},qI=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},dV=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Hw(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Hw(r,e)).replace("{{time}}",qI(s,e))},od={p:qI,P:dV},hV=/^D+$/,fV=/^Y+$/,pV=["D","DD","YY","YYYY"];function KI(t){return hV.test(t)}function QI(t){return fV.test(t)}function fm(t,e,n){const r=mV(t,e,n);if(console.warn(r),pV.includes(t))throw new RangeError(r)}function mV(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const gV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vV=/^'([^]*?)'?$/,_V=/''/g,wV=/[a-zA-Z]/;function Yw(t,e,n){var d,h,m,g,v,T,b,w;const r=Ci(),s=(n==null?void 0:n.locale)??r.locale??WI,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((T=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:T.weekStartsOn)??r.weekStartsOn??((w=(b=r.locale)==null?void 0:b.options)==null?void 0:w.weekStartsOn)??0,a=K(t);if(!_l(a))throw new RangeError("Invalid time value");let l=e.match(yV).map(_=>{const x=_[0];if(x==="p"||x==="P"){const N=od[x];return N(_,s.formatLong)}return _}).join("").match(gV).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const x=_[0];if(x==="'")return{isToken:!1,value:EV(_)};if($w[x])return{isToken:!0,value:_};if(x.match(wV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:_}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(_=>{if(!_.isToken)return _.value;const x=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&QI(x)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&KI(x))&&fm(x,e,String(t));const N=$w[x[0]];return N(a,x,s.localize,u)}).join("")}function EV(t){const e=t.match(vV);return e?e[1].replace(_V,"'"):t}function Ay(t,e){const n=+K(t);return ye(t,n+e)}function pm(t,e){return Ay(t,e*ah)}function xV(t,e){return Ay(t,e*lh)}function Ls(t,e){const n=K(t);return isNaN(e)?ye(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function ad(t,e){const n=e*7;return Ls(t,n)}function Dn(t,e){const n=K(t);if(isNaN(e))return ye(t,NaN);if(!e)return n;const r=n.getDate(),s=ye(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function My(t,e){const n=e*3;return Dn(t,n)}function wr(t,e){return Dn(t,e*12)}function kV(t,e){return Ls(t,-e)}function qw(t,e){return ad(t,-e)}function bo(t,e){return Dn(t,-e)}function GI(t,e){return My(t,-e)}function Co(t,e){return wr(t,-e)}function Er(t){return K(t).getSeconds()}function Kn(t){return K(t).getMinutes()}function Qn(t){return K(t).getHours()}function TV(t){return K(t).getDay()}function Kw(t){return K(t).getDate()}function Lt(t){return K(t).getMonth()}function Zs(t){const e=K(t);return Math.trunc(e.getMonth()/3)+1}function re(t){return K(t).getFullYear()}function mm(t){return K(t).getTime()}function lu(t,e){const n=K(t);return n.setSeconds(e),n}function cu(t,e){const n=K(t);return n.setMinutes(e),n}function uu(t,e){const n=K(t);return n.setHours(e),n}function IV(t){const e=K(t),n=e.getFullYear(),r=e.getMonth(),s=ye(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function Ot(t,e){const n=K(t),r=n.getFullYear(),s=n.getDate(),i=ye(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const o=IV(i);return n.setMonth(e,Math.min(s,o)),n}function Fi(t,e){const n=K(t),r=Math.trunc(n.getMonth()/3)+1,s=e-r;return Ot(n,n.getMonth()+s*3)}function An(t,e){const n=K(t);return isNaN(+n)?ye(t,NaN):(n.setFullYear(e),n)}function Qw(t){let e;return t.forEach(n=>{const r=K(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Gw(t){let e;return t.forEach(function(n){const r=K(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function ld(t,e){const n=K(t),r=K(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function cd(t,e){const n=K(t),r=K(e);return n.getFullYear()-r.getFullYear()}function ud(t,e){const n=K(t),r=K(e),s=n.getFullYear()-r.getFullYear(),i=Zs(n)-Zs(r);return s*4+i}function XI(t){const e=K(t);return e.setDate(1),e.setHours(0,0,0,0),e}function gm(t){const e=K(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function ym(t){const e=K(t);return e.setHours(23,59,59,999),e}function SV(t,e){var a,l;const n=Ci(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,s=K(t),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function bV(t){const e=K(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function JI(t){const e=K(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function CV(t,e){const n=K(t),r=K(e);return+n==+r}function DV(t,e){const n=qn(t),r=qn(e);return+n==+r}function PV(t,e){const n=K(t),r=K(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function NV(t,e){const n=K(t),r=K(e);return n.getFullYear()===r.getFullYear()}function RV(t,e){const n=gm(t),r=gm(e);return+n==+r}function Is(t,e){const n=K(t),r=K(e);return n.getTime()>r.getTime()}function yi(t,e){const n=K(t),r=K(e);return+n<+r}function El(t,e){const n=+K(t),[r,s]=[+K(e.start),+K(e.end)].sort((i,o)=>i-o);return n>=r&&n<=s}function AV(){return Object.assign({},Ci())}function MV(t,e){const n=e instanceof Date?ye(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const OV=10;class ZI{constructor(){H(this,"subPriority",0)}validate(e,n){return!0}}class LV extends ZI{constructor(e,n,r,s,i){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=s,i&&(this.subPriority=i)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class VV extends ZI{constructor(){super(...arguments);H(this,"priority",OV);H(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:ye(n,MV(n,Date))}}class pe{run(e,n,r,s){const i=this.parse(e,n,r,s);return i?{setter:new LV(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,n,r){return!0}}class jV extends pe{constructor(){super(...arguments);H(this,"priority",140);H(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,r,s){return r.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}const qe={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Vn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ke(t,e){return t&&{value:e(t.value),rest:t.rest}}function Ae(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function jn(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(s*lh+i*ah+o*aV),rest:e.slice(n[0].length)}}function eS(t){return Ae(qe.anyDigitsSigned,t)}function Ue(t,e){switch(t){case 1:return Ae(qe.singleDigit,e);case 2:return Ae(qe.twoDigits,e);case 3:return Ae(qe.threeDigits,e);case 4:return Ae(qe.fourDigits,e);default:return Ae(new RegExp("^\\d{1,"+t+"}"),e)}}function dd(t,e){switch(t){case 1:return Ae(qe.singleDigitSigned,e);case 2:return Ae(qe.twoDigitsSigned,e);case 3:return Ae(qe.threeDigitsSigned,e);case 4:return Ae(qe.fourDigitsSigned,e);default:return Ae(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Oy(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function tS(t,e){const n=e>0,r=n?e:1-e;let s;if(r<=50)s=t||100;else{const i=r+50,o=Math.trunc(i/100)*100,a=t>=i%100;s=t+o-(a?100:0)}return n?s:1-s}function nS(t){return t%400===0||t%4===0&&t%100!==0}class FV extends pe{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Ke(Ue(4,n),i);case"yo":return Ke(s.ordinalNumber(n,{unit:"year"}),i);default:return Ke(Ue(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s){const i=n.getFullYear();if(s.isTwoDigitYear){const a=tS(s.year,i);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class UV extends pe{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Ke(Ue(4,n),i);case"Yo":return Ke(s.ordinalNumber(n,{unit:"year"}),i);default:return Ke(Ue(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s,i){const o=Ry(n,i);if(s.isTwoDigitYear){const l=tS(s.year,o);return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Pr(n,i)}const a=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(a,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Pr(n,i)}}class BV extends pe{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return dd(r==="R"?4:r.length,n)}set(n,r,s){const i=ye(n,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),So(i)}}class $V extends pe{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return dd(r==="u"?4:r.length,n)}set(n,r,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class WV extends pe{constructor(){super(...arguments);H(this,"priority",120);H(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"Q":case"QQ":return Ue(r.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class zV extends pe{constructor(){super(...arguments);H(this,"priority",120);H(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"q":case"qq":return Ue(r.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class HV extends pe{constructor(){super(...arguments);H(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);H(this,"priority",110)}parse(n,r,s){const i=o=>o-1;switch(r){case"M":return Ke(Ae(qe.month,n),i);case"MM":return Ke(Ue(2,n),i);case"Mo":return Ke(s.ordinalNumber(n,{unit:"month"}),i);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}class YV extends pe{constructor(){super(...arguments);H(this,"priority",110);H(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,s){const i=o=>o-1;switch(r){case"L":return Ke(Ae(qe.month,n),i);case"LL":return Ke(Ue(2,n),i);case"Lo":return Ke(s.ordinalNumber(n,{unit:"month"}),i);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}function qV(t,e,n){const r=K(t),s=YI(r,n)-e;return r.setDate(r.getDate()-s*7),r}class KV extends pe{constructor(){super(...arguments);H(this,"priority",100);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,s){switch(r){case"w":return Ae(qe.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return Ue(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s,i){return Pr(qV(n,s,i),i)}}function QV(t,e){const n=K(t),r=Ny(n)-e;return n.setDate(n.getDate()-r*7),n}class GV extends pe{constructor(){super(...arguments);H(this,"priority",100);H(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,s){switch(r){case"I":return Ae(qe.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return Ue(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s){return So(QV(n,s))}}const XV=[31,28,31,30,31,30,31,31,30,31,30,31],JV=[31,29,31,30,31,30,31,31,30,31,30,31];class ZV extends pe{constructor(){super(...arguments);H(this,"priority",90);H(this,"subPriority",1);H(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"d":return Ae(qe.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return Ue(r.length,n)}}validate(n,r){const s=n.getFullYear(),i=nS(s),o=n.getMonth();return i?r>=1&&r<=JV[o]:r>=1&&r<=XV[o]}set(n,r,s){return n.setDate(s),n.setHours(0,0,0,0),n}}class ej extends pe{constructor(){super(...arguments);H(this,"priority",90);H(this,"subpriority",1);H(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,s){switch(r){case"D":case"DD":return Ae(qe.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return Ue(r.length,n)}}validate(n,r){const s=n.getFullYear();return nS(s)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}function Ly(t,e,n){var h,m,g,v;const r=Ci(),s=(n==null?void 0:n.weekStartsOn)??((m=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((v=(g=r.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,i=K(t),o=i.getDay(),l=(e%7+7)%7,u=7-s,d=e<0||e>6?e-(o+u)%7:(l+u)%7-(o+u)%7;return Ls(i,d)}class tj extends pe{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=Ly(n,s,i),n.setHours(0,0,0,0),n}}class nj extends pe{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Ke(Ue(r.length,n),o);case"eo":return Ke(s.ordinalNumber(n,{unit:"day"}),o);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=Ly(n,s,i),n.setHours(0,0,0,0),n}}class rj extends pe{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Ke(Ue(r.length,n),o);case"co":return Ke(s.ordinalNumber(n,{unit:"day"}),o);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=Ly(n,s,i),n.setHours(0,0,0,0),n}}function sj(t){let n=K(t).getDay();return n===0&&(n=7),n}function ij(t,e){const n=K(t),r=sj(n),s=e-r;return Ls(n,s)}class oj extends pe{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,s){const i=o=>o===0?7:o;switch(r){case"i":case"ii":return Ue(r.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return Ke(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return Ke(s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Ke(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Ke(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,r){return r>=1&&r<=7}set(n,r,s){return n=ij(n,s),n.setHours(0,0,0,0),n}}class aj extends pe{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Oy(s),0,0,0),n}}class lj extends pe{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Oy(s),0,0,0),n}}class cj extends pe{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Oy(s),0,0,0),n}}class uj extends pe{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,s){switch(r){case"h":return Ae(qe.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return Ue(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,s){const i=n.getHours()>=12;return i&&s<12?n.setHours(s+12,0,0,0):!i&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}class dj extends pe{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,s){switch(r){case"H":return Ae(qe.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return Ue(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,s){return n.setHours(s,0,0,0),n}}class hj extends pe{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,s){switch(r){case"K":return Ae(qe.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return Ue(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}class fj extends pe{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,s){switch(r){case"k":return Ae(qe.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return Ue(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,s){const i=s<=24?s%24:s;return n.setHours(i,0,0,0),n}}class pj extends pe{constructor(){super(...arguments);H(this,"priority",60);H(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"m":return Ae(qe.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return Ue(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setMinutes(s,0,0),n}}class mj extends pe{constructor(){super(...arguments);H(this,"priority",50);H(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"s":return Ae(qe.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return Ue(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setSeconds(s,0),n}}class gj extends pe{constructor(){super(...arguments);H(this,"priority",30);H(this,"incompatibleTokens",["t","T"])}parse(n,r){const s=i=>Math.trunc(i*Math.pow(10,-r.length+3));return Ke(Ue(r.length,n),s)}set(n,r,s){return n.setMilliseconds(s),n}}class yj extends pe{constructor(){super(...arguments);H(this,"priority",10);H(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return jn(Vn.basicOptionalMinutes,n);case"XX":return jn(Vn.basic,n);case"XXXX":return jn(Vn.basicOptionalSeconds,n);case"XXXXX":return jn(Vn.extendedOptionalSeconds,n);case"XXX":default:return jn(Vn.extended,n)}}set(n,r,s){return r.timestampIsSet?n:ye(n,n.getTime()-id(n)-s)}}class vj extends pe{constructor(){super(...arguments);H(this,"priority",10);H(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return jn(Vn.basicOptionalMinutes,n);case"xx":return jn(Vn.basic,n);case"xxxx":return jn(Vn.basicOptionalSeconds,n);case"xxxxx":return jn(Vn.extendedOptionalSeconds,n);case"xxx":default:return jn(Vn.extended,n)}}set(n,r,s){return r.timestampIsSet?n:ye(n,n.getTime()-id(n)-s)}}class _j extends pe{constructor(){super(...arguments);H(this,"priority",40);H(this,"incompatibleTokens","*")}parse(n){return eS(n)}set(n,r,s){return[ye(n,s*1e3),{timestampIsSet:!0}]}}class wj extends pe{constructor(){super(...arguments);H(this,"priority",20);H(this,"incompatibleTokens","*")}parse(n){return eS(n)}set(n,r,s){return[ye(n,s),{timestampIsSet:!0}]}}const Ej={G:new jV,y:new FV,Y:new UV,R:new BV,u:new $V,Q:new WV,q:new zV,M:new HV,L:new YV,w:new KV,I:new GV,d:new ZV,D:new ej,E:new tj,e:new nj,c:new rj,i:new oj,a:new aj,b:new lj,B:new cj,h:new uj,H:new dj,K:new hj,k:new fj,m:new pj,s:new mj,S:new gj,X:new yj,x:new vj,t:new _j,T:new wj},xj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tj=/^'([^]*?)'?$/,Ij=/''/g,Sj=/\S/,bj=/[a-zA-Z]/;function Cf(t,e,n,r){var T,b,w,_,x,N,L,F;const s=AV(),i=(r==null?void 0:r.locale)??s.locale??WI,o=(r==null?void 0:r.firstWeekContainsDate)??((b=(T=r==null?void 0:r.locale)==null?void 0:T.options)==null?void 0:b.firstWeekContainsDate)??s.firstWeekContainsDate??((_=(w=s.locale)==null?void 0:w.options)==null?void 0:_.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((N=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:N.weekStartsOn)??s.weekStartsOn??((F=(L=s.locale)==null?void 0:L.options)==null?void 0:F.weekStartsOn)??0;if(e==="")return t===""?K(n):ye(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:i},u=[new VV],d=e.match(kj).map(I=>{const E=I[0];if(E in od){const C=od[E];return C(I,i.formatLong)}return I}).join("").match(xj),h=[];for(let I of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&QI(I)&&fm(I,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&KI(I)&&fm(I,e,t);const E=I[0],C=Ej[E];if(C){const{incompatibleTokens:D}=C;if(Array.isArray(D)){const A=h.find(P=>D.includes(P.token)||P.token===E);if(A)throw new RangeError(`The format string mustn't contain \`${A.fullToken}\` and \`${I}\` at the same time`)}else if(C.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${I}\` and any other token at the same time`);h.push({token:E,fullToken:I});const R=C.run(t,I,i.match,l);if(!R)return ye(n,NaN);u.push(R.setter),t=R.rest}else{if(E.match(bj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if(I==="''"?I="'":E==="'"&&(I=Cj(I)),t.indexOf(I)===0)t=t.slice(I.length);else return ye(n,NaN)}}if(t.length>0&&Sj.test(t))return ye(n,NaN);const m=u.map(I=>I.priority).sort((I,E)=>E-I).filter((I,E,C)=>C.indexOf(I)===E).map(I=>u.filter(E=>E.priority===I).sort((E,C)=>C.subPriority-E.subPriority)).map(I=>I[0]);let g=K(n);if(isNaN(g.getTime()))return ye(n,NaN);const v={};for(const I of m){if(!I.validate(g,l))return ye(n,NaN);const E=I.set(g,v,l);Array.isArray(E)?(g=E[0],Object.assign(v,E[1])):g=E}return ye(n,g)}function Cj(t){return t.match(Tj)[1].replace(Ij,"'")}function Dj(t,e){const r=Aj(t);let s;if(r.date){const l=Mj(r.date,2);s=Oj(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,a;if(r.time&&(o=Lj(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=Vj(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(i+o),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(i+o+a)}const Nc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Pj=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Nj=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Rj=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Aj(t){const e={},n=t.split(Nc.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Nc.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Nc.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=Nc.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function Mj(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function Oj(t,e){if(e===null)return new Date(NaN);const n=t.match(Pj);if(!n)return new Date(NaN);const r=!!n[4],s=fa(n[1]),i=fa(n[2])-1,o=fa(n[3]),a=fa(n[4]),l=fa(n[5])-1;if(r)return $j(e,a,l)?jj(e,a,l):new Date(NaN);{const u=new Date(0);return!Uj(e,i,o)||!Bj(e,s)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(s,o)),u)}}function fa(t){return t?parseInt(t):1}function Lj(t){const e=t.match(Nj);if(!e)return NaN;const n=Df(e[1]),r=Df(e[2]),s=Df(e[3]);return Wj(n,r,s)?n*lh+r*ah+s*1e3:NaN}function Df(t){return t&&parseFloat(t.replace(",","."))||0}function Vj(t){if(t==="Z")return 0;const e=t.match(Rj);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return zj(r,s)?n*(r*lh+s*ah):NaN}function jj(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const Fj=[31,null,31,30,31,30,31,31,30,31,30,31];function rS(t){return t%400===0||t%4===0&&t%100!==0}function Uj(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(Fj[e]||(rS(t)?29:28))}function Bj(t,e){return e>=1&&e<=(rS(t)?366:365)}function $j(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Wj(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function zj(t,e){return e>=0&&e<=59}function Hj(t,e){return Ay(t,e*1e3)}function Yj(t,e){let n=K(t);return isNaN(+n)?ye(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=Ot(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function qj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,vm(t,e)}function vm(t,e){return vm=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},vm(t,e)}function Kj(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Xw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qj(t,e,n){return t===e?!0:t.correspondingElement?t.correspondingElement.classList.contains(n):t.classList.contains(n)}function Gj(t,e,n){if(t===e)return!0;for(;t.parentNode||t.host;){if(t.parentNode&&Qj(t,e,n))return!0;t=t.parentNode||t.host}return t}function Xj(t){return document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY}var Jj=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var e=!1,n=Object.defineProperty({},"passive",{get:function(){e=!0}}),r=function(){};return window.addEventListener("testPassiveEventSupport",r,n),window.removeEventListener("testPassiveEventSupport",r,n),e}};function Zj(t){return t===void 0&&(t=0),function(){return++t}}var eF=Zj(),_m,Rc={},Pf={},tF=["touchstart","touchmove"],nF="ignore-react-onclickoutside";function Jw(t,e){var n={},r=tF.indexOf(e)!==-1;return r&&_m&&(n.passive=!t.props.preventDefault),n}function uh(t,e){var n,r,s=t.displayName||t.name||"Component";return r=n=function(i){qj(o,i);function o(l){var u;return u=i.call(this,l)||this,u.__outsideClickHandler=function(d){if(typeof u.__clickOutsideHandlerProp=="function"){u.__clickOutsideHandlerProp(d);return}var h=u.getInstance();if(typeof h.props.handleClickOutside=="function"){h.props.handleClickOutside(d);return}if(typeof h.handleClickOutside=="function"){h.handleClickOutside(d);return}throw new Error("WrappedComponent: "+s+" lacks a handleClickOutside(event) function for processing outside click events.")},u.__getComponentNode=function(){var d=u.getInstance();return typeof d.setClickOutsideRef=="function"?d.setClickOutsideRef():Od.findDOMNode(d)},u.enableOnClickOutside=function(){if(!(typeof document>"u"||Pf[u._uid])){typeof _m>"u"&&(_m=Jj()),Pf[u._uid]=!0;var d=u.props.eventTypes;d.forEach||(d=[d]),Rc[u._uid]=function(h){if(u.componentNode!==null&&!(u.initTimeStamp>h.timeStamp)&&(u.props.preventDefault&&h.preventDefault(),u.props.stopPropagation&&h.stopPropagation(),!(u.props.excludeScrollbar&&Xj(h)))){var m=h.composed&&h.composedPath&&h.composedPath().shift()||h.target;Gj(m,u.componentNode,u.props.outsideClickIgnoreClass)===document&&u.__outsideClickHandler(h)}},d.forEach(function(h){document.addEventListener(h,Rc[u._uid],Jw(Xw(u),h))})}},u.disableOnClickOutside=function(){delete Pf[u._uid];var d=Rc[u._uid];if(d&&typeof document<"u"){var h=u.props.eventTypes;h.forEach||(h=[h]),h.forEach(function(m){return document.removeEventListener(m,d,Jw(Xw(u),m))}),delete Rc[u._uid]}},u.getRef=function(d){return u.instanceRef=d},u._uid=eF(),u.initTimeStamp=performance.now(),u}var a=o.prototype;return a.getInstance=function(){if(t.prototype&&!t.prototype.isReactComponent)return this;var u=this.instanceRef;return u.getInstance?u.getInstance():u},a.componentDidMount=function(){typeof document>"u"||!document.createElement||(this.getInstance(),this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside())},a.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},a.componentWillUnmount=function(){this.disableOnClickOutside()},a.render=function(){var u=this.props;u.excludeScrollbar;var d=Kj(u,["excludeScrollbar"]);return t.prototype&&t.prototype.isReactComponent?d.ref=this.getRef:d.wrappedRef=this.getRef,d.disableOnClickOutside=this.disableOnClickOutside,d.enableOnClickOutside=this.enableOnClickOutside,M.createElement(t,d)},o}(M.Component),n.displayName="OnClickOutside("+s+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:!1,outsideClickIgnoreClass:nF,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return t.getClass?t.getClass():t},r}function dh(){return typeof window<"u"}function Wo(t){return sS(t)?(t.nodeName||"").toLowerCase():"#document"}function tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tr(t){var e;return(e=(sS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function sS(t){return dh()?t instanceof Node||t instanceof tn(t).Node:!1}function Vt(t){return dh()?t instanceof Element||t instanceof tn(t).Element:!1}function Jn(t){return dh()?t instanceof HTMLElement||t instanceof tn(t).HTMLElement:!1}function Zw(t){return!dh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tn(t).ShadowRoot}function Bl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=mn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function rF(t){return["table","td","th"].includes(Wo(t))}function hh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Vy(t){const e=jy(),n=Vt(t)?mn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function sF(t){let e=Ss(t);for(;Jn(e)&&!Do(e);){if(Vy(e))return e;if(hh(e))return null;e=Ss(e)}return null}function jy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Do(t){return["html","body","#document"].includes(Wo(t))}function mn(t){return tn(t).getComputedStyle(t)}function fh(t){return Vt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ss(t){if(Wo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Zw(t)&&t.host||tr(t);return Zw(e)?e.host:e}function iS(t){const e=Ss(t);return Do(e)?t.ownerDocument?t.ownerDocument.body:t.body:Jn(e)&&Bl(e)?e:iS(e)}function xl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=iS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=tn(s);if(i){const a=wm(o);return e.concat(o,o.visualViewport||[],Bl(s)?s:[],a&&n?xl(a):[])}return e.concat(s,xl(s,[],n))}function wm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Po=Math.min,ei=Math.max,hd=Math.round,Ac=Math.floor,Gn=t=>({x:t,y:t}),iF={left:"right",right:"left",bottom:"top",top:"bottom"},oF={start:"end",end:"start"};function aF(t,e,n){return ei(t,Po(e,n))}function ph(t,e){return typeof t=="function"?t(e):t}function No(t){return t.split("-")[0]}function $l(t){return t.split("-")[1]}function lF(t){return t==="x"?"y":"x"}function Fy(t){return t==="y"?"height":"width"}function kl(t){return["top","bottom"].includes(No(t))?"y":"x"}function Uy(t){return lF(kl(t))}function cF(t,e,n){n===void 0&&(n=!1);const r=$l(t),s=Uy(t),i=Fy(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=fd(o)),[o,fd(o)]}function uF(t){const e=fd(t);return[Em(t),e,Em(e)]}function Em(t){return t.replace(/start|end/g,e=>oF[e])}function dF(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function hF(t,e,n,r){const s=$l(t);let i=dF(No(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Em)))),i}function fd(t){return t.replace(/left|right|bottom|top/g,e=>iF[e])}function fF(t){return{top:0,right:0,bottom:0,left:0,...t}}function oS(t){return typeof t!="number"?fF(t):{top:t,right:t,bottom:t,left:t}}function pd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function eE(t,e,n){let{reference:r,floating:s}=t;const i=kl(e),o=Uy(e),a=Fy(o),l=No(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch($l(e)){case"start":g[o]-=m*(n&&u?-1:1);break;case"end":g[o]+=m*(n&&u?-1:1);break}return g}const pF=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=eE(u,r,l),m=r,g={},v=0;for(let T=0;T<a.length;T++){const{name:b,fn:w}=a[T],{x:_,y:x,data:N,reset:L}=await w({x:d,y:h,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,h=x??h,g={...g,[b]:{...g[b],...N}},L&&v<=50&&(v++,typeof L=="object"&&(L.placement&&(m=L.placement),L.rects&&(u=L.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):L.rects),{x:d,y:h}=eE(u,m,l)),T=-1)}return{x:d,y:h,placement:m,strategy:s,middlewareData:g}};async function mF(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=ph(e,t),v=oS(g),b=a[m?h==="floating"?"reference":"floating":h],w=pd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),_=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},L=pd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:x,strategy:l}):_);return{top:(w.top-L.top+v.top)/N.y,bottom:(L.bottom-w.bottom+v.bottom)/N.y,left:(w.left-L.left+v.left)/N.x,right:(L.right-w.right+v.right)/N.x}}const gF=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=ph(t,e)||{};if(u==null)return{};const h=oS(d),m={x:n,y:r},g=Uy(s),v=Fy(g),T=await o.getDimensions(u),b=g==="y",w=b?"top":"left",_=b?"bottom":"right",x=b?"clientHeight":"clientWidth",N=i.reference[v]+i.reference[g]-m[g]-i.floating[v],L=m[g]-i.reference[g],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=F?F[x]:0;(!I||!await(o.isElement==null?void 0:o.isElement(F)))&&(I=a.floating[x]||i.floating[v]);const E=N/2-L/2,C=I/2-T[v]/2-1,D=Po(h[w],C),R=Po(h[_],C),A=D,P=I-T[v]-R,ae=I/2-T[v]/2+E,Ze=aF(A,ae,P),Te=!l.arrow&&$l(s)!=null&&ae!==Ze&&i.reference[v]/2-(ae<A?D:R)-T[v]/2<0,xe=Te?ae<A?ae-A:ae-P:0;return{[g]:m[g]+xe,data:{[g]:Ze,centerOffset:ae-Ze-xe,...Te&&{alignmentOffset:xe}},reset:Te}}}),yF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:T=!0,...b}=ph(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=No(s),_=kl(a),x=No(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(u.floating)),L=m||(x||!T?[fd(a)]:uF(a)),F=v!=="none";!m&&F&&L.push(...hF(a,T,v,N));const I=[a,...L],E=await mF(e,b),C=[];let D=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&C.push(E[w]),h){const ae=cF(s,o,N);C.push(E[ae[0]],E[ae[1]])}if(D=[...D,{placement:s,overflows:C}],!C.every(ae=>ae<=0)){var R,A;const ae=(((R=i.flip)==null?void 0:R.index)||0)+1,Ze=I[ae];if(Ze)return{data:{index:ae,overflows:D},reset:{placement:Ze}};let Te=(A=D.filter(xe=>xe.overflows[0]<=0).sort((xe,$)=>xe.overflows[1]-$.overflows[1])[0])==null?void 0:A.placement;if(!Te)switch(g){case"bestFit":{var P;const xe=(P=D.filter($=>{if(F){const G=kl($.placement);return G===_||G==="y"}return!0}).map($=>[$.placement,$.overflows.filter(G=>G>0).reduce((G,J)=>G+J,0)]).sort(($,G)=>$[1]-G[1])[0])==null?void 0:P[0];xe&&(Te=xe);break}case"initialPlacement":Te=a;break}if(s!==Te)return{reset:{placement:Te}}}return{}}}};async function vF(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=No(n),a=$l(n),l=kl(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,h=ph(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),l?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const _F=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await vF(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}};function aS(t){const e=mn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Jn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=hd(n)!==i||hd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function By(t){return Vt(t)?t:t.contextElement}function lo(t){const e=By(t);if(!Jn(e))return Gn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=aS(e);let o=(i?hd(n.width):n.width)/r,a=(i?hd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const wF=Gn(0);function lS(t){const e=tn(t);return!jy()||!e.visualViewport?wF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function EF(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==tn(t)?!1:e}function vi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=By(t);let o=Gn(1);e&&(r?Vt(r)&&(o=lo(r)):o=lo(t));const a=EF(i,n,r)?lS(i):Gn(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const m=tn(i),g=r&&Vt(r)?tn(r):r;let v=m,T=wm(v);for(;T&&r&&g!==v;){const b=lo(T),w=T.getBoundingClientRect(),_=mn(T),x=w.left+(T.clientLeft+parseFloat(_.paddingLeft))*b.x,N=w.top+(T.clientTop+parseFloat(_.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,h*=b.y,l+=x,u+=N,v=tn(T),T=wm(v)}}return pd({width:d,height:h,x:l,y:u})}function $y(t,e){const n=fh(t).scrollLeft;return e?e.left+n:vi(tr(t)).left+n}function cS(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:$y(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function xF(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=tr(r),a=e?hh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Gn(1);const d=Gn(0),h=Jn(r);if((h||!h&&!i)&&((Wo(r)!=="body"||Bl(o))&&(l=fh(r)),Jn(r))){const g=vi(r);u=lo(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const m=o&&!h&&!i?cS(o,l,!0):Gn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-l.scrollTop*u.y+d.y+m.y}}function kF(t){return Array.from(t.getClientRects())}function TF(t){const e=tr(t),n=fh(t),r=t.ownerDocument.body,s=ei(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=ei(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+$y(t);const a=-n.scrollTop;return mn(r).direction==="rtl"&&(o+=ei(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function IF(t,e){const n=tn(t),r=tr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=jy();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function SF(t,e){const n=vi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Jn(t)?lo(t):Gn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function tE(t,e,n){let r;if(e==="viewport")r=IF(t,n);else if(e==="document")r=TF(tr(t));else if(Vt(e))r=SF(e,n);else{const s=lS(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return pd(r)}function uS(t,e){const n=Ss(t);return n===e||!Vt(n)||Do(n)?!1:mn(n).position==="fixed"||uS(n,e)}function bF(t,e){const n=e.get(t);if(n)return n;let r=xl(t,[],!1).filter(a=>Vt(a)&&Wo(a)!=="body"),s=null;const i=mn(t).position==="fixed";let o=i?Ss(t):t;for(;Vt(o)&&!Do(o);){const a=mn(o),l=Vy(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Bl(o)&&!l&&uS(t,o))?r=r.filter(d=>d!==o):s=a,o=Ss(o)}return e.set(t,r),r}function CF(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?hh(e)?[]:bF(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=tE(e,d,s);return u.top=ei(h.top,u.top),u.right=Po(h.right,u.right),u.bottom=Po(h.bottom,u.bottom),u.left=ei(h.left,u.left),u},tE(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function DF(t){const{width:e,height:n}=aS(t);return{width:e,height:n}}function PF(t,e,n){const r=Jn(e),s=tr(e),i=n==="fixed",o=vi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Gn(0);if(r||!r&&!i)if((Wo(e)!=="body"||Bl(s))&&(a=fh(e)),r){const m=vi(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=$y(s));const u=s&&!r&&!i?cS(s,a):Gn(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function Nf(t){return mn(t).position==="static"}function nE(t,e){if(!Jn(t)||mn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return tr(t)===n&&(n=n.ownerDocument.body),n}function dS(t,e){const n=tn(t);if(hh(t))return n;if(!Jn(t)){let s=Ss(t);for(;s&&!Do(s);){if(Vt(s)&&!Nf(s))return s;s=Ss(s)}return n}let r=nE(t,e);for(;r&&rF(r)&&Nf(r);)r=nE(r,e);return r&&Do(r)&&Nf(r)&&!Vy(r)?n:r||sF(t)||n}const NF=async function(t){const e=this.getOffsetParent||dS,n=this.getDimensions,r=await n(t.floating);return{reference:PF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function RF(t){return mn(t).direction==="rtl"}const AF={convertOffsetParentRelativeRectToViewportRelativeRect:xF,getDocumentElement:tr,getClippingRect:CF,getOffsetParent:dS,getElementRects:NF,getClientRects:kF,getDimensions:DF,getScale:lo,isElement:Vt,isRTL:RF};function hS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function MF(t,e){let n=null,r;const s=tr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:m,height:g}=u;if(a||e(),!m||!g)return;const v=Ac(h),T=Ac(s.clientWidth-(d+m)),b=Ac(s.clientHeight-(h+g)),w=Ac(d),x={rootMargin:-v+"px "+-T+"px "+-b+"px "+-w+"px",threshold:ei(0,Po(1,l))||1};let N=!0;function L(F){const I=F[0].intersectionRatio;if(I!==l){if(!N)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!hS(u,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(L,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(L,x)}n.observe(t)}return o(!0),i}function OF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=By(t),d=s||i?[...u?xl(u):[],...xl(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const h=u&&a?MF(u,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(w=>{let[_]=w;_&&_.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=g)==null||x.observe(e)})),n()}),u&&!l&&g.observe(u),g.observe(e));let v,T=l?vi(t):null;l&&b();function b(){const w=vi(t);T&&!hS(T,w)&&n(),T=w,v=requestAnimationFrame(b)}return n(),()=>{var w;d.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),h==null||h(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const LF=_F,VF=yF,rE=gF,jF=(t,e,n)=>{const r=new Map,s={platform:AF,...n},i={...s.platform,_c:r};return pF(t,e,{...s,platform:i})};var du=typeof document<"u"?M.useLayoutEffect:M.useEffect;function md(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!md(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!md(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function fS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function sE(t,e){const n=fS(t);return Math.round(e*n)/n}function Rf(t){const e=M.useRef(t);return du(()=>{e.current=t}),e}function FF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=M.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=M.useState(r);md(m,r)||g(r);const[v,T]=M.useState(null),[b,w]=M.useState(null),_=M.useCallback($=>{$!==F.current&&(F.current=$,T($))},[]),x=M.useCallback($=>{$!==I.current&&(I.current=$,w($))},[]),N=i||v,L=o||b,F=M.useRef(null),I=M.useRef(null),E=M.useRef(d),C=l!=null,D=Rf(l),R=Rf(s),A=Rf(u),P=M.useCallback(()=>{if(!F.current||!I.current)return;const $={placement:e,strategy:n,middleware:m};R.current&&($.platform=R.current),jF(F.current,I.current,$).then(G=>{const J={...G,isPositioned:A.current!==!1};ae.current&&!md(E.current,J)&&(E.current=J,Od.flushSync(()=>{h(J)}))})},[m,e,n,R,A]);du(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h($=>({...$,isPositioned:!1})))},[u]);const ae=M.useRef(!1);du(()=>(ae.current=!0,()=>{ae.current=!1}),[]),du(()=>{if(N&&(F.current=N),L&&(I.current=L),N&&L){if(D.current)return D.current(N,L,P);P()}},[N,L,P,D,C]);const Ze=M.useMemo(()=>({reference:F,floating:I,setReference:_,setFloating:x}),[_,x]),Te=M.useMemo(()=>({reference:N,floating:L}),[N,L]),xe=M.useMemo(()=>{const $={position:n,left:0,top:0};if(!Te.floating)return $;const G=sE(Te.floating,d.x),J=sE(Te.floating,d.y);return a?{...$,transform:"translate("+G+"px, "+J+"px)",...fS(Te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:J}},[n,a,Te.floating,d.x,d.y]);return M.useMemo(()=>({...d,update:P,refs:Ze,elements:Te,floatingStyles:xe}),[d,P,Ze,Te,xe])}const UF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?rE({element:r.current,padding:s}).fn(n):{}:r?rE({element:r,padding:s}).fn(n):{}}}},BF=(t,e)=>({...LF(t),options:[t,e]}),$F=(t,e)=>({...VF(t),options:[t,e]}),WF=(t,e)=>({...UF(t),options:[t,e]}),pS={...zE},zF=pS.useInsertionEffect,HF=zF||(t=>t());function YF(t){const e=M.useRef(()=>{});return HF(()=>{e.current=t}),M.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}var gd=typeof document<"u"?M.useLayoutEffect:M.useEffect;function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xm.apply(this,arguments)}let iE=!1,qF=0;const oE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+qF++;function KF(){const[t,e]=M.useState(()=>iE?oE():void 0);return gd(()=>{t==null&&e(oE())},[]),M.useEffect(()=>{iE=!0},[]),t}const QF=pS.useId,mS=QF||KF,GF=M.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:s},middlewareData:{arrow:i,shift:o}},width:a=14,height:l=7,tipRadius:u=0,strokeWidth:d=0,staticOffset:h,stroke:m,d:g,style:{transform:v,...T}={},...b}=e,w=mS(),[_,x]=M.useState(!1);if(gd(()=>{if(!s)return;mn(s).direction==="rtl"&&x(!0)},[s]),!s)return null;const[N,L]=r.split("-"),F=N==="top"||N==="bottom";let I=h;(F&&o!=null&&o.x||!F&&o!=null&&o.y)&&(I=null);const E=d*2,C=E/2,D=a/2*(u/-8+1),R=l/2*u/4,A=!!g,P=I&&L==="end"?"bottom":"top";let ae=I&&L==="end"?"right":"left";I&&_&&(ae=L==="end"?"left":"right");const Ze=(i==null?void 0:i.x)!=null?I||i.x:"",Te=(i==null?void 0:i.y)!=null?I||i.y:"",xe=g||"M0,0"+(" H"+a)+(" L"+(a-D)+","+(l-R))+(" Q"+a/2+","+l+" "+D+","+(l-R))+" Z",$={top:A?"rotate(180deg)":"",left:A?"rotate(90deg)":"rotate(-90deg)",bottom:A?"":"rotate(180deg)",right:A?"rotate(-90deg)":"rotate(90deg)"}[N];return M.createElement("svg",xm({},b,{"aria-hidden":!0,ref:n,width:A?a:a+E,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[ae]:Ze,[P]:Te,[N]:F||A?"100%":"calc(100% - "+E/2+"px)",transform:[$,v].filter(G=>!!G).join(" "),...T}}),E>0&&M.createElement("path",{clipPath:"url(#"+w+")",fill:"none",stroke:m,strokeWidth:E+(g?0:1),d:xe}),M.createElement("path",{stroke:E&&!g?b.fill:"none",d:xe}),M.createElement("clipPath",{id:w},M.createElement("rect",{x:-C,y:C*(A?-1:1),width:a+E,height:a})))});function XF(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(s=>s(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(s=>s!==n))||[])}}}const JF=M.createContext(null),ZF=M.createContext(null),eU=()=>{var t;return((t=M.useContext(JF))==null?void 0:t.id)||null},tU=()=>M.useContext(ZF);function nU(t){const{open:e=!1,onOpenChange:n,elements:r}=t,s=mS(),i=M.useRef({}),[o]=M.useState(()=>XF()),a=eU()!=null,[l,u]=M.useState(r.reference),d=YF((g,v,T)=>{i.current.openEvent=g?v:void 0,o.emit("openchange",{open:g,event:v,reason:T,nested:a}),n==null||n(g,v,T)}),h=M.useMemo(()=>({setPositionReference:u}),[]),m=M.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return M.useMemo(()=>({dataRef:i,open:e,onOpenChange:d,elements:m,events:o,floatingId:s,refs:h}),[e,d,m,o,s,h])}function rU(t){t===void 0&&(t={});const{nodeId:e}=t,n=nU({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,s=r.elements,[i,o]=M.useState(null),[a,l]=M.useState(null),d=(s==null?void 0:s.domReference)||i,h=M.useRef(null),m=tU();gd(()=>{d&&(h.current=d)},[d]);const g=FF({...t,elements:{...s,...a&&{reference:a}}}),v=M.useCallback(x=>{const N=Vt(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;l(N),g.refs.setReference(N)},[g.refs]),T=M.useCallback(x=>{(Vt(x)||x===null)&&(h.current=x,o(x)),(Vt(g.refs.reference.current)||g.refs.reference.current===null||x!==null&&!Vt(x))&&g.refs.setReference(x)},[g.refs]),b=M.useMemo(()=>({...g.refs,setReference:T,setPositionReference:v,domReference:h}),[g.refs,T,v]),w=M.useMemo(()=>({...g.elements,domReference:d}),[g.elements,d]),_=M.useMemo(()=>({...g,...r,refs:b,elements:w,nodeId:e}),[g,b,w,e,r]);return gd(()=>{r.dataRef.current.floatingContext=_;const x=m==null?void 0:m.nodesRef.current.find(N=>N.id===e);x&&(x.context=_)}),M.useMemo(()=>({...g,context:_,refs:b,elements:w}),[g,b,w,_])}/*!
  react-datepicker v6.9.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/function lt(t,e,n){return e=yd(e),oU(t,gS()?Reflect.construct(e,n||[],yd(t).constructor):e.apply(t,n))}function gS(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gS=function(){return!!t})()}function aE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aE(Object(n),!0).forEach(function(r){S(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yS(t){var e=sU(t,"string");return typeof e=="symbol"?e:e+""}function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yS(r.key),r)}}function ut(t,e,n){return e&&lE(t.prototype,e),n&&lE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function S(t,e,n){return e=yS(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tl(){return Tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tl.apply(this,arguments)}function dt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tm(t,e)}function yd(t){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yd(t)}function Tm(t,e){return Tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Tm(t,e)}function iU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oU(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iU(t)}function bs(t){return aU(t)||lU(t)||cU(t)||uU()}function aU(t){if(Array.isArray(t))return Im(t)}function lU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cU(t,e){if(t){if(typeof t=="string")return Im(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Im(t,e)}}function Im(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Wl=12,dU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function ve(t){var e=t?typeof t=="string"||t instanceof String?Dj(t):K(t):new Date;return Br(e)?e:null}function hU(t,e,n,r,s){var i=null,o=ps(n)||ps(ti()),a=!0;return Array.isArray(e)?(e.forEach(function(l){var u=Cf(t,l,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(a=Br(u,s)&&t===De(u,l,n)),Br(u,s)&&a&&(i=u)}),i):(i=Cf(t,e,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r?a=Br(i)&&t===De(i,e,n):Br(i)||(e=e.match(dU).map(function(l){var u=l[0];if(u==="p"||u==="P"){var d=od[u];return o?d(l,o.formatLong):u}return l}).join(""),t.length>0&&(i=Cf(t,e.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Br(i)||(i=new Date(t))),Br(i)&&a?i:null)}function Br(t,e){return e=e||new Date("1/1/1000"),_l(t)&&!yi(t,e)}function De(t,e,n){if(n==="en")return Yw(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=ps(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&ti()&&ps(ti())&&(r=ps(ti())),Yw(t,e,{locale:r||null,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function on(t,e){var n=e.dateFormat,r=e.locale;return t&&De(t,Array.isArray(n)?n[0]:n,r)||""}function fU(t,e,n){if(!t)return"";var r=on(t,n),s=e?on(e,n):"";return"".concat(r," - ").concat(s)}function pU(t,e){if(!(t!=null&&t.length))return"";var n=on(t[0],e);if(t.length===1)return n;if(t.length===2){var r=on(t[1],e);return"".concat(n,", ").concat(r)}var s=t.length-1;return"".concat(n," (+").concat(s,")")}function Af(t,e){var n=e.hour,r=n===void 0?0:n,s=e.minute,i=s===void 0?0:s,o=e.second,a=o===void 0?0:o;return uu(cu(lu(t,a),i),r)}function mU(t,e){return ti()&&ps(ti()),Ny(t)}function gU(t,e){return De(t,"ddd",e)}function yU(t){return qn(t)}function hs(t,e,n){var r=ps(e||ti());return Pr(t,{locale:r,weekStartsOn:n})}function fs(t){return XI(t)}function Ia(t){return ch(t)}function cE(t){return gm(t)}function uE(){return qn(ve())}function vU(t){return SV(t)}function Mn(t,e){return t&&e?NV(t,e):!t&&!e}function Xt(t,e){return t&&e?PV(t,e):!t&&!e}function vd(t,e){return t&&e?RV(t,e):!t&&!e}function fe(t,e){return t&&e?DV(t,e):!t&&!e}function Gs(t,e){return t&&e?CV(t,e):!t&&!e}function Sa(t,e,n){var r,s=qn(e),i=ym(n);try{r=El(t,{start:s,end:i})}catch{r=!1}return r}function ti(){var t=typeof window<"u"?window:globalThis;return t.__localeId__}function ps(t){if(typeof t=="string"){var e=typeof window<"u"?window:globalThis;return e.__localeData__?e.__localeData__[t]:null}else return t}function _U(t,e,n){return e(De(t,"EEEE",n))}function wU(t,e){return De(t,"EEEEEE",e)}function EU(t,e){return De(t,"EEE",e)}function Wy(t,e){return De(Ot(ve(),t),"LLLL",e)}function vS(t,e){return De(Ot(ve(),t),"LLL",e)}function xU(t,e){return De(Fi(ve(),t),"QQQ",e)}function mh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,s=e.excludeDates,i=e.excludeDateIntervals,o=e.includeDates,a=e.includeDateIntervals,l=e.filterDate;return gh(t,{minDate:n,maxDate:r})||s&&s.some(function(u){return fe(t,u.date?u.date:u)})||i&&i.some(function(u){var d=u.start,h=u.end;return El(t,{start:d,end:h})})||o&&!o.some(function(u){return fe(t,u)})||a&&!a.some(function(u){var d=u.start,h=u.end;return El(t,{start:d,end:h})})||l&&!l(ve(t))||!1}function zy(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.excludeDates,r=e.excludeDateIntervals;return r&&r.length>0?r.some(function(s){var i=s.start,o=s.end;return El(t,{start:i,end:o})}):n&&n.some(function(s){return fe(t,s.date?s.date:s)})||!1}function hu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,s=e.excludeDates,i=e.includeDates,o=e.filterDate;return gh(t,{minDate:XI(n),maxDate:bV(r)})||s&&s.some(function(a){return Xt(t,a)})||i&&!i.some(function(a){return Xt(t,a)})||o&&!o(ve(t))||!1}function Mc(t,e,n,r){var s=re(t),i=Lt(t),o=re(e),a=Lt(e),l=re(r);if(s===o&&s===l)return i<=n&&n<=a;if(s<o)return l===s&&i<=n||l===o&&a>=n||l<o&&l>s}function Mf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,s=e.excludeDates,i=e.includeDates,o=e.filterDate;return gh(t,{minDate:n,maxDate:r})||s&&s.some(function(a){return vd(t,a)})||i&&!i.some(function(a){return vd(t,a)})||o&&!o(ve(t))||!1}function Oc(t,e,n){if(!_l(e)||!_l(n))return!1;var r=re(e),s=re(n);return r<=t&&s>=t}function _S(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,s=e.excludeDates,i=e.includeDates,o=e.filterDate,a=new Date(t,0,1);return gh(a,{minDate:ch(n),maxDate:JI(r)})||s&&s.some(function(l){return Mn(a,l)})||i&&!i.some(function(l){return Mn(a,l)})||o&&!o(ve(a))||!1}function Lc(t,e,n,r){var s=re(t),i=Zs(t),o=re(e),a=Zs(e),l=re(r);if(s===o&&s===l)return i<=n&&n<=a;if(s<o)return l===s&&i<=n||l===o&&a>=n||l<o&&l>s}function gh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate;return n&&wl(t,n)<0||r&&wl(t,r)>0}function dE(t,e){return e.some(function(n){return Qn(n)===Qn(t)&&Kn(n)===Kn(t)&&Er(n)===Er(t)})}function hE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.excludeTimes,r=e.includeTimes,s=e.filterTime;return n&&dE(t,n)||r&&!dE(t,r)||s&&!s(t)||!1}function fE(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var s=ve();s=uu(s,Qn(t)),s=cu(s,Kn(t)),s=lu(s,Er(t));var i=ve();i=uu(i,Qn(n)),i=cu(i,Kn(n)),i=lu(i,Er(n));var o=ve();o=uu(o,Qn(r)),o=cu(o,Kn(r)),o=lu(o,Er(r));var a;try{a=!El(s,{start:i,end:o})}catch{a=!1}return a}function pE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.includeDates,s=bo(t,1);return n&&ld(n,s)>0||r&&r.every(function(i){return ld(i,s)>0})||!1}function mE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.includeDates,s=Dn(t,1);return n&&ld(s,n)>0||r&&r.every(function(i){return ld(s,i)>0})||!1}function kU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.includeDates,s=ch(t),i=GI(s,1);return n&&ud(n,i)>0||r&&r.every(function(o){return ud(o,i)>0})||!1}function TU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.includeDates,s=JI(t),i=My(s,1);return n&&ud(i,n)>0||r&&r.every(function(o){return ud(i,o)>0})||!1}function gE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.includeDates,s=Co(t,1);return n&&cd(n,s)>0||r&&r.every(function(i){return cd(i,s)>0})||!1}function IU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.yearItemNumber,s=r===void 0?Wl:r,i=Ia(Co(t,s)),o=Jr(i,s),a=o.endPeriod,l=n&&re(n);return l&&l>a||!1}function yE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.includeDates,s=wr(t,1);return n&&cd(s,n)>0||r&&r.every(function(i){return cd(s,i)>0})||!1}function SU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.yearItemNumber,s=r===void 0?Wl:r,i=wr(t,s),o=Jr(i,s),a=o.startPeriod,l=n&&re(n);return l&&l<a||!1}function wS(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(s){return wl(s,e)>=0});return Qw(r)}else return n?Qw(n):e}function ES(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(s){return wl(s,e)<=0});return Gw(r)}else return n?Gw(n):e}function vE(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,s=t.length;r<s;r++){var i=t[r];if(gi(i)){var o=De(i,"MM.dd.yyyy"),a=n.get(o)||[];a.includes(e)||(a.push(e),n.set(o,a))}else if(km(i)==="object"){var l=Object.keys(i),u=l[0],d=i[l[0]];if(typeof u=="string"&&d.constructor===Array)for(var h=0,m=d.length;h<m;h++){var g=De(d[h],"MM.dd.yyyy"),v=n.get(g)||[];v.includes(u)||(v.push(u),n.set(g,v))}}}return n}function bU(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function CU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--holidays",n=new Map;return t.forEach(function(r){var s=r.date,i=r.holidayName;if(gi(s)){var o=De(s,"MM.dd.yyyy"),a=n.get(o)||{};if(!("className"in a&&a.className===e&&bU(a.holidayNames,[i]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?[].concat(bs(l),[i]):[i],n.set(o,a)}}}),n}function DU(t,e,n,r,s){for(var i=s.length,o=[],a=0;a<i;a++){var l=t;l=xV(l,Qn(s[a])),l=pm(l,Kn(s[a])),l=Hj(l,Er(s[a]));var u=pm(t,(n+1)*r);Is(l,e)&&yi(l,u)&&o.push(s[a])}return o}function _E(t){return t<10?"0".concat(t):"".concat(t)}function Jr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wl,n=Math.ceil(re(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function PU(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function wE(t){var e=t.getSeconds(),n=t.getMilliseconds();return K(t.getTime()-e*1e3-n)}function NU(t,e){return wE(t).getTime()===wE(e).getTime()}function EE(t){if(!gi(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function xE(t,e){if(!gi(t)||!gi(e))throw new Error("Invalid date received");var n=EE(t),r=EE(e);return yi(n,r)}function xS(t){var e=" ";return t.key===e}function RU(t,e,n,r){for(var s=[],i=0;i<2*e+1;i++){var o=t+e-i,a=!0;n&&(a=re(n)<=o),r&&a&&(a=re(r)>=o),a&&s.push(o)}return s}var AU=function(t){function e(n){var r;ct(this,e),r=lt(this,e,[n]),S(r,"renderOptions",function(){var a=r.props.year,l=r.state.yearsList.map(function(h){return V.createElement("div",{className:a===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:r.onChange.bind(r,h),"aria-selected":a===h?"true":void 0},a===h?V.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",h)}),u=r.props.minDate?re(r.props.minDate):null,d=r.props.maxDate?re(r.props.maxDate):null;return(!d||!r.state.yearsList.find(function(h){return h===d}))&&l.unshift(V.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},V.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!r.state.yearsList.find(function(h){return h===u}))&&l.push(V.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},V.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l}),S(r,"onChange",function(a){r.props.onChange(a)}),S(r,"handleClickOutside",function(){r.props.onCancel()}),S(r,"shiftYears",function(a){var l=r.state.yearsList.map(function(u){return u+a});r.setState({yearsList:l})}),S(r,"incrementYears",function(){return r.shiftYears(1)}),S(r,"decrementYears",function(){return r.shiftYears(-1)});var s=n.yearDropdownItemNumber,i=n.scrollableYearDropdown,o=s||(i?10:5);return r.state={yearsList:RU(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=M.createRef(),r}return dt(e,t),ut(e,[{key:"componentDidMount",value:function(){var r=this.dropdownRef.current;if(r){var s=r.children?Array.from(r.children):null,i=s?s.find(function(o){return o.ariaSelected}):null;r.scrollTop=i?i.offsetTop+(i.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}}},{key:"render",value:function(){var r=yt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return V.createElement("div",{className:r,ref:this.dropdownRef},this.renderOptions())}}])}(V.Component),MU=uh(AU),OU=function(t){function e(){var n;ct(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=lt(this,e,[].concat(s)),S(n,"state",{dropdownVisible:!1}),S(n,"renderSelectOptions",function(){for(var o=n.props.minDate?re(n.props.minDate):1900,a=n.props.maxDate?re(n.props.maxDate):2100,l=[],u=o;u<=a;u++)l.push(V.createElement("option",{key:u,value:u},u));return l}),S(n,"onSelectChange",function(o){n.onChange(o.target.value)}),S(n,"renderSelectMode",function(){return V.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())}),S(n,"renderReadView",function(o){return V.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(l){return n.toggleDropdown(l)}},V.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),V.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))}),S(n,"renderDropdown",function(){return V.createElement(MU,{key:"dropdown",year:n.props.year,onChange:n.onChange,onCancel:n.toggleDropdown,minDate:n.props.minDate,maxDate:n.props.maxDate,scrollableYearDropdown:n.props.scrollableYearDropdown,yearDropdownItemNumber:n.props.yearDropdownItemNumber})}),S(n,"renderScrollMode",function(){var o=n.state.dropdownVisible,a=[n.renderReadView(!o)];return o&&a.unshift(n.renderDropdown()),a}),S(n,"onChange",function(o){n.toggleDropdown(),o!==n.props.year&&n.props.onChange(o)}),S(n,"toggleDropdown",function(o){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,o)})}),S(n,"handleYearChange",function(o,a){n.onSelect(o,a),n.setOpen()}),S(n,"onSelect",function(o,a){n.props.onSelect&&n.props.onSelect(o,a)}),S(n,"setOpen",function(){n.props.setOpen&&n.props.setOpen(!0)}),n}return dt(e,t),ut(e,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return V.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])}(V.Component),LU=function(t){function e(){var n;ct(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=lt(this,e,[].concat(s)),S(n,"isSelectedMonth",function(o){return n.props.month===o}),S(n,"renderOptions",function(){return n.props.monthNames.map(function(o,a){return V.createElement("div",{className:n.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:n.onChange.bind(n,a),"aria-selected":n.isSelectedMonth(a)?"true":void 0},n.isSelectedMonth(a)?V.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",o)})}),S(n,"onChange",function(o){return n.props.onChange(o)}),S(n,"handleClickOutside",function(){return n.props.onCancel()}),n}return dt(e,t),ut(e,[{key:"render",value:function(){return V.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}])}(V.Component),VU=uh(LU),jU=function(t){function e(){var n;ct(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=lt(this,e,[].concat(s)),S(n,"state",{dropdownVisible:!1}),S(n,"renderSelectOptions",function(o){return o.map(function(a,l){return V.createElement("option",{key:l,value:l},a)})}),S(n,"renderSelectMode",function(o){return V.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(l){return n.onChange(l.target.value)}},n.renderSelectOptions(o))}),S(n,"renderReadView",function(o,a){return V.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},V.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),V.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[n.props.month]))}),S(n,"renderDropdown",function(o){return V.createElement(VU,{key:"dropdown",month:n.props.month,monthNames:o,onChange:n.onChange,onCancel:n.toggleDropdown})}),S(n,"renderScrollMode",function(o){var a=n.state.dropdownVisible,l=[n.renderReadView(!a,o)];return a&&l.unshift(n.renderDropdown(o)),l}),S(n,"onChange",function(o){n.toggleDropdown(),o!==n.props.month&&n.props.onChange(o)}),S(n,"toggleDropdown",function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})}),n}return dt(e,t),ut(e,[{key:"render",value:function(){var r=this,s=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return vS(o,r.props.locale)}:function(o){return Wy(o,r.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(s);break;case"select":i=this.renderSelectMode(s);break}return V.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)}}])}(V.Component);function FU(t,e){for(var n=[],r=fs(t),s=fs(e);!Is(r,s);)n.push(ve(r)),r=Dn(r,1);return n}var UU=function(t){function e(n){var r;return ct(this,e),r=lt(this,e,[n]),S(r,"renderOptions",function(){return r.state.monthYearsList.map(function(s){var i=mm(s),o=Mn(r.props.date,s)&&Xt(r.props.date,s);return V.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:r.onChange.bind(r,i),"aria-selected":o?"true":void 0},o?V.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",De(s,r.props.dateFormat,r.props.locale))})}),S(r,"onChange",function(s){return r.props.onChange(s)}),S(r,"handleClickOutside",function(){r.props.onCancel()}),r.state={monthYearsList:FU(r.props.minDate,r.props.maxDate)},r}return dt(e,t),ut(e,[{key:"render",value:function(){var r=yt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return V.createElement("div",{className:r},this.renderOptions())}}])}(V.Component),BU=uh(UU),$U=function(t){function e(){var n;ct(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=lt(this,e,[].concat(s)),S(n,"state",{dropdownVisible:!1}),S(n,"renderSelectOptions",function(){for(var o=fs(n.props.minDate),a=fs(n.props.maxDate),l=[];!Is(o,a);){var u=mm(o);l.push(V.createElement("option",{key:u,value:u},De(o,n.props.dateFormat,n.props.locale))),o=Dn(o,1)}return l}),S(n,"onSelectChange",function(o){n.onChange(o.target.value)}),S(n,"renderSelectMode",function(){return V.createElement("select",{value:mm(fs(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())}),S(n,"renderReadView",function(o){var a=De(n.props.date,n.props.dateFormat,n.props.locale);return V.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(u){return n.toggleDropdown(u)}},V.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),V.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))}),S(n,"renderDropdown",function(){return V.createElement(BU,{key:"dropdown",date:n.props.date,dateFormat:n.props.dateFormat,onChange:n.onChange,onCancel:n.toggleDropdown,minDate:n.props.minDate,maxDate:n.props.maxDate,scrollableMonthYearDropdown:n.props.scrollableMonthYearDropdown,locale:n.props.locale})}),S(n,"renderScrollMode",function(){var o=n.state.dropdownVisible,a=[n.renderReadView(!o)];return o&&a.unshift(n.renderDropdown()),a}),S(n,"onChange",function(o){n.toggleDropdown();var a=ve(parseInt(o));Mn(n.props.date,a)&&Xt(n.props.date,a)||n.props.onChange(a)}),S(n,"toggleDropdown",function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})}),n}return dt(e,t),ut(e,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return V.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])}(V.Component),WU=function(t){function e(){var n;ct(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=lt(this,e,[].concat(s)),S(n,"dayEl",V.createRef()),S(n,"handleClick",function(o){!n.isDisabled()&&n.props.onClick&&n.props.onClick(o)}),S(n,"handleMouseEnter",function(o){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(o)}),S(n,"handleOnKeyDown",function(o){var a=o.key;a===" "&&(o.preventDefault(),o.key="Enter"),n.props.handleOnKeyDown(o)}),S(n,"isSameDay",function(o){return fe(n.props.day,o)}),S(n,"isKeyboardSelected",function(){var o;if(n.props.disabledKeyboardNavigation)return!1;var a=n.props.selectsMultiple?(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(l){return n.isSameDayOrWeek(l)}):n.isSameDayOrWeek(n.props.selected);return!a&&n.isSameDayOrWeek(n.props.preSelection)}),S(n,"isDisabled",function(){return mh(n.props.day,n.props)}),S(n,"isExcluded",function(){return zy(n.props.day,n.props)}),S(n,"isStartOfWeek",function(){return fe(n.props.day,hs(n.props.day,n.props.locale,n.props.calendarStartDay))}),S(n,"isSameWeek",function(o){return n.props.showWeekPicker&&fe(o,hs(n.props.day,n.props.locale,n.props.calendarStartDay))}),S(n,"isSameDayOrWeek",function(o){return n.isSameDay(o)||n.isSameWeek(o)}),S(n,"getHighLightedClass",function(){var o=n.props,a=o.day,l=o.highlightDates;if(!l)return!1;var u=De(a,"MM.dd.yyyy");return l.get(u)}),S(n,"getHolidaysClass",function(){var o=n.props,a=o.day,l=o.holidays;if(!l)return!1;var u=De(a,"MM.dd.yyyy");if(l.has(u))return[l.get(u).className]}),S(n,"isInRange",function(){var o=n.props,a=o.day,l=o.startDate,u=o.endDate;return!l||!u?!1:Sa(a,l,u)}),S(n,"isInSelectingRange",function(){var o,a=n.props,l=a.day,u=a.selectsStart,d=a.selectsEnd,h=a.selectsRange,m=a.selectsDisabledDaysInRange,g=a.startDate,v=a.endDate,T=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(u||d||h)||!T||!m&&n.isDisabled()?!1:u&&v&&(yi(T,v)||Gs(T,v))?Sa(l,T,v):d&&g&&(Is(T,g)||Gs(T,g))||h&&g&&!v&&(Is(T,g)||Gs(T,g))?Sa(l,g,T):!1}),S(n,"isSelectingRangeStart",function(){var o;if(!n.isInSelectingRange())return!1;var a=n.props,l=a.day,u=a.startDate,d=a.selectsStart,h=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return d?fe(l,h):fe(l,u)}),S(n,"isSelectingRangeEnd",function(){var o;if(!n.isInSelectingRange())return!1;var a=n.props,l=a.day,u=a.endDate,d=a.selectsEnd,h=a.selectsRange,m=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return d||h?fe(l,m):fe(l,u)}),S(n,"isRangeStart",function(){var o=n.props,a=o.day,l=o.startDate,u=o.endDate;return!l||!u?!1:fe(l,a)}),S(n,"isRangeEnd",function(){var o=n.props,a=o.day,l=o.startDate,u=o.endDate;return!l||!u?!1:fe(u,a)}),S(n,"isWeekend",function(){var o=TV(n.props.day);return o===0||o===6}),S(n,"isAfterMonth",function(){return n.props.month!==void 0&&(n.props.month+1)%12===Lt(n.props.day)}),S(n,"isBeforeMonth",function(){return n.props.month!==void 0&&(Lt(n.props.day)+1)%12===n.props.month}),S(n,"isCurrentDay",function(){return n.isSameDay(ve())}),S(n,"isSelected",function(){if(n.props.selectsMultiple){var o;return(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(a){return n.isSameDayOrWeek(a)})}return n.isSameDayOrWeek(n.props.selected)}),S(n,"getClassNames",function(o){var a=n.props.dayClassName?n.props.dayClassName(o):void 0;return yt("react-datepicker__day",a,"react-datepicker__day--"+gU(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass("react-datepicker__day--highlighted"),n.getHolidaysClass())}),S(n,"getAriaLabel",function(){var o=n.props,a=o.day,l=o.ariaLabelPrefixWhenEnabled,u=l===void 0?"Choose":l,d=o.ariaLabelPrefixWhenDisabled,h=d===void 0?"Not available":d,m=n.isDisabled()||n.isExcluded()?h:u;return"".concat(m," ").concat(De(a,"PPPP",n.props.locale))}),S(n,"getTitle",function(){var o=n.props,a=o.day,l=o.holidays,u=l===void 0?new Map:l,d=o.excludeDates,h=De(a,"MM.dd.yyyy"),m=[];return u.has(h)&&m.push.apply(m,bs(u.get(h).holidayNames)),n.isExcluded()&&m.push(d==null?void 0:d.filter(function(g){return fe(g.date?g.date:g,a)}).map(function(g){return g.message})),m.join(", ")}),S(n,"getTabIndex",function(o,a){var l=o||n.props.selected,u=a||n.props.preSelection,d=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(l)&&fe(u,l))?0:-1;return d}),S(n,"handleFocusDay",function(){var o,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=!1;n.getTabIndex()===0&&!a.isInputFocused&&n.isSameDay(n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(l=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(l=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(l=!0),n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()&&(l=!1),n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()&&(l=!1)),l&&((o=n.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))}),S(n,"renderDayContents",function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(Kw(n.props.day),n.props.day):Kw(n.props.day)}),S(n,"render",function(){return V.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&V.createElement("span",{className:"overlay"},n.getTitle()))}),n}return dt(e,t),ut(e,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(r){this.handleFocusDay(r)}}])}(V.Component),zU=function(t){function e(){var n;ct(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=lt(this,e,[].concat(s)),S(n,"weekNumberEl",V.createRef()),S(n,"handleClick",function(o){n.props.onClick&&n.props.onClick(o)}),S(n,"handleOnKeyDown",function(o){var a=o.key;a===" "&&(o.preventDefault(),o.key="Enter"),n.props.handleOnKeyDown(o)}),S(n,"isKeyboardSelected",function(){return!n.props.disabledKeyboardNavigation&&!fe(n.props.date,n.props.selected)&&fe(n.props.date,n.props.preSelection)}),S(n,"getTabIndex",function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||fe(n.props.date,n.props.selected)&&fe(n.props.preSelection,n.props.selected))?0:-1}),S(n,"handleFocusWeekNumber",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=!1;n.getTabIndex()===0&&!o.isInputFocused&&fe(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(a=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})}),n}return dt(e,t),ut(e,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(r){this.handleFocusWeekNumber(r)}},{key:"render",value:function(){var r=this.props,s=r.weekNumber,i=r.ariaLabelPrefix,o=i===void 0?"week ":i,a=r.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a,"react-datepicker__week-number--selected":!!a&&fe(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return V.createElement("div",{ref:this.weekNumberEl,className:yt(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},s)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}])}(V.Component),HU=function(t){function e(){var n;ct(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=lt(this,e,[].concat(s)),S(n,"handleDayClick",function(o,a){n.props.onDayClick&&n.props.onDayClick(o,a)}),S(n,"handleDayMouseEnter",function(o){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(o)}),S(n,"handleWeekClick",function(o,a,l){typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(o,a,l),n.props.showWeekPicker&&n.handleDayClick(o,l),n.props.shouldCloseOnSelect&&n.props.setOpen(!1)}),S(n,"formatWeekNumber",function(o){return n.props.formatWeekNumber?n.props.formatWeekNumber(o):mU(o)}),S(n,"renderDays",function(){var o=n.startOfWeek(),a=[],l=n.formatWeekNumber(o);if(n.props.showWeekNumber){var u=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,o,l):void 0;a.push(V.createElement(zU,{key:"W",weekNumber:l,date:o,onClick:u,selected:n.props.selected,preSelection:n.props.preSelection,ariaLabelPrefix:n.props.ariaLabelPrefix,showWeekPicker:n.props.showWeekPicker,showWeekNumber:n.props.showWeekNumber,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef}))}return a.concat([0,1,2,3,4,5,6].map(function(d){var h=Ls(o,d);return V.createElement(WU,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:h.valueOf(),day:h,month:n.props.month,onClick:n.handleDayClick.bind(n,h),usePointerEvent:n.props.usePointerEvent,onMouseEnter:n.handleDayMouseEnter.bind(n,h),minDate:n.props.minDate,maxDate:n.props.maxDate,calendarStartDay:n.props.calendarStartDay,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,highlightDates:n.props.highlightDates,holidays:n.props.holidays,selectingDate:n.props.selectingDate,filterDate:n.props.filterDate,preSelection:n.props.preSelection,selected:n.props.selected,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,showWeekPicker:n.props.showWeekPicker,showWeekNumber:n.props.showWeekNumber,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,startDate:n.props.startDate,endDate:n.props.endDate,dayClassName:n.props.dayClassName,renderDayContents:n.props.renderDayContents,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef,inline:n.props.inline,shouldFocusDayInline:n.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:n.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:n.props.monthShowsDuplicateDaysStart,locale:n.props.locale})}))}),S(n,"startOfWeek",function(){return hs(n.props.day,n.props.locale,n.props.calendarStartDay)}),S(n,"isKeyboardSelected",function(){return!n.props.disabledKeyboardNavigation&&!fe(n.startOfWeek(),n.props.selected)&&fe(n.startOfWeek(),n.props.preSelection)}),n}return dt(e,t),ut(e,[{key:"render",value:function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":fe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return V.createElement("div",{className:yt(r)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}])}(V.Component),YU=6,co={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Of=S(S(S({},co.TWO_COLUMNS,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),co.THREE_COLUMNS,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),co.FOUR_COLUMNS,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4}),Vc=1;function kE(t,e){return t?co.FOUR_COLUMNS:e?co.TWO_COLUMNS:co.THREE_COLUMNS}var qU=function(t){function e(){var n;ct(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=lt(this,e,[].concat(s)),S(n,"MONTH_REFS",bs(Array(12)).map(function(){return V.createRef()})),S(n,"QUARTER_REFS",bs(Array(4)).map(function(){return V.createRef()})),S(n,"isDisabled",function(o){return mh(o,n.props)}),S(n,"isExcluded",function(o){return zy(o,n.props)}),S(n,"handleDayClick",function(o,a){n.props.onDayClick&&n.props.onDayClick(o,a,n.props.orderInDisplay)}),S(n,"handleDayMouseEnter",function(o){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(o)}),S(n,"handleMouseLeave",function(){n.props.onMouseLeave&&n.props.onMouseLeave()}),S(n,"isRangeStartMonth",function(o){var a=n.props,l=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:Xt(Ot(l,o),u)}),S(n,"isRangeStartQuarter",function(o){var a=n.props,l=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:vd(Fi(l,o),u)}),S(n,"isRangeEndMonth",function(o){var a=n.props,l=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:Xt(Ot(l,o),d)}),S(n,"isRangeEndQuarter",function(o){var a=n.props,l=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:vd(Fi(l,o),d)}),S(n,"isInSelectingRangeMonth",function(o){var a,l=n.props,u=l.day,d=l.selectsStart,h=l.selectsEnd,m=l.selectsRange,g=l.startDate,v=l.endDate,T=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(d||h||m)||!T?!1:d&&v?Mc(T,v,o,u):h&&g||m&&g&&!v?Mc(g,T,o,u):!1}),S(n,"isSelectingMonthRangeStart",function(o){var a;if(!n.isInSelectingRangeMonth(o))return!1;var l=n.props,u=l.day,d=l.startDate,h=l.selectsStart,m=Ot(u,o),g=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return h?Xt(m,g):Xt(m,d)}),S(n,"isSelectingMonthRangeEnd",function(o){var a;if(!n.isInSelectingRangeMonth(o))return!1;var l=n.props,u=l.day,d=l.endDate,h=l.selectsEnd,m=l.selectsRange,g=Ot(u,o),v=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return h||m?Xt(g,v):Xt(g,d)}),S(n,"isInSelectingRangeQuarter",function(o){var a,l=n.props,u=l.day,d=l.selectsStart,h=l.selectsEnd,m=l.selectsRange,g=l.startDate,v=l.endDate,T=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(d||h||m)||!T?!1:d&&v?Lc(T,v,o,u):h&&g||m&&g&&!v?Lc(g,T,o,u):!1}),S(n,"isWeekInMonth",function(o){var a=n.props.day,l=Ls(o,6);return Xt(o,a)||Xt(l,a)}),S(n,"isCurrentMonth",function(o,a){return re(o)===re(ve())&&a===Lt(ve())}),S(n,"isCurrentQuarter",function(o,a){return re(o)===re(ve())&&a===Zs(ve())}),S(n,"isSelectedMonth",function(o,a,l){return Lt(l)===a&&re(o)===re(l)}),S(n,"isSelectedQuarter",function(o,a,l){return Zs(o)===a&&re(o)===re(l)}),S(n,"renderWeeks",function(){for(var o=[],a=n.props.fixedHeight,l=0,u=!1,d=hs(fs(n.props.day),n.props.locale,n.props.calendarStartDay),h=n.props.showWeekPicker?hs(n.props.selected,n.props.locale,n.props.calendarStartDay):n.props.selected,m=n.props.showWeekPicker?hs(n.props.preSelection,n.props.locale,n.props.calendarStartDay):n.props.preSelection;o.push(V.createElement(HU,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:n.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:n.props.disabledDayAriaLabelPrefix,key:l,day:d,month:Lt(n.props.day),onDayClick:n.handleDayClick,usePointerEvent:n.props.usePointerEvent,onDayMouseEnter:n.handleDayMouseEnter,onWeekSelect:n.props.onWeekSelect,formatWeekNumber:n.props.formatWeekNumber,locale:n.props.locale,minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,inline:n.props.inline,shouldFocusDayInline:n.props.shouldFocusDayInline,highlightDates:n.props.highlightDates,holidays:n.props.holidays,selectingDate:n.props.selectingDate,filterDate:n.props.filterDate,preSelection:m,selected:h,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,showWeekNumber:n.props.showWeekNumbers,showWeekPicker:n.props.showWeekPicker,startDate:n.props.startDate,endDate:n.props.endDate,dayClassName:n.props.dayClassName,setOpen:n.props.setOpen,shouldCloseOnSelect:n.props.shouldCloseOnSelect,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,renderDayContents:n.props.renderDayContents,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef,calendarStartDay:n.props.calendarStartDay,monthShowsDuplicateDaysEnd:n.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:n.props.monthShowsDuplicateDaysStart})),!u;){l++,d=ad(d,1);var g=a&&l>=YU,v=!a&&!n.isWeekInMonth(d);if(g||v)if(n.props.peekNextMonth)u=!0;else break}return o}),S(n,"onMonthClick",function(o,a){var l=Ot(n.props.day,a);hu(l,n.props)||n.handleDayClick(fs(l),o)}),S(n,"onMonthMouseEnter",function(o){var a=Ot(n.props.day,o);hu(a,n.props)||n.handleDayMouseEnter(fs(a))}),S(n,"handleMonthNavigation",function(o,a){n.isDisabled(a)||n.isExcluded(a)||(n.props.setPreSelection(a),n.MONTH_REFS[o].current&&n.MONTH_REFS[o].current.focus())}),S(n,"onMonthKeyDown",function(o,a){var l=n.props,u=l.selected,d=l.preSelection,h=l.disabledKeyboardNavigation,m=l.showTwoColumnMonthYearPicker,g=l.showFourColumnMonthYearPicker,v=l.setPreSelection,T=l.handleOnMonthKeyDown,b=o.key;if(b!=="Tab"&&o.preventDefault(),!h){var w=kE(g,m),_=Of[w].verticalNavigationOffset,x=Of[w].grid;switch(b){case"Enter":n.onMonthClick(o,a),v(u);break;case"ArrowRight":n.handleMonthNavigation(a===11?0:a+Vc,Dn(d,Vc));break;case"ArrowLeft":n.handleMonthNavigation(a===0?11:a-Vc,bo(d,Vc));break;case"ArrowUp":n.handleMonthNavigation(x[0].includes(a)?a+12-_:a-_,bo(d,_));break;case"ArrowDown":n.handleMonthNavigation(x[x.length-1].includes(a)?a-12+_:a+_,Dn(d,_));break}}T&&T(o)}),S(n,"onQuarterClick",function(o,a){var l=Fi(n.props.day,a);Mf(l,n.props)||n.handleDayClick(cE(l),o)}),S(n,"onQuarterMouseEnter",function(o){var a=Fi(n.props.day,o);Mf(a,n.props)||n.handleDayMouseEnter(cE(a))}),S(n,"handleQuarterNavigation",function(o,a){n.isDisabled(a)||n.isExcluded(a)||(n.props.setPreSelection(a),n.QUARTER_REFS[o-1].current&&n.QUARTER_REFS[o-1].current.focus())}),S(n,"onQuarterKeyDown",function(o,a){var l=o.key;if(!n.props.disabledKeyboardNavigation)switch(l){case"Enter":n.onQuarterClick(o,a),n.props.setPreSelection(n.props.selected);break;case"ArrowRight":n.handleQuarterNavigation(a===4?1:a+1,My(n.props.preSelection,1));break;case"ArrowLeft":n.handleQuarterNavigation(a===1?4:a-1,GI(n.props.preSelection,1));break}}),S(n,"isMonthDisabled",function(o){var a=n.props,l=a.day,u=a.minDate,d=a.maxDate,h=a.excludeDates,m=a.includeDates,g=Ot(l,o);return(u||d||h||m)&&hu(g,n.props)}),S(n,"getMonthClassNames",function(o){var a=n.props,l=a.day,u=a.startDate,d=a.endDate,h=a.selected,m=a.preSelection,g=a.monthClassName,v=g?g(Ot(l,o)):void 0;return yt("react-datepicker__month-text","react-datepicker__month-".concat(o),v,{"react-datepicker__month-text--disabled":n.isMonthDisabled(o),"react-datepicker__month-text--selected":n.isSelectedMonth(l,o,h),"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&n.isSelectedMonth(l,o,m),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":Mc(u,d,o,l),"react-datepicker__month-text--range-start":n.isRangeStartMonth(o),"react-datepicker__month-text--range-end":n.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":n.isCurrentMonth(l,o)})}),S(n,"getTabIndex",function(o){var a=Lt(n.props.preSelection),l=!n.props.disabledKeyboardNavigation&&o===a?"0":"-1";return l}),S(n,"getQuarterTabIndex",function(o){var a=Zs(n.props.preSelection),l=!n.props.disabledKeyboardNavigation&&o===a?"0":"-1";return l}),S(n,"getAriaLabel",function(o){var a=n.props,l=a.chooseDayAriaLabelPrefix,u=l===void 0?"Choose":l,d=a.disabledDayAriaLabelPrefix,h=d===void 0?"Not available":d,m=a.day,g=a.locale,v=Ot(m,o),T=n.isDisabled(v)||n.isExcluded(v)?h:u;return"".concat(T," ").concat(De(v,"MMMM yyyy",g))}),S(n,"getQuarterClassNames",function(o){var a=n.props,l=a.day,u=a.startDate,d=a.endDate,h=a.selected,m=a.minDate,g=a.maxDate,v=a.preSelection,T=a.disabledKeyboardNavigation;return yt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":(m||g)&&Mf(Fi(l,o),n.props),"react-datepicker__quarter-text--selected":n.isSelectedQuarter(l,o,h),"react-datepicker__quarter-text--keyboard-selected":!T&&n.isSelectedQuarter(l,o,v),"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":Lc(u,d,o,l),"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(o)})}),S(n,"getMonthContent",function(o){var a=n.props,l=a.showFullMonthYearPicker,u=a.renderMonthContent,d=a.locale,h=a.day,m=vS(o,d),g=Wy(o,d);return u?u(o,m,g,h):l?g:m}),S(n,"getQuarterContent",function(o){var a=n.props,l=a.renderQuarterContent,u=a.locale,d=xU(o,u);return l?l(o,d):d}),S(n,"renderMonths",function(){var o=n.props,a=o.showTwoColumnMonthYearPicker,l=o.showFourColumnMonthYearPicker,u=o.day,d=o.selected,h=Of[kE(l,a)].grid;return h.map(function(m,g){return V.createElement("div",{className:"react-datepicker__month-wrapper",key:g},m.map(function(v,T){return V.createElement("div",{ref:n.MONTH_REFS[v],key:T,onClick:function(w){n.onMonthClick(w,v)},onKeyDown:function(w){xS(w)&&(w.preventDefault(),w.key="Enter"),n.onMonthKeyDown(w,v)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(v)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(v)}:void 0,tabIndex:n.getTabIndex(v),className:n.getMonthClassNames(v),"aria-disabled":n.isMonthDisabled(v),role:"option","aria-label":n.getAriaLabel(v),"aria-current":n.isCurrentMonth(u,v)?"date":void 0,"aria-selected":n.isSelectedMonth(u,v,d)},n.getMonthContent(v))}))})}),S(n,"renderQuarters",function(){var o=n.props,a=o.day,l=o.selected,u=[1,2,3,4];return V.createElement("div",{className:"react-datepicker__quarter-wrapper"},u.map(function(d,h){return V.createElement("div",{key:h,ref:n.QUARTER_REFS[h],role:"option",onClick:function(g){n.onQuarterClick(g,d)},onKeyDown:function(g){n.onQuarterKeyDown(g,d)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(d)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(d)}:void 0,className:n.getQuarterClassNames(d),"aria-selected":n.isSelectedQuarter(a,d,l),tabIndex:n.getQuarterTabIndex(d),"aria-current":n.isCurrentQuarter(a,d)?"date":void 0},n.getQuarterContent(d))}))}),S(n,"getClassNames",function(){var o=n.props,a=o.selectingDate,l=o.selectsStart,u=o.selectsEnd,d=o.showMonthYearPicker,h=o.showQuarterYearPicker,m=o.showWeekPicker;return yt("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(l||u)},{"react-datepicker__monthPicker":d},{"react-datepicker__quarterPicker":h},{"react-datepicker__weekPicker":m})}),n}return dt(e,t),ut(e,[{key:"render",value:function(){var r=this.props,s=r.showMonthYearPicker,i=r.showQuarterYearPicker,o=r.day,a=r.ariaLabelPrefix,l=a===void 0?"Month ":a,u=l?l.trim()+" ":"";return V.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(u).concat(De(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},s?this.renderMonths():i?this.renderQuarters():this.renderWeeks())}}])}(V.Component),kS=function(t){function e(){var n;ct(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=lt(this,e,[].concat(s)),S(n,"state",{height:null}),S(n,"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){n.list&&(n.list.scrollTop=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-n.header.clientHeight:n.list.clientHeight,n.centerLi))})}),S(n,"handleClick",function(o){(n.props.minTime||n.props.maxTime)&&fE(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&hE(o,n.props)||n.props.onChange(o)}),S(n,"isSelectedTime",function(o){return n.props.selected&&NU(n.props.selected,o)}),S(n,"isDisabledTime",function(o){return(n.props.minTime||n.props.maxTime)&&fE(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&hE(o,n.props)}),S(n,"liClasses",function(o){var a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(o):void 0];return n.isSelectedTime(o)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(o)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Qn(o)*3600+Kn(o)*60+Er(o))%(n.props.intervals*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")}),S(n,"handleOnKeyDown",function(o,a){o.key===" "&&(o.preventDefault(),o.key="Enter"),(o.key==="ArrowUp"||o.key==="ArrowLeft")&&o.target.previousSibling&&(o.preventDefault(),o.target.previousSibling.focus()),(o.key==="ArrowDown"||o.key==="ArrowRight")&&o.target.nextSibling&&(o.preventDefault(),o.target.nextSibling.focus()),o.key==="Enter"&&n.handleClick(a),n.props.handleOnKeyDown(o)}),S(n,"renderTimes",function(){for(var o=[],a=n.props.format?n.props.format:"p",l=n.props.intervals,u=n.props.selected||n.props.openToDate||ve(),d=yU(u),h=n.props.injectTimes&&n.props.injectTimes.sort(function(_,x){return _-x}),m=60*PU(u),g=m/l,v=0;v<g;v++){var T=pm(d,v*l);if(o.push(T),h){var b=DU(d,T,v,l,h);o=o.concat(b)}}var w=o.reduce(function(_,x){return x.getTime()<=u.getTime()?x:_},o[0]);return o.map(function(_,x){return V.createElement("li",{key:x,onClick:n.handleClick.bind(n,_),className:n.liClasses(_),ref:function(L){_===w&&(n.centerLi=L)},onKeyDown:function(L){n.handleOnKeyDown(L,_)},tabIndex:_===w?0:-1,role:"option","aria-selected":n.isSelectedTime(_)?"true":void 0,"aria-disabled":n.isDisabledTime(_)?"true":void 0},De(_,a,n.props.locale))})}),n}return dt(e,t),ut(e,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var r=this,s=this.state.height;return V.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},V.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){r.header=o}},V.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),V.createElement("div",{className:"react-datepicker__time"},V.createElement("div",{className:"react-datepicker__time-box"},V.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){r.list=o},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}])}(V.Component);S(kS,"calcCenterPosition",function(t,e){return e.offsetTop-(t/2-e.clientHeight/2)});var TE=3,KU=function(t){function e(n){var r;return ct(this,e),r=lt(this,e,[n]),S(r,"YEAR_REFS",bs(Array(r.props.yearItemNumber)).map(function(){return V.createRef()})),S(r,"isDisabled",function(s){return mh(s,r.props)}),S(r,"isExcluded",function(s){return zy(s,r.props)}),S(r,"selectingDate",function(){var s;return(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection}),S(r,"updateFocusOnPaginate",function(s){var i=(function(){this.YEAR_REFS[s].current.focus()}).bind(r);window.requestAnimationFrame(i)}),S(r,"handleYearClick",function(s,i){r.props.onDayClick&&r.props.onDayClick(s,i)}),S(r,"handleYearNavigation",function(s,i){var o=r.props,a=o.date,l=o.yearItemNumber,u=Jr(a,l),d=u.startPeriod;r.isDisabled(i)||r.isExcluded(i)||(r.props.setPreSelection(i),s-d<0?r.updateFocusOnPaginate(l-(d-s)):s-d>=l?r.updateFocusOnPaginate(Math.abs(l-(s-d))):r.YEAR_REFS[s-d].current.focus())}),S(r,"isSameDay",function(s,i){return fe(s,i)}),S(r,"isCurrentYear",function(s){return s===re(ve())}),S(r,"isRangeStart",function(s){return r.props.startDate&&r.props.endDate&&Mn(An(ve(),s),r.props.startDate)}),S(r,"isRangeEnd",function(s){return r.props.startDate&&r.props.endDate&&Mn(An(ve(),s),r.props.endDate)}),S(r,"isInRange",function(s){return Oc(s,r.props.startDate,r.props.endDate)}),S(r,"isInSelectingRange",function(s){var i=r.props,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,u=i.startDate,d=i.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&d?Oc(s,r.selectingDate(),d):a&&u||l&&u&&!d?Oc(s,u,r.selectingDate()):!1}),S(r,"isSelectingRangeStart",function(s){if(!r.isInSelectingRange(s))return!1;var i=r.props,o=i.startDate,a=i.selectsStart,l=An(ve(),s);return a?Mn(l,r.selectingDate()):Mn(l,o)}),S(r,"isSelectingRangeEnd",function(s){if(!r.isInSelectingRange(s))return!1;var i=r.props,o=i.endDate,a=i.selectsEnd,l=i.selectsRange,u=An(ve(),s);return a||l?Mn(u,r.selectingDate()):Mn(u,o)}),S(r,"isKeyboardSelected",function(s){var i=Ia(An(r.props.date,s));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!fe(i,Ia(r.props.selected))&&fe(i,Ia(r.props.preSelection))}),S(r,"onYearClick",function(s,i){var o=r.props.date;r.handleYearClick(Ia(An(o,i)),s)}),S(r,"onYearKeyDown",function(s,i){var o=s.key,a=r.props,l=a.date,u=a.yearItemNumber,d=a.handleOnKeyDown;if(o!=="Tab"&&s.preventDefault(),!r.props.disabledKeyboardNavigation)switch(o){case"Enter":r.onYearClick(s,i),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleYearNavigation(i+1,wr(r.props.preSelection,1));break;case"ArrowLeft":r.handleYearNavigation(i-1,Co(r.props.preSelection,1));break;case"ArrowUp":{var h=Jr(l,u),m=h.startPeriod,g=TE,v=i-g;if(v<m){var T=u%g;i>=m&&i<m+T?g=T:g+=T,v=i-g}r.handleYearNavigation(v,Co(r.props.preSelection,g));break}case"ArrowDown":{var b=Jr(l,u),w=b.endPeriod,_=TE,x=i+_;if(x>w){var N=u%_;i<=w&&i>w-N?_=N:_+=N,x=i+_}r.handleYearNavigation(x,wr(r.props.preSelection,_));break}}d&&d(s)}),S(r,"getYearClassNames",function(s){var i=r.props,o=i.date,a=i.minDate,l=i.maxDate,u=i.selected,d=i.excludeDates,h=i.includeDates,m=i.filterDate,g=i.yearClassName;return yt("react-datepicker__year-text","react-datepicker__year-".concat(s),g?g(An(o,s)):void 0,{"react-datepicker__year-text--selected":s===re(u),"react-datepicker__year-text--disabled":(a||l||d||h||m)&&_S(s,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(s),"react-datepicker__year-text--range-start":r.isRangeStart(s),"react-datepicker__year-text--range-end":r.isRangeEnd(s),"react-datepicker__year-text--in-range":r.isInRange(s),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(s),"react-datepicker__year-text--today":r.isCurrentYear(s)})}),S(r,"getYearTabIndex",function(s){if(r.props.disabledKeyboardNavigation)return"-1";var i=re(r.props.preSelection);return s===i?"0":"-1"}),S(r,"getYearContainerClassNames",function(){var s=r.props,i=s.selectingDate,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange;return yt("react-datepicker__year",{"react-datepicker__year--selecting-range":i&&(o||a||l)})}),S(r,"getYearContent",function(s){return r.props.renderYearContent?r.props.renderYearContent(s):s}),r}return dt(e,t),ut(e,[{key:"render",value:function(){for(var r=this,s=[],i=this.props,o=i.date,a=i.yearItemNumber,l=i.onYearMouseEnter,u=i.onYearMouseLeave,d=Jr(o,a),h=d.startPeriod,m=d.endPeriod,g=function(b){s.push(V.createElement("div",{ref:r.YEAR_REFS[b-h],onClick:function(_){r.onYearClick(_,b)},onKeyDown:function(_){xS(_)&&(_.preventDefault(),_.key="Enter"),r.onYearKeyDown(_,b)},tabIndex:r.getYearTabIndex(b),className:r.getYearClassNames(b),onMouseEnter:r.props.usePointerEvent?void 0:function(w){return l(w,b)},onPointerEnter:r.props.usePointerEvent?function(w){return l(w,b)}:void 0,onMouseLeave:r.props.usePointerEvent?void 0:function(w){return u(w,b)},onPointerLeave:r.props.usePointerEvent?function(w){return u(w,b)}:void 0,key:b,"aria-current":r.isCurrentYear(b)?"date":void 0},r.getYearContent(b)))},v=h;v<=m;v++)g(v);return V.createElement("div",{className:this.getYearContainerClassNames()},V.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},s))}}])}(V.Component),QU=function(t){function e(n){var r;return ct(this,e),r=lt(this,e,[n]),S(r,"onTimeChange",function(s){r.setState({time:s});var i=r.props.date,o=i instanceof Date&&!isNaN(i),a=o?i:new Date;a.setHours(s.split(":")[0]),a.setMinutes(s.split(":")[1]),r.props.onChange(a)}),S(r,"renderTimeInput",function(){var s=r.state.time,i=r.props,o=i.date,a=i.timeString,l=i.customTimeInput;return l?V.cloneElement(l,{date:o,value:s,onChange:r.onTimeChange}):V.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:s,onChange:function(d){r.onTimeChange(d.target.value||a)}})}),r.state={time:r.props.timeString},r}return dt(e,t),ut(e,[{key:"render",value:function(){return V.createElement("div",{className:"react-datepicker__input-time-container"},V.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),V.createElement("div",{className:"react-datepicker-time__input-container"},V.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.timeString!==s.time?{time:r.timeString}:null}}])}(V.Component);function GU(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,s=r===void 0?!1:r,i=t.className,o=t.children,a=n?"Choose Time":"Choose Date".concat(s?" and Time":"");return V.createElement("div",{className:i,role:"dialog","aria-label":a,"aria-modal":"true"},o)}var XU=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],JU=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=(e.className||"").split(/\s+/);return XU.some(function(r){return n.indexOf(r)>=0})},ZU=function(t){function e(n){var r;return ct(this,e),r=lt(this,e,[n]),S(r,"handleClickOutside",function(s){r.props.onClickOutside(s)}),S(r,"setClickOutsideRef",function(){return r.containerRef.current}),S(r,"handleDropdownFocus",function(s){JU(s.target)&&r.props.onDropdownFocus()}),S(r,"getDateInView",function(){var s=r.props,i=s.preSelection,o=s.selected,a=s.openToDate,l=wS(r.props),u=ES(r.props),d=ve(),h=a||o||i;return h||(l&&yi(d,l)?l:u&&Is(d,u)?u:d)}),S(r,"increaseMonth",function(){r.setState(function(s){var i=s.date;return{date:Dn(i,1)}},function(){return r.handleMonthChange(r.state.date)})}),S(r,"decreaseMonth",function(){r.setState(function(s){var i=s.date;return{date:bo(i,1)}},function(){return r.handleMonthChange(r.state.date)})}),S(r,"handleDayClick",function(s,i,o){r.props.onSelect(s,i,o),r.props.setPreSelection&&r.props.setPreSelection(s)}),S(r,"handleDayMouseEnter",function(s){r.setState({selectingDate:s}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(s)}),S(r,"handleMonthMouseLeave",function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()}),S(r,"handleYearMouseEnter",function(s,i){r.setState({selectingDate:An(ve(),i)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(s,i)}),S(r,"handleYearMouseLeave",function(s,i){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(s,i)}),S(r,"handleYearChange",function(s){r.props.onYearChange&&(r.props.onYearChange(s),r.setState({isRenderAriaLiveMessage:!0})),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(s),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(s)}),S(r,"handleMonthChange",function(s){r.handleCustomMonthChange(s),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(s),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(s)}),S(r,"handleCustomMonthChange",function(s){r.props.onMonthChange&&(r.props.onMonthChange(s),r.setState({isRenderAriaLiveMessage:!0}))}),S(r,"handleMonthYearChange",function(s){r.handleYearChange(s),r.handleMonthChange(s)}),S(r,"changeYear",function(s){r.setState(function(i){var o=i.date;return{date:An(o,s)}},function(){return r.handleYearChange(r.state.date)})}),S(r,"changeMonth",function(s){r.setState(function(i){var o=i.date;return{date:Ot(o,s)}},function(){return r.handleMonthChange(r.state.date)})}),S(r,"changeMonthYear",function(s){r.setState(function(i){var o=i.date;return{date:An(Ot(o,Lt(s)),re(s))}},function(){return r.handleMonthYearChange(r.state.date)})}),S(r,"header",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,i=hs(s,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(V.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=Ls(i,a),u=r.formatWeekday(l,r.props.locale),d=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return V.createElement("div",{key:a,"aria-label":De(l,"EEEE",r.props.locale),className:yt("react-datepicker__day-name",d)},u)}))}),S(r,"formatWeekday",function(s,i){return r.props.formatWeekDay?_U(s,r.props.formatWeekDay,i):r.props.useWeekdaysShort?EU(s,i):wU(s,i)}),S(r,"decreaseYear",function(){r.setState(function(s){var i=s.date;return{date:Co(i,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),S(r,"clearSelectingDate",function(){r.setState({selectingDate:null})}),S(r,"renderPreviousButton",function(){if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=gE(r.state.date,r.props);break;case r.props.showYearPicker:s=IU(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=kU(r.state.date,r.props);break;default:s=pE(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var i=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],o=["react-datepicker__navigation","react-datepicker__navigation--previous"],a=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(a=r.decreaseYear),s&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--previous--disabled"),a=null);var l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,d=u.previousMonthButtonLabel,h=u.previousYearButtonLabel,m=r.props,g=m.previousMonthAriaLabel,v=g===void 0?typeof d=="string"?d:"Previous Month":g,T=m.previousYearAriaLabel,b=T===void 0?typeof h=="string"?h:"Previous Year":T;return V.createElement("button",{type:"button",className:o.join(" "),onClick:a,onKeyDown:r.props.handleOnKeyDown,"aria-label":l?b:v},V.createElement("span",{className:i.join(" ")},l?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel))}}}),S(r,"increaseYear",function(){r.setState(function(s){var i=s.date;return{date:wr(i,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),S(r,"renderNextButton",function(){if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=yE(r.state.date,r.props);break;case r.props.showYearPicker:s=SU(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=TU(r.state.date,r.props);break;default:s=mE(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var i=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var a=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(a=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),a=null);var l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,d=u.nextMonthButtonLabel,h=u.nextYearButtonLabel,m=r.props,g=m.nextMonthAriaLabel,v=g===void 0?typeof d=="string"?d:"Next Month":g,T=m.nextYearAriaLabel,b=T===void 0?typeof h=="string"?h:"Next Year":T;return V.createElement("button",{type:"button",className:i.join(" "),onClick:a,onKeyDown:r.props.handleOnKeyDown,"aria-label":l?b:v},V.createElement("span",{className:o.join(" ")},l?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel))}}}),S(r,"renderCurrentMonth",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,i=["react-datepicker__current-month"];return r.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),V.createElement("div",{className:i.join(" ")},De(s,r.props.dateFormat,r.props.locale))}),S(r,"renderYearDropdown",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showYearDropdown||s))return V.createElement(OU,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:re(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})}),S(r,"renderMonthDropdown",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthDropdown||s))return V.createElement(jU,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:Lt(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})}),S(r,"renderMonthYearDropdown",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthYearDropdown||s))return V.createElement($U,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})}),S(r,"handleTodayButtonClick",function(s){r.props.onSelect(uE(),s),r.props.setPreSelection&&r.props.setPreSelection(uE())}),S(r,"renderTodayButton",function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return V.createElement("div",{className:"react-datepicker__today-button",onClick:function(i){return r.handleTodayButtonClick(i)}},r.props.todayButton)}),S(r,"renderDefaultHeader",function(s){var i=s.monthDate,o=s.i;return V.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(i),V.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),V.createElement("div",{className:"react-datepicker__day-names"},r.header(i)))}),S(r,"renderCustomHeader",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=s.monthDate,o=s.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var a=pE(r.state.date,r.props),l=mE(r.state.date,r.props),u=gE(r.state.date,r.props),d=yE(r.state.date,r.props),h=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return V.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(ur(ur({},r.state),{},{customHeaderCount:o,monthDate:i,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:a,nextMonthButtonDisabled:l,prevYearButtonDisabled:u,nextYearButtonDisabled:d})),h&&V.createElement("div",{className:"react-datepicker__day-names"},r.header(i)))}),S(r,"renderYearHeader",function(s){var i=s.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,u=Jr(i,l),d=u.startPeriod,h=u.endPeriod;return V.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(d," - ").concat(h):re(i))}),S(r,"renderHeader",function(s){switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(s);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(s);default:return r.renderDefaultHeader(s)}}),S(r,"renderMonths",function(){var s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var i=[],o=r.props.showPreviousMonths?r.props.monthsShown-1:0,a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?wr(r.state.date,o):bo(r.state.date,o),l=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:o,u=0;u<r.props.monthsShown;++u){var d=u-l+o,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?wr(a,d):Dn(a,d),m="month-".concat(u),g=u<r.props.monthsShown-1,v=u>0;i.push(V.createElement("div",{key:m,ref:function(b){r.monthContainer=b},className:"react-datepicker__month-container"},r.renderHeader({monthDate:h,i:u}),V.createElement(qU,{chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,ariaLabelPrefix:r.props.monthAriaLabelPrefix,onChange:r.changeMonthYear,day:h,dayClassName:r.props.dayClassName,calendarStartDay:r.props.calendarStartDay,monthClassName:r.props.monthClassName,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,usePointerEvent:r.props.usePointerEvent,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:u,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,setPreSelection:r.props.setPreSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,isInputFocused:r.props.isInputFocused,containerRef:r.containerRef,monthShowsDuplicateDaysEnd:g,monthShowsDuplicateDaysStart:v})))}return i}}),S(r,"renderYears",function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return V.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),V.createElement(KU,Tl({onDayClick:r.handleDayClick,selectingDate:r.state.selectingDate,clearSelectingDate:r.clearSelectingDate,date:r.state.date},r.props,{onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))}),S(r,"renderTimeSection",function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return V.createElement(kS,{selected:r.props.selected,openToDate:r.props.openToDate,onChange:r.props.onTimeChange,timeClassName:r.props.timeClassName,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale,handleOnKeyDown:r.props.handleOnKeyDown,showTimeSelectOnly:r.props.showTimeSelectOnly})}),S(r,"renderInputTimeSection",function(){var s=new Date(r.props.selected),i=Br(s)&&!!r.props.selected,o=i?"".concat(_E(s.getHours()),":").concat(_E(s.getMinutes())):"";if(r.props.showTimeInput)return V.createElement(QU,{date:s,timeString:o,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange,customTimeInput:r.props.customTimeInput})}),S(r,"renderAriaLiveRegion",function(){var s=Jr(r.state.date,r.props.yearItemNumber),i=s.startPeriod,o=s.endPeriod,a;return r.props.showYearPicker?a="".concat(i," - ").concat(o):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?a=re(r.state.date):a="".concat(Wy(Lt(r.state.date),r.props.locale)," ").concat(re(r.state.date)),V.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&a)}),S(r,"renderChildren",function(){if(r.props.children)return V.createElement("div",{className:"react-datepicker__children-container"},r.props.children)}),r.containerRef=V.createRef(),r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},r}return dt(e,t),ut(e,[{key:"componentDidMount",value:function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())}},{key:"componentDidUpdate",value:function(r){var s=this;if(this.props.preSelection&&(!fe(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var i=!Xt(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&s.handleCustomMonthChange(s.state.date)})}else this.props.openToDate&&!fe(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var r=this.props.container||GU;return V.createElement("div",{style:{display:"contents"},ref:this.containerRef},V.createElement(r,{className:yt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:Wl}}}])}(V.Component),e3=function(e){var n=e.icon,r=e.className,s=r===void 0?"":r,i=e.onClick,o="react-datepicker__calendar-icon";return V.isValidElement(n)?V.cloneElement(n,{className:"".concat(n.props.className||""," ").concat(o," ").concat(s),onClick:function(l){typeof n.props.onClick=="function"&&n.props.onClick(l),typeof i=="function"&&i(l)}}):typeof n=="string"?V.createElement("i",{className:"".concat(o," ").concat(n," ").concat(s),"aria-hidden":"true",onClick:i}):V.createElement("svg",{className:"".concat(o," ").concat(s),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},V.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},t3=e3,TS=function(t){function e(n){var r;return ct(this,e),r=lt(this,e,[n]),r.el=document.createElement("div"),r}return dt(e,t),ut(e,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return KD.createPortal(this.props.children,this.el)}}])}(V.Component),n3="[tabindex], a, button, input, select, textarea",r3=function(e){return!e.disabled&&e.tabIndex!==-1},IS=function(t){function e(n){var r;return ct(this,e),r=lt(this,e,[n]),S(r,"getTabChildren",function(){return Array.prototype.slice.call(r.tabLoopRef.current.querySelectorAll(n3),1,-1).filter(r3)}),S(r,"handleFocusStart",function(){var s=r.getTabChildren();s&&s.length>1&&s[s.length-1].focus()}),S(r,"handleFocusEnd",function(){var s=r.getTabChildren();s&&s.length>1&&s[0].focus()}),r.tabLoopRef=V.createRef(),r}return dt(e,t),ut(e,[{key:"render",value:function(){return this.props.enableTabLoop?V.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},V.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,V.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}])}(V.Component);function s3(t){var e=function(r){var s=ur(ur({},r),{},{popperModifiers:r.popperModifiers||[],popperProps:r.popperProps||{},hidePopper:typeof r.hidePopper=="boolean"?r.hidePopper:!0}),i=V.useRef(),o=rU(ur({open:!s.hidePopper,whileElementsMounted:OF,placement:s.popperPlacement,middleware:[$F({padding:15}),BF(10),WF({element:i})].concat(bs(s.popperModifiers))},s.popperProps));return V.createElement(t,Tl({},s,{popperProps:ur(ur({},o),{},{arrowRef:i})}))};return e}var i3=function(t){function e(){return ct(this,e),lt(this,e,arguments)}return dt(e,t),ut(e,[{key:"render",value:function(){var r=this.props,s=r.className,i=r.wrapperClassName,o=r.hidePopper,a=r.popperComponent,l=r.targetComponent,u=r.enableTabLoop,d=r.popperOnKeyDown,h=r.portalId,m=r.portalHost,g=r.popperProps,v=r.showArrow,T;if(!o){var b=yt("react-datepicker-popper",s);T=V.createElement(IS,{enableTabLoop:u},V.createElement("div",{ref:g.refs.setFloating,style:g.floatingStyles,className:b,"data-placement":g.placement,onKeyDown:d},a,v&&V.createElement(GF,{ref:g.arrowRef,context:g.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(T=V.createElement(this.props.popperContainer,{},T)),h&&!o&&(T=V.createElement(TS,{portalId:h,portalHost:m},T));var w=yt("react-datepicker-wrapper",i);return V.createElement(V.Fragment,null,V.createElement("div",{ref:g.refs.setReference,className:w},l),T)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0}}}])}(V.Component),o3=s3(i3),IE="react-datepicker-ignore-onclickoutside",a3=uh(ZU);function l3(t,e){return t&&e?Lt(t)!==Lt(e)||re(t)!==re(e):t!==e}var Lf="Date input not valid.",c3=function(t){function e(n){var r;return ct(this,e),r=lt(this,e,[n]),S(r,"getPreSelection",function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:ve()}),S(r,"modifyHolidays",function(){var s;return(s=r.props.holidays)===null||s===void 0?void 0:s.reduce(function(i,o){var a=new Date(o.date);return _l(a)?[].concat(bs(i),[ur(ur({},o),{},{date:a})]):i},[])}),S(r,"calcInitialState",function(){var s,i=r.getPreSelection(),o=wS(r.props),a=ES(r.props),l=o&&yi(i,qn(o))?o:a&&Is(i,ym(a))?a:i;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:(s=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&s!==void 0?s:l,highlightDates:vE(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),S(r,"clearPreventFocusTimeout",function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)}),S(r,"setFocus",function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})}),S(r,"setBlur",function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()}),S(r,"setOpen",function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.setState({open:s,preSelection:s&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Vf},function(){s||r.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&r.setBlur(),r.setState({inputValue:null})})})}),S(r,"inputOk",function(){return gi(r.state.preSelection)}),S(r,"isCalendarOpen",function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open}),S(r,"handleFocus",function(s){r.state.preventFocus||(r.props.onFocus(s),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})}),S(r,"sendFocusBackToInput",function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})}),S(r,"cancelFocusInput",function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null}),S(r,"deferFocusInput",function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)}),S(r,"handleDropdownFocus",function(){r.cancelFocusInput()}),S(r,"handleBlur",function(s){(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&r.props.onBlur(s),r.setState({focused:!1})}),S(r,"handleCalendarClickOutside",function(s){r.props.inline||r.setOpen(!1),r.props.onClickOutside(s),r.props.withPortal&&s.preventDefault()}),S(r,"handleChange",function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];var a=i[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,i),typeof a.isDefaultPrevented!="function"||a.isDefaultPrevented()))){r.setState({inputValue:a.target.value,lastPreSelectChange:u3});var l=hU(a.target.value,r.props.dateFormat,r.props.locale,r.props.strictParsing,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&l&&!fe(l,r.props.selected)&&(l=Yj(r.props.selected,{hours:Qn(l),minutes:Kn(l),seconds:Er(l)})),(l||!a.target.value)&&r.setSelected(l,a,!0)}}),S(r,"handleSelect",function(s,i,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(i),r.setSelected(s,i,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(s);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,u=a.endDate;l&&!u&&(r.props.swapRange||!xE(s,l))&&r.setOpen(!1)}}),S(r,"setSelected",function(s,i,o,a){var l=s;if(r.props.showYearPicker){if(l!==null&&_S(re(l),r.props))return}else if(r.props.showMonthYearPicker){if(l!==null&&hu(l,r.props))return}else if(l!==null&&mh(l,r.props))return;var u=r.props,d=u.onChange,h=u.selectsRange,m=u.startDate,g=u.endDate,v=u.selectsMultiple,T=u.selectedDates,b=u.minTime,w=u.swapRange;if(!Gs(r.props.selected,l)||r.props.allowSameDay||h||v)if(l!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(l=Af(l,{hour:Qn(r.props.selected),minute:Kn(r.props.selected),second:Er(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&b&&(l=Af(l,{hour:b.getHours(),minute:b.getMinutes(),second:b.getSeconds()})),r.props.inline||r.setState({preSelection:l}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),h){var _=!m&&!g,x=m&&!g,N=m&&g;_?d([l,null],i):x&&(l===null?d([null,null],i):xE(l,m)?d(w?[l,m]:[l,null],i):d([m,l],i)),N&&d([l,null],i)}else if(v)if(!(T!=null&&T.length))d([l],i);else{var L=T.some(function(I){return fe(I,l)});if(L){var F=T.filter(function(I){return!fe(I,l)});d(F,i)}else d([].concat(bs(T),[l]),i)}else d(l,i);o||(r.props.onSelect(l,i),r.setState({inputValue:null}))}),S(r,"setPreSelection",function(s){var i=typeof r.props.minDate<"u",o=typeof r.props.maxDate<"u",a=!0;if(s){var l=qn(s);if(i&&o)a=Sa(s,r.props.minDate,r.props.maxDate);else if(i){var u=qn(r.props.minDate);a=Is(s,u)||Gs(l,u)}else if(o){var d=ym(r.props.maxDate);a=yi(s,d)||Gs(l,d)}}a&&r.setState({preSelection:s})}),S(r,"toggleCalendar",function(){r.setOpen(!r.state.open)}),S(r,"handleTimeChange",function(s){var i=r.props.selected?r.props.selected:r.getPreSelection(),o=r.props.selected?s:Af(i,{hour:Qn(s),minute:Kn(s)});r.setState({preSelection:o}),r.props.onChange(o),r.props.shouldCloseOnSelect&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}),S(r,"onInputClick",function(){!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),r.props.onInputClick()}),S(r,"onInputKeyDown",function(s){r.props.onKeyDown(s);var i=s.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(i==="ArrowDown"||i==="ArrowUp"||i==="Enter")&&r.onInputClick();return}if(r.state.open){if(i==="ArrowDown"||i==="ArrowUp"){s.preventDefault();var o=r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',a=r.calendar.componentNode&&r.calendar.componentNode.querySelector(o);a&&a.focus({preventScroll:!0});return}var l=ve(r.state.preSelection);i==="Enter"?(s.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===Vf?(r.handleSelect(l,s),!r.props.shouldCloseOnSelect&&r.setPreSelection(l)):r.setOpen(!1)):i==="Escape"?(s.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):i==="Tab"&&r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:Lf})}}),S(r,"onPortalKeyDown",function(s){var i=s.key;i==="Escape"&&(s.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))}),S(r,"onDayKeyDown",function(s){r.props.onKeyDown(s);var i=s.key,o=s.shiftKey,a=ve(r.state.preSelection);if(i==="Enter")s.preventDefault(),r.handleSelect(a,s),!r.props.shouldCloseOnSelect&&r.setPreSelection(a);else if(i==="Escape")s.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:Lf});else if(!r.props.disabledKeyboardNavigation){var l;switch(i){case"ArrowLeft":r.props.showWeekPicker?l=qw(a,1):l=kV(a,1);break;case"ArrowRight":r.props.showWeekPicker?l=ad(a,1):l=Ls(a,1);break;case"ArrowUp":l=qw(a,1);break;case"ArrowDown":l=ad(a,1);break;case"PageUp":l=o?Co(a,1):bo(a,1);break;case"PageDown":l=o?wr(a,1):Dn(a,1);break;case"Home":l=hs(a,r.props.locale,r.props.calendarStartDay);break;case"End":l=vU(a);break;default:l=null;break}if(!l){r.props.onInputError&&r.props.onInputError({code:1,msg:Lf});return}if(s.preventDefault(),r.setState({lastPreSelectChange:Vf}),r.props.adjustDateOnChange&&r.setSelected(l),r.setPreSelection(l),r.props.inline){var u=Lt(a),d=Lt(l),h=re(a),m=re(l);u!==d||h!==m?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}}),S(r,"onPopperKeyDown",function(s){var i=s.key;i==="Escape"&&(s.preventDefault(),r.sendFocusBackToInput())}),S(r,"onClearClick",function(s){s&&s.preventDefault&&s.preventDefault(),r.sendFocusBackToInput(),r.props.selectsRange?r.props.onChange([null,null],s):r.props.onChange(null,s),r.setState({inputValue:null})}),S(r,"clear",function(){r.onClearClick()}),S(r,"onScroll",function(s){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(s)&&r.setOpen(!1)}),S(r,"renderCalendar",function(){return!r.props.inline&&!r.isCalendarOpen()?null:V.createElement(a3,{ref:function(i){r.calendar=i},locale:r.props.locale,calendarStartDay:r.props.calendarStartDay,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,monthAriaLabelPrefix:r.props.monthAriaLabelPrefix,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,holidays:CU(r.modifyHolidays()),includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,shouldFocusDayInline:r.state.shouldFocusDayInline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showPreviousMonths:r.props.showPreviousMonths,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:IE,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,weekDayClassName:r.props.weekDayClassName,monthClassName:r.props.monthClassName,timeClassName:r.props.timeClassName,showDateSelect:r.props.showDateSelect,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearItemNumber:r.props.yearItemNumber,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthAriaLabel:r.props.previousMonthAriaLabel,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthAriaLabel:r.props.nextMonthAriaLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,previousYearAriaLabel:r.props.previousYearAriaLabel,previousYearButtonLabel:r.props.previousYearButtonLabel,nextYearAriaLabel:r.props.nextYearAriaLabel,nextYearButtonLabel:r.props.nextYearButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,onYearMouseEnter:r.props.onYearMouseEnter,onYearMouseLeave:r.props.onYearMouseLeave,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,excludeScrollbar:r.props.excludeScrollbar,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,isInputFocused:r.state.focused,customTimeInput:r.props.customTimeInput,setPreSelection:r.setPreSelection,usePointerEvent:r.props.usePointerEvent,yearClassName:r.props.yearClassName},r.props.children)}),S(r,"renderAriaLiveRegion",function(){var s=r.props,i=s.dateFormat,o=s.locale,a=r.props.showTimeInput||r.props.showTimeSelect,l=a?"PPPPp":"PPPP",u;return r.props.selectsRange?u="Selected start date: ".concat(on(r.props.startDate,{dateFormat:l,locale:o}),". ").concat(r.props.endDate?"End date: "+on(r.props.endDate,{dateFormat:l,locale:o}):""):r.props.showTimeSelectOnly?u="Selected time: ".concat(on(r.props.selected,{dateFormat:i,locale:o})):r.props.showYearPicker?u="Selected year: ".concat(on(r.props.selected,{dateFormat:"yyyy",locale:o})):r.props.showMonthYearPicker?u="Selected month: ".concat(on(r.props.selected,{dateFormat:"MMMM yyyy",locale:o})):r.props.showQuarterYearPicker?u="Selected quarter: ".concat(on(r.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):u="Selected date: ".concat(on(r.props.selected,{dateFormat:l,locale:o})),V.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)}),S(r,"renderDateInput",function(){var s,i=yt(r.props.className,S({},IE,r.state.open)),o=r.props.customInput||V.createElement("input",{type:"text"}),a=r.props.customInputRef||"ref",l=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?fU(r.props.startDate,r.props.endDate,r.props):r.props.selectsMultiple?pU(r.props.selectedDates,r.props):on(r.props.selected,r.props);return V.cloneElement(o,(s={},S(S(S(S(S(S(S(S(S(S(s,a,function(u){r.input=u}),"value",l),"onBlur",r.handleBlur),"onChange",r.handleChange),"onClick",r.onInputClick),"onFocus",r.handleFocus),"onKeyDown",r.onInputKeyDown),"id",r.props.id),"name",r.props.name),"form",r.props.form),S(S(S(S(S(S(S(S(S(S(s,"autoFocus",r.props.autoFocus),"placeholder",r.props.placeholderText),"disabled",r.props.disabled),"autoComplete",r.props.autoComplete),"className",yt(o.props.className,i)),"title",r.props.title),"readOnly",r.props.readOnly),"required",r.props.required),"tabIndex",r.props.tabIndex),"aria-describedby",r.props.ariaDescribedBy),S(S(S(s,"aria-invalid",r.props.ariaInvalid),"aria-labelledby",r.props.ariaLabelledBy),"aria-required",r.props.ariaRequired)))}),S(r,"renderClearButton",function(){var s=r.props,i=s.isClearable,o=s.disabled,a=s.selected,l=s.startDate,u=s.endDate,d=s.clearButtonTitle,h=s.clearButtonClassName,m=h===void 0?"":h,g=s.ariaLabelClose,v=g===void 0?"Close":g,T=s.selectedDates;return i&&(a!=null||l!=null||u!=null||T!=null&&T.length)?V.createElement("button",{type:"button",className:yt("react-datepicker__close-icon",m,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":v,onClick:r.onClearClick,title:d,tabIndex:-1}):null}),r.state=r.calcInitialState(),r.preventFocusTimeout=null,r}return dt(e,t),ut(e,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(r,s){r.inline&&l3(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:vE(this.props.highlightDates)}),!s.focused&&!Gs(r.selected,this.props.selected)&&this.setState({inputValue:null}),s.open!==this.state.open&&(s.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),s.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var r=this.props,s=r.showIcon,i=r.icon,o=r.calendarIconClassname,a=r.toggleCalendarOnIconClick,l=this.state.open;return V.createElement("div",{className:"react-datepicker__input-container".concat(s?" react-datepicker__view-calendar-icon":"")},s&&V.createElement(t3,Tl({icon:i,className:"".concat(o," ").concat(l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var s=this.state.open?V.createElement(IS,{enableTabLoop:this.props.enableTabLoop},V.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(s=V.createElement(TS,{portalId:this.props.portalId,portalHost:this.props.portalHost},s)),V.createElement("div",null,this.renderInputContainer(),s)}return V.createElement(o3,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:r,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop,showArrow:this.props.showPopperArrow})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Wl,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}}}])}(V.Component),u3="input",Vf="navigate";const d3=()=>{var _,x,N;const{starId:t}=kg(),[e,n]=M.useState(new Date),[r,s]=M.useState("10:00"),[i,o]=M.useState(null),[a,l]=M.useState(!0),[u,d]=M.useState(!1),{user:h}=$o(),m=Rs();M.useEffect(()=>{t&&(async()=>{try{const F=await mi(Ts(ot,"stars",t));F.exists()&&o(F.data())}catch(F){console.error("Error fetching star data:",F)}finally{l(!1)}})()},[t]);const g=async()=>{if(!h){d(!0);return}try{const L=[h.uid,t].sort().join("_"),F=_r(ot,"chats");await cm(F,{participants:[h.uid,t],updatedAt:um()}),m(`/chat/${t}`)}catch(L){console.error("Error creating chat:",L)}},v=()=>{d(!1)};if(a)return p.jsx("div",{className:"text-center py-8",children:"Loading..."});if(!i)return p.jsx("div",{className:"text-center py-8",children:"Star not found"});const T=Math.round(Number(i.hourlyRate)*.1),b=Number(i.hourlyRate)+T,w=L=>{if(!L)return null;try{const F=new URL(L);let I;return F.hostname.includes("youtube.com")?I=F.searchParams.get("v"):F.hostname==="youtu.be"&&(I=F.pathname.slice(1)),I?`https://www.youtube.com/embed/${I}`:null}catch(F){return console.error("Invalid URL:",F),null}};return i.videoIntroduction&&w(i.videoIntroduction),p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[p.jsxs("div",{className:"p-6 flex items-center space-x-4 border-b dark:border-gray-700",children:[i.profilePicture&&p.jsx("img",{src:i.profilePicture,alt:i.name,className:"w-16 h-16 rounded-full object-cover border-2 border-indigo-500"}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold mb-1 dark:text-white",children:i.name}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:i.category})]})]}),i.videoIntroduction&&p.jsxs("div",{className:"p-6 border-b dark:border-gray-700",children:[p.jsxs("h2",{className:"text-xl font-semibold mb-4 dark:text-white flex items-center",children:[p.jsx(FI,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Introduction Video"]}),p.jsx("div",{className:"aspect-w-16 aspect-h-9 rounded-lg overflow-hidden",children:p.jsx("iframe",{src:w(i.videoIntroduction),title:`${i.name} - Introduction Video`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})})]}),i.advertisingImages&&i.advertisingImages.length>0&&p.jsx("div",{className:"flex overflow-x-auto py-4 px-6 space-x-4 scrollbar-hide",children:i.advertisingImages.map((L,F)=>p.jsx("img",{src:L,alt:`${i.name} - Image ${F+1}`,className:"w-72 h-48 object-cover rounded-lg flex-shrink-0 hover:scale-105 transition-all duration-300"},F))}),p.jsxs("div",{className:"p-6 border-t dark:border-gray-700",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx(Os,{className:"w-5 h-5 text-yellow-400 fill-current"}),p.jsxs("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:[i.experience," years experience"]})]}),p.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6 animate-fade-in-delay-2",children:i.bio}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(by,{className:"w-5 h-5 mr-2 text-indigo-600"}),p.jsxs("span",{className:"dark:text-gray-300",children:["Professional Experience: ",i.experience," years"]})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(oh,{className:"w-5 h-5 mr-2 text-indigo-600"}),p.jsxs("span",{className:"dark:text-gray-300",children:["Expertise: ",i.expertise]})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(Cy,{className:"w-5 h-5 mr-2 text-indigo-600"}),p.jsxs("span",{className:"dark:text-gray-300",children:["Contact: ",i.email]})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(VI,{className:"w-5 h-5 mr-2 text-indigo-600"}),p.jsxs("span",{className:"dark:text-gray-300",children:["Phone: ",i.phoneNumber]})]})]})]})]}),p.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"Social Media"}),p.jsxs("div",{className:"space-y-2",children:[((_=i.socialMediaLinks)==null?void 0:_.facebook)&&p.jsx("a",{href:i.socialMediaLinks.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline block",children:"Facebook"}),((x=i.socialMediaLinks)==null?void 0:x.twitter)&&p.jsx("a",{href:i.socialMediaLinks.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline block",children:"LinkedIn"}),((N=i.socialMediaLinks)==null?void 0:N.youtube)&&p.jsx("a",{href:i.socialMediaLinks.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline block",children:"YouTube"})]})]})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 h-fit",children:[p.jsx("h2",{className:"text-2xl font-semibold mb-6 dark:text-white",children:"Book an Experience"}),p.jsx("div",{className:"animate-fade-in",children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-2",children:"Select Date"}),p.jsx(c3,{selected:e,onChange:L=>n(L),minDate:new Date,className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-2",children:"Select Time"}),p.jsx("select",{value:r,onChange:L=>s(L.target.value),className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:Array.from({length:24},(L,F)=>p.jsx("option",{value:`${F.toString().padStart(2,"0")}:00`,children:`${F.toString().padStart(2,"0")}:00`},F))})]}),p.jsxs("div",{className:"border-t pt-4 mt-4",children:[p.jsxs("div",{className:"flex justify-between mb-2",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Base Price"}),p.jsxs("span",{className:"font-semibold dark:text-white",children:["$",i.hourlyRate]})]}),p.jsxs("div",{className:"flex justify-between mb-2",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Service Fee"}),p.jsxs("span",{className:"font-semibold dark:text-white",children:["$",T]})]}),p.jsxs("div",{className:"flex justify-between text-lg font-bold mt-4 pt-4 border-t",children:[p.jsx("span",{className:"dark:text-white",children:"Total"}),p.jsxs("span",{className:"text-indigo-600 dark:text-indigo-400",children:["$",b]})]})]}),p.jsx("button",{onClick:()=>window.location.href="/booking-confirmation",className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition mb-4",children:"Book Now"}),p.jsx("div",{className:"mt-6 flex gap-4",children:p.jsxs("button",{onClick:g,className:"flex items-center justify-center px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[p.jsx(Dy,{className:"w-5 h-5 mr-2"}),"Chat with Star"]})})]})})]})]}),p.jsx(Py,{isOpen:u,onClose:v,redirectAfterLogin:`/chat/${t}`})]})},h3=[{name:"All Categories",icon:Os},{name:"Pop Singer",icon:sd},{name:"DJ",icon:y4},{name:"Band",icon:oh},{name:"Hip-Hop Artist",icon:sd}],SE=()=>{const t=Rs(),[e,n]=M.useState("All Categories"),[r,s]=M.useState(""),[i,o]=M.useState([]),[a,l]=M.useState(!0);M.useEffect(()=>{(async()=>{try{console.log("Starting to fetch stars...");const h=_r(ot,"stars");console.log("Stars collection reference:",h);const m=await Iy(_r(ot,"stars"));console.log("Query snapshot:",m.size,"documents found");const g=m.docs.map(v=>{const T=v.data();return console.log("Processing star document:",v.id,T),{id:v.id,name:T.name||"Unknown",category:T.category||"Uncategorized",hourlyRate:T.hourlyRate||"0",profilePicture:T.profilePicture||"",advertisingImages:T.advertisingImages||[],experience:T.experience||"0"}});console.log("Final processed stars data:",g),o(g)}catch(h){console.error("Error fetching stars:",h),setError("Failed to load stars. Please try again later.")}finally{l(!1)}})()},[]);const u=i.filter(d=>{var g,v;const h=e==="All Categories"||d.category===e,m=((g=d.name)==null?void 0:g.toLowerCase().includes(r.toLowerCase()))||((v=d.category)==null?void 0:v.toLowerCase().includes(r.toLowerCase()));return h&&m});return p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"Categories"}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:h3.map(({name:d,icon:h})=>p.jsxs("button",{onClick:()=>n(d),className:`flex flex-col items-center p-4 rounded-lg transition ${e===d?"bg-indigo-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-indigo-50 dark:hover:bg-gray-700"}`,children:[p.jsx(h,{className:"w-8 h-8 mb-2"}),p.jsx("span",{className:"text-sm text-center",children:d})]},d))})]}),p.jsx("div",{className:"mb-8",children:p.jsxs("div",{className:"relative",children:[p.jsx(jI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"text",placeholder:"Search stars...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800 dark:text-white",value:r,onChange:d=>s(d.target.value)})]})}),a?p.jsx("div",{className:"text-center py-8 dark:text-white",children:"Loading stars..."}):u.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map(d=>{var h;return p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden cursor-pointer hover:shadow-xl transition",onClick:()=>t(`/star/${d.id}`),children:[p.jsx("img",{src:d.profilePicture||((h=d.advertisingImages)==null?void 0:h[0])||"/default-avatar.png",alt:d.name,className:"w-full h-48 object-cover",onError:m=>{m.currentTarget.src="/default-avatar.png"}}),p.jsxs("div",{className:"p-4",children:[p.jsx("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:d.name}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:d.category}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("span",{className:"text-indigo-600 dark:text-indigo-400",children:["$",d.hourlyRate,"/hour"]}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[d.experience," years exp."]})})]})]})]},d.id)})}):p.jsx("div",{className:"text-center py-8 dark:text-white",children:"No stars found. Try adjusting your search or category filter."})]})},f3=()=>p.jsx("div",{className:"max-w-2xl mx-auto px-4 py-16 text-center text-gray-900 dark:text-gray-100",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[p.jsx(i4,{className:"w-16 h-16 text-green-500 mx-auto mb-6"}),p.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Booking Confirmed!"}),p.jsx("p",{className:"text-lg mb-8",children:"Thank you for booking with StarConnect. Your booking details have been sent to your email."}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"We look forward to providing you with an unforgettable experience!"})]})});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="firebasestorage.googleapis.com",bS="storageBucket",p3=2*60*1e3,m3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e extends Zn{constructor(e,n,r=0){super(jf(e),`Firebase Storage: ${n} (${jf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$e.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Be;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Be||(Be={}));function jf(t){return"storage/"+t}function Hy(){const t="An unknown error occurred, please check the error payload for server response.";return new $e(Be.UNKNOWN,t)}function g3(t){return new $e(Be.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function y3(t){return new $e(Be.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function v3(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $e(Be.UNAUTHENTICATED,t)}function _3(){return new $e(Be.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function w3(t){return new $e(Be.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function E3(){return new $e(Be.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function x3(){return new $e(Be.CANCELED,"User canceled the upload/download.")}function k3(t){return new $e(Be.INVALID_URL,"Invalid URL '"+t+"'.")}function T3(t){return new $e(Be.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function I3(){return new $e(Be.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bS+"' property when initializing the app?")}function S3(){return new $e(Be.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function b3(){return new $e(Be.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function C3(t){return new $e(Be.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Sm(t){return new $e(Be.INVALID_ARGUMENT,t)}function CS(){return new $e(Be.APP_DELETED,"The Firebase app was deleted.")}function D3(t){return new $e(Be.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $a(t,e){return new $e(Be.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function pa(t){throw new $e(Be.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Zt.makeFromUrl(e,n)}catch{return new Zt(e,"")}if(r.path==="")return r;throw T3(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${s}/o${m}`,"i"),v={bucket:1,path:3},T=n===SS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",w=new RegExp(`^https?://${T}/${s}/${b}`,"i"),x=[{regex:a,indices:l,postModify:i},{regex:g,indices:v,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<x.length;N++){const L=x[N],F=L.regex.exec(e);if(F){const I=F[L.indices.bucket];let E=F[L.indices.path];E||(E=""),r=new Zt(I,E),L.postModify(r);break}}if(r==null)throw k3(e);return r}}class P3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...b){u||(u=!0,e.apply(null,b))}function h(b){s=setTimeout(()=>{s=null,t(g,l())},b)}function m(){i&&clearTimeout(i)}function g(b,...w){if(u){m();return}if(b){m(),d.call(null,b,...w);return}if(l()||o){m(),d.call(null,b,...w);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,h(x)}let v=!1;function T(b){v||(v=!0,m(),!u&&(s!==null?(b||(a=2),clearTimeout(s),h(0)):b||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,T(!0)},n),T}function R3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){return t!==void 0}function M3(t){return typeof t=="object"&&!Array.isArray(t)}function Yy(t){return typeof t=="string"||t instanceof String}function bE(t){return qy()&&t instanceof Blob}function qy(){return typeof Blob<"u"}function CE(t,e,n,r){if(r<e)throw Sm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Sm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function DS(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ni;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ni||(ni={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n,r,s,i,o,a,l,u,d,h,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,v)=>{this.resolve_=g,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new jc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===ni.NO_ERROR,l=i.getStatus();if(!a||O3(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===ni.ABORT;r(!1,new jc(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new jc(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());A3(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Hy();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?CS():x3();o(l)}else{const l=E3();o(l)}};this.canceled_?n(!1,new jc(!1,null,!0)):this.backoffId_=N3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&R3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function V3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function j3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function F3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function U3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function B3(t,e,n,r,s,i,o=!0){const a=DS(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return F3(u,e),V3(u,n),j3(u,i),U3(u,r),new L3(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function W3(...t){const e=$3();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(qy())return new Blob(t);throw new $e(Be.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function z3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){if(typeof atob>"u")throw C3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ff{constructor(e,n){this.data=e,this.contentType=n||null}}function Y3(t,e){switch(t){case Fn.RAW:return new Ff(PS(e));case Fn.BASE64:case Fn.BASE64URL:return new Ff(NS(t,e));case Fn.DATA_URL:return new Ff(K3(e),Q3(e))}throw Hy()}function PS(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function q3(t){let e;try{e=decodeURIComponent(t)}catch{throw $a(Fn.DATA_URL,"Malformed data URL.")}return PS(e)}function NS(t,e){switch(t){case Fn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw $a(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Fn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw $a(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=H3(e)}catch(s){throw s.message.includes("polyfill")?s:$a(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class RS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw $a(Fn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=G3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function K3(t){const e=new RS(t);return e.base64?NS(Fn.BASE64,e.rest):q3(e.rest)}function Q3(t){return new RS(t).contentType}function G3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n){let r=0,s="";bE(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(bE(this.data_)){const r=this.data_,s=z3(r,e,n);return s===null?null:new qr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new qr(r,!0)}}static getBlob(...e){if(qy()){const n=e.map(r=>r instanceof qr?r.data_:r);return new qr(W3.apply(null,n))}else{const n=e.map(o=>Yy(o)?Y3(Fn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new qr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t){let e;try{e=JSON.parse(t)}catch{return null}return M3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function J3(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function MS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t,e){return e}class At{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Z3}}let Fc=null;function e6(t){return!Yy(t)||t.length<2?t:MS(t)}function OS(){if(Fc)return Fc;const t=[];t.push(new At("bucket")),t.push(new At("generation")),t.push(new At("metageneration")),t.push(new At("name","fullPath",!0));function e(i,o){return e6(o)}const n=new At("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new At("size");return s.xform=r,t.push(s),t.push(new At("timeCreated")),t.push(new At("updated")),t.push(new At("md5Hash",null,!0)),t.push(new At("cacheControl",null,!0)),t.push(new At("contentDisposition",null,!0)),t.push(new At("contentEncoding",null,!0)),t.push(new At("contentLanguage",null,!0)),t.push(new At("contentType",null,!0)),t.push(new At("metadata","customMetadata",!0)),Fc=t,Fc}function t6(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Zt(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function n6(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return t6(r,t),r}function LS(t,e,n){const r=AS(e);return r===null?null:n6(t,r,n)}function r6(t,e,n,r){const s=AS(e);if(s===null||!Yy(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const d=t.bucket,h=t.fullPath,m="/b/"+o(d)+"/o/"+o(h),g=Ky(m,n,r),v=DS({alt:"media",token:u});return g+v})[0]}function s6(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class VS{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(t){if(!t)throw Hy()}function i6(t,e){function n(r,s){const i=LS(t,s,e);return jS(i!==null),i}return n}function o6(t,e){function n(r,s){const i=LS(t,s,e);return jS(i!==null),r6(i,s,t.host,t._protocol)}return n}function FS(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=_3():s=v3():n.getStatus()===402?s=y3(t.bucket):n.getStatus()===403?s=w3(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function a6(t){const e=FS(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=g3(t.path)),i.serverResponse=s.serverResponse,i}return n}function l6(t,e,n){const r=e.fullServerUrl(),s=Ky(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new VS(s,i,o6(t,n),o);return a.errorHandler=a6(e),a}function c6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function u6(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=c6(null,e)),r}function d6(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let x="";for(let N=0;N<2;N++)x=x+Math.random().toString().slice(2);return x}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=u6(e,r,s),d=s6(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+l+"--",g=qr.getBlob(h,r,m);if(g===null)throw S3();const v={name:u.fullPath},T=Ky(i,t.host,t._protocol),b="POST",w=t.maxUploadRetryTime,_=new VS(T,b,i6(t,n),w);return _.urlParams=v,_.headers=o,_.body=g.uploadData(),_.errorHandler=FS(e),_}class h6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ni.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ni.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ni.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw pa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class f6 extends h6{initXhr(){this.xhr_.responseType="text"}}function US(){return new f6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n){this._service=e,n instanceof Zt?this._location=n:this._location=Zt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _i(e,n)}get root(){const e=new Zt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MS(this._location.path)}get storage(){return this._service}get parent(){const e=X3(this._location.path);if(e===null)return null;const n=new Zt(this._location.bucket,e);return new _i(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw D3(e)}}function p6(t,e,n){t._throwIfRoot("uploadBytes");const r=d6(t.storage,t._location,OS(),new qr(e,!0),n);return t.storage.makeRequestWithTokens(r,US).then(s=>({metadata:s,ref:t}))}function m6(t){t._throwIfRoot("getDownloadURL");const e=l6(t.storage,t._location,OS());return t.storage.makeRequestWithTokens(e,US).then(n=>{if(n===null)throw b3();return n})}function g6(t,e){const n=J3(t._location.path,e),r=new Zt(t._location.bucket,n);return new _i(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(t){return/^[A-Za-z]+:\/\//.test(t)}function v6(t,e){return new _i(t,e)}function BS(t,e){if(t instanceof Qy){const n=t;if(n._bucket==null)throw I3();const r=new _i(n,n._bucket);return e!=null?BS(r,e):r}else return e!==void 0?g6(t,e):t}function _6(t,e){if(e&&y6(e)){if(t instanceof Qy)return v6(t,e);throw Sm("To use ref(service, url), the first argument must be a Storage instance.")}else return BS(t,e)}function DE(t,e){const n=e==null?void 0:e[bS];return n==null?null:Zt.makeFromBucketSpec(n,t)}function w6(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:h1(s,t.app.options.projectId))}class Qy{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=SS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=p3,this._maxUploadRetryTime=m3,this._requests=new Set,s!=null?this._bucket=Zt.makeFromBucketSpec(s,this._host):this._bucket=DE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zt.makeFromBucketSpec(this._url,e):this._bucket=DE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _i(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new P3(CS());{const o=B3(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const PE="@firebase/storage",NE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="storage";function Uf(t,e,n){return t=Fe(t),p6(t,e,n)}function Bf(t){return t=Fe(t),m6(t)}function $f(t,e){return t=Fe(t),_6(t,e)}function E6(t=Sg(),e){t=Fe(t);const r=Fd(t,$S).getImmediate({identifier:e}),s=c1("storage");return s&&x6(r,...s),r}function x6(t,e,n,r={}){w6(t,e,n,r)}function k6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Qy(n,r,s,e,ki)}function T6(){ci(new ys($S,k6,"PUBLIC").setMultipleInstances(!0)),$n(PE,NE,""),$n(PE,NE,"esm2017")}T6();const I6=()=>{const t=Rs(),[e,n]=M.useState({name:"",email:"",phone:"",category:"",experience:"",hourlyRate:"",profilePicture:"",profilePictureType:"url",videoIntroduction:"",socialMediaLinks:{instagram:"",twitter:"",facebook:"",youtube:""},governmentId:null,advertisingImages:[]}),[r,s]=M.useState(!1),[i,o]=M.useState(""),a=m=>{const{name:g,value:v,files:T}=m.target;if(g==="governmentId")n(b=>({...b,governmentId:T[0]}));else if(g.startsWith("socialMediaLinks.")){const b=g.split(".")[1];n(w=>({...w,socialMediaLinks:{...w.socialMediaLinks,[b]:v}}))}else g==="profilePictureType"?n(b=>({...b,profilePictureType:v,profilePicture:v==="url"?"":null})):g==="profilePicture"?e.profilePictureType==="file"?n(b=>({...b,profilePicture:T[0]})):n(b=>({...b,profilePicture:v})):n(b=>({...b,[g]:v}))},l=()=>{e.advertisingImages.length<5&&n(m=>({...m,advertisingImages:[...m.advertisingImages,{type:"url",value:""}]}))},u=(m,g)=>{const{value:v,files:T}=g.target,b=[...e.advertisingImages];g.target.name==="advertisingImageType"?(b[m].type=v,b[m].value=v==="url"?"":null):b[m].type==="file"?b[m].value=T[0]:b[m].value=v,n(w=>({...w,advertisingImages:b}))},d=m=>{const g=[...e.advertisingImages];g.splice(m,1),n(v=>({...v,advertisingImages:g}))},h=async m=>{if(m.preventDefault(),s(!0),o(""),!ze.currentUser){o("User not authenticated."),s(!1);return}const g=ze.currentUser,v=E6();try{let T="";if(e.governmentId){const x=$f(v,`governmentIds/${g.uid}/${e.governmentId.name}`),N=await Uf(x,e.governmentId);T=await Bf(N.ref)}let b=e.profilePicture;if(e.profilePictureType==="file"&&e.profilePicture){const x=$f(v,`profilePictures/${g.uid}/${e.profilePicture.name}`),N=await Uf(x,e.profilePicture);b=await Bf(N.ref)}const w=[];for(const x of e.advertisingImages)if(x.type==="file"&&x.value){const N=$f(v,`advertisingImages/${g.uid}/${x.value.name}`),L=await Uf(N,x.value),F=await Bf(L.ref);w.push(F)}else x.type==="url"&&w.push(x.value);const _={name:e.name,email:e.email,phone:e.phone,category:e.category,experience:e.experience,hourlyRate:e.hourlyRate,profilePicture:b,videoIntroduction:e.videoIntroduction,socialMediaLinks:e.socialMediaLinks,governmentId:T,advertisingImages:w};await lm(Ts(ot,"stars",g.uid),_),t("/")}catch(T){console.error("Error registering star:",T),o("Failed to register. Please try again.")}finally{s(!1)}};return p.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-12 text-gray-900 dark:text-gray-100",children:[p.jsx("h1",{className:"text-3xl font-bold text-center mb-8 dark:text-white",children:"Register as a Star"}),i&&p.jsx("p",{className:"text-red-500 text-center mb-4",children:i}),p.jsxs("form",{onSubmit:h,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"Personal Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),p.jsxs("div",{className:"relative",children:[p.jsx(vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"text",name:"name",value:e.name,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),p.jsxs("div",{className:"relative",children:[p.jsx(Cy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"email",name:"email",value:e.email,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),p.jsxs("div",{className:"relative",children:[p.jsx(VI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]})]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"Professional Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),p.jsxs("div",{className:"relative",children:[p.jsx(r4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsxs("select",{name:"category",value:e.category,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800",required:!0,children:[p.jsx("option",{value:"",children:"Select Category"}),p.jsx("option",{value:"Hip-Hop Artist",children:"Hip-Hop Artist"}),p.jsx("option",{value:"Pop Singer",children:"Pop Singer"}),p.jsx("option",{value:"DJ",children:"DJ"}),p.jsx("option",{value:"Music Band",children:"Music Band"})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Years of Experience"}),p.jsxs("div",{className:"relative",children:[p.jsx(by,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"number",name:"experience",value:e.experience,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Hourly Rate"}),p.jsxs("div",{className:"relative",children:[p.jsx(l4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"number",name:"hourlyRate",value:e.hourlyRate,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]})]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"Media"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Profile Picture"}),p.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"radio",name:"profilePictureType",value:"url",checked:e.profilePictureType==="url",onChange:a,className:"text-indigo-600 focus:ring-indigo-500 h-4 w-4"}),p.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"URL"})]}),p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"radio",name:"profilePictureType",value:"file",checked:e.profilePictureType==="file",onChange:a,className:"text-indigo-600 focus:ring-indigo-500 h-4 w-4"}),p.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Upload"})]})]}),p.jsx("div",{className:"relative",children:e.profilePictureType==="url"?p.jsxs(p.Fragment,{children:[p.jsx(Bw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:"profilePicture",value:e.profilePicture,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]}):p.jsxs(p.Fragment,{children:[p.jsx(If,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"file",name:"profilePicture",onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Video Introduction URL"}),p.jsxs("div",{className:"relative",children:[p.jsx(FI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:"videoIntroduction",value:e.videoIntroduction,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Government ID"}),p.jsxs("div",{className:"relative",children:[p.jsx(If,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"file",name:"governmentId",onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]})]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"Advertising Images (Max 5)"}),e.advertisingImages.map((m,g)=>p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Image ",g+1]}),p.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"radio",name:`advertisingImageType${g}`,value:"url",checked:m.type==="url",onChange:v=>u(g,v),className:"text-indigo-600 focus:ring-indigo-500 h-4 w-4"}),p.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"URL"})]}),p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"radio",name:`advertisingImageType${g}`,value:"file",checked:m.type==="file",onChange:v=>u(g,v),className:"text-indigo-600 focus:ring-indigo-500 h-4 w-4"}),p.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Upload"})]})]}),p.jsx("div",{className:"relative",children:m.type==="url"?p.jsxs(p.Fragment,{children:[p.jsx(Bw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:`advertisingImage${g}`,value:m.value,onChange:v=>u(g,v),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]}):p.jsxs(p.Fragment,{children:[p.jsx(If,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"file",name:`advertisingImage${g}`,onChange:v=>u(g,v),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})})]}),p.jsx("button",{type:"button",onClick:()=>d(g),className:"text-red-500 hover:text-red-700 mt-2",children:"Remove"})]},g)),p.jsxs("button",{type:"button",onClick:l,className:"text-indigo-600 hover:text-indigo-800 flex items-center",children:[p.jsx(g4,{className:"w-4 h-4 mr-1"}),"Add Image"]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"Social Media Links"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Instagram"}),p.jsxs("div",{className:"relative",children:[p.jsx(m4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:"socialMediaLinks.instagram",value:e.socialMediaLinks.instagram,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Twitter"}),p.jsxs("div",{className:"relative",children:[p.jsx(Sf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:"socialMediaLinks.twitter",value:e.socialMediaLinks.twitter,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Facebook"}),p.jsxs("div",{className:"relative",children:[p.jsx(Sf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:"socialMediaLinks.facebook",value:e.socialMediaLinks.facebook,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"YouTube"}),p.jsxs("div",{className:"relative",children:[p.jsx(Sf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:"socialMediaLinks.youtube",value:e.socialMediaLinks.youtube,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]})]})]}),p.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition disabled:bg-gray-400",disabled:r,children:r?"Registering...":"Register"})]})]})},S6=()=>{const{user:t}=$o(),[e,n]=M.useState(null),[r,s]=M.useState(!0),[i,o]=M.useState("");return M.useEffect(()=>{(async()=>{if(t)try{const l=Ts(ot,"stars",t.uid),u=await mi(l);u.exists()?n(u.data()):o("Star profile not found.")}catch(l){console.error("Error fetching star data:",l),o("Failed to fetch profile data.")}finally{s(!1)}})()},[t]),r?p.jsx("div",{className:"container mx-auto p-4 text-center",children:"Loading..."}):i?p.jsx("div",{className:"container mx-auto p-4 text-center text-red-500",children:i}):e?p.jsxs("div",{className:"container mx-auto p-4",children:[p.jsx("h1",{className:"text-2xl font-bold text-center mb-8",children:"Star Profile"}),p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Personal Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Name:"}),p.jsx("p",{children:e.name})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Email:"}),p.jsx("p",{children:e.email})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Phone:"}),p.jsx("p",{children:e.phone})]})]})]}),p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Professional Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Category:"}),p.jsx("p",{children:e.category})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Experience:"}),p.jsxs("p",{children:[e.experience," years"]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Hourly Rate:"}),p.jsxs("p",{children:["$",e.hourlyRate]})]})]})]}),p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Media"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Profile Picture:"}),p.jsx("img",{src:e.profilePicture,alt:"Profile",className:"w-32 h-32 rounded-full object-cover"})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Video Introduction:"}),p.jsx("a",{href:e.videoIntroduction,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Watch Video"})]})]})]}),p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Social Media Links"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.socialMediaLinks.instagram&&p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Instagram:"}),p.jsx("a",{href:e.socialMediaLinks.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:e.socialMediaLinks.instagram})]}),e.socialMediaLinks.twitter&&p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Twitter:"}),p.jsx("a",{href:e.socialMediaLinks.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:e.socialMediaLinks.twitter})]}),e.socialMediaLinks.facebook&&p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Facebook:"}),p.jsx("a",{href:e.socialMediaLinks.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:e.socialMediaLinks.facebook})]}),e.socialMediaLinks.youtube&&p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"YouTube:"}),p.jsx("a",{href:e.socialMediaLinks.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:e.socialMediaLinks.youtube})]})]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Advertising Images"}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.advertisingImages.map((a,l)=>p.jsx("img",{src:a,alt:`Advertising ${l+1}`,className:"w-full h-48 object-cover rounded-lg"},l))})]})]}):p.jsx("div",{className:"container mx-auto p-4 text-center",children:"No profile data found."})},b6=()=>{const{starId:t}=kg(),{user:e}=$o(),[n,r]=M.useState([]),[s,i]=M.useState(""),[o,a]=M.useState(null),[l,u]=M.useState(!0),d=M.useRef(null),h=()=>{var g;(g=d.current)==null||g.scrollIntoView({behavior:"smooth"})};M.useEffect(h,[n]),M.useEffect(()=>{(async()=>{if(t){const v=await mi(Ts(ot,"stars",t));v.exists()&&a(v.data())}})()},[t]),M.useEffect(()=>{if(!ze.currentUser||!t)return;const g=[ze.currentUser.uid,t].sort().join("_"),v=_r(ot,"messages"),T=wy(v,Ey("chatId","==",g),CI("timestamp","asc")),b=AI(T,w=>{const _=w.docs.map(x=>({id:x.id,...x.data()}));r(_),u(!1)});return()=>b()},[t]);const m=async g=>{if(g.preventDefault(),!s.trim()||!ze.currentUser)return;const v=[ze.currentUser.uid,t].sort().join("_"),T=ze.currentUser.uid===t;try{await cm(_r(ot,"messages"),{chatId:v,text:s,senderId:ze.currentUser.uid,senderName:T?o==null?void 0:o.name:(e==null?void 0:e.displayName)||(e==null?void 0:e.email),senderType:T?"star":"user",senderImage:T?o==null?void 0:o.profilePicture:null,timestamp:um()});const b=_r(ot,"chats");await cm(b,{participants:[ze.currentUser.uid,t],lastMessage:s,lastSenderName:T?o==null?void 0:o.name:(e==null?void 0:e.displayName)||(e==null?void 0:e.email),updatedAt:um()}),i("")}catch(b){console.error("Error sending message:",b)}};return l?p.jsx("div",{className:"max-w-3xl mx-auto p-4",children:"Loading..."}):p.jsxs("div",{className:"max-w-3xl mx-auto p-4",children:[p.jsx("div",{className:"flex items-center mb-4",children:o&&p.jsxs("div",{className:"flex items-center",children:[o.profilePicture&&p.jsx("img",{src:o.profilePicture,alt:o.name,className:"w-10 h-10 rounded-full mr-3"}),p.jsx("h1",{className:"text-2xl font-bold",children:o.name})]})}),p.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg shadow h-[60vh] overflow-y-auto",children:[n.map(g=>{var v,T,b,w;return p.jsx("div",{className:`mb-4 ${g.senderId===((v=ze.currentUser)==null?void 0:v.uid)?"ml-auto":""}`,children:p.jsxs("div",{className:`flex items-start gap-2 ${g.senderId===((T=ze.currentUser)==null?void 0:T.uid)?"flex-row-reverse":""}`,children:[g.senderImage?p.jsx("img",{src:g.senderImage,alt:g.senderName,className:"w-8 h-8 rounded-full"}):p.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center",children:(b=g.senderName)==null?void 0:b.charAt(0).toUpperCase()}),p.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg ${g.senderId===((w=ze.currentUser)==null?void 0:w.uid)?"bg-blue-500 text-white":"bg-white dark:bg-gray-700"}`,children:[p.jsx("p",{className:"text-sm font-medium mb-1",children:g.senderName}),p.jsx("p",{children:g.text})]})]})},g.id)}),p.jsx("div",{ref:d})]}),p.jsxs("form",{onSubmit:m,className:"mt-4 flex gap-2",children:[p.jsx("input",{type:"text",value:s,onChange:g=>i(g.target.value),placeholder:"Type your message...",className:"flex-1 p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600"}),p.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Send"})]})]})},C6=()=>{const{user:t}=$o(),[e,n]=M.useState([]),[r,s]=M.useState(!0);return M.useEffect(()=>{if(!t){s(!1);return}const i=_r(ot,"chats"),o=wy(i,Ey("participants","array-contains",t.uid),CI("updatedAt","desc")),a=AI(o,async l=>{const u=new Map;for(const d of l.docs){const h=d.data();if(!h.lastMessage)continue;const m=h.participants.find(v=>v!==t.uid),g=[t.uid,m].sort().join("_");if(!u.has(g)){let v;try{v=await mi(d(ot,"stars",m)),v.exists()||(v=await mi(d(ot,"users",m)))}catch(T){console.error("Error fetching user data:",T)}u.set(g,{id:d.id,lastMessage:h.lastMessage,lastSenderName:h.lastSenderName||"",participants:h.participants,updatedAt:h.updatedAt,otherUserName:v!=null&&v.exists()?v.data().name||v.data().username:"Unknown User",otherUserImage:v!=null&&v.exists()?v.data().profilePicture:null})}}n(Array.from(u.values())),s(!1)});return()=>a()},[t]),r?p.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):p.jsx("div",{className:"container mx-auto p-4",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[p.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:p.jsx("h2",{className:"text-xl font-semibold",children:"Messages"})}),p.jsx("div",{className:"divide-y dark:divide-gray-700",children:e.length===0?p.jsx("div",{className:"p-4 text-center text-gray-500",children:"No messages yet"}):e.map(i=>p.jsx(La,{to:`/chat/${i.participants.find(o=>o!==(t==null?void 0:t.uid))}`,className:"block hover:bg-gray-50 dark:hover:bg-gray-700",children:p.jsx("div",{className:"p-4",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[i.otherUserImage?p.jsx("img",{src:i.otherUserImage,alt:i.otherUserName,className:"w-10 h-10 rounded-full"}):p.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center",children:p.jsx(Dy,{className:"w-6 h-6 text-gray-600"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-semibold",children:i.otherUserName}),p.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[i.lastSenderName,": ",i.lastMessage]})]}),i.updatedAt&&p.jsx("div",{className:"text-xs text-gray-500",children:new Date(i.updatedAt.toDate()).toLocaleDateString()})]})})},i.id))})]})})},RE=({isDark:t,toggleDarkMode:e,onClose:n})=>{const[r,s]=M.useState(!1);M.useEffect(()=>{(async()=>{if(ze.currentUser){const a=Ts(ot,"stars",ze.currentUser.uid),l=await mi(a);s(l.exists())}})()},[]);const i=async()=>{try{await $1(ze),n()}catch(o){console.error("Error signing out:",o)}};return p.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 z-10 animate-fade-in",children:[p.jsx("div",{className:"absolute top-[-5px] right-3 h-0 w-0 border-l-[5px] border-r-[5px] border-b-[5px] border-l-transparent border-r-transparent border-b-white dark:border-b-gray-800"}),p.jsx("button",{onClick:e,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:t?p.jsxs(p.Fragment,{children:[p.jsx(hm,{className:"w-4 h-4 mr-2"}),"Light Mode"]}):p.jsxs(p.Fragment,{children:[p.jsx(dm,{className:"w-4 h-4 mr-2"}),"Dark Mode"]})}),r?p.jsxs(La,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:n,children:[p.jsx(vl,{className:"w-4 h-4 mr-2 inline-block"}),"Profile"]}):p.jsxs(La,{to:"/register-star",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:n,children:[p.jsx(Os,{className:"w-4 h-4 mr-2 inline-block"}),"Register as a Star"]}),p.jsxs(La,{to:"/messages",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:n,children:[p.jsx(Dy,{className:"w-4 h-4 mr-2 inline-block"}),"Messages"]}),p.jsxs("button",{onClick:i,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[p.jsx(f4,{className:"w-4 h-4 mr-2"}),"Logout"]})]})},D6=()=>{const[t,e]=M.useState(!1),[n,r]=M.useState(!1),[s,i]=M.useState(!1),[o,a]=M.useState(!1),{user:l}=$o();M.useEffect(()=>{(localStorage.theme==="dark"||!localStorage.theme&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(r(!0),document.documentElement.classList.add("dark"))},[]);const u=()=>{n?(document.documentElement.classList.remove("dark"),localStorage.theme="light"):(document.documentElement.classList.add("dark"),localStorage.theme="dark"),r(!n)},d=()=>{a(!o)},h=()=>{a(!1)};return p.jsxs(p.Fragment,{children:[p.jsx("nav",{className:"bg-white dark:bg-gray-800 shadow-lg",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex items-center justify-between h-16",children:[p.jsxs(La,{to:"/",className:"flex items-center space-x-3 group",children:[p.jsx("div",{className:"transform group-hover:scale-110 transition-transform duration-300",children:p.jsx(BI,{})}),p.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-indigo-800 bg-clip-text text-transparent",children:"StarConnect"})]}),p.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[p.jsx("button",{onClick:u,className:"p-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors","aria-label":"Toggle dark mode",children:n?p.jsx(hm,{className:"w-5 h-5"}):p.jsx(dm,{className:"w-5 h-5"})}),l?p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:d,className:"text-gray-700 dark:text-gray-200 flex items-center gap-1",children:[p.jsx("span",{children:l.displayName||l.email}),p.jsx(Uw,{className:"w-4 h-4"})]}),o&&p.jsx(RE,{isDark:n,toggleDarkMode:u,onClose:h})]}):p.jsxs("button",{onClick:()=>e(!0),className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-200 hover:text-indigo-600 dark:hover:text-indigo-400 transition",children:[p.jsx(vl,{className:"w-5 h-5"}),p.jsx("span",{children:"Sign In"})]})]}),p.jsx("div",{className:"md:hidden",children:p.jsx("button",{onClick:()=>i(!0),children:p.jsx(p4,{className:"h-6 w-6 text-gray-700 dark:text-gray-200"})})})]})})}),p.jsx("div",{className:`fixed top-0 right-0 h-screen w-64 bg-white dark:bg-gray-800 shadow-xl z-50 transition-transform duration-300 ease-in-out transform ${s?"translate-x-0":"translate-x-full"}`,children:p.jsxs("div",{className:"p-4",children:[p.jsx("button",{onClick:()=>i(!1),className:"absolute top-4 right-4 text-gray-600 dark:text-gray-300",children:p.jsx(UI,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex flex-col items-center mt-10 space-y-4",children:[p.jsx("button",{onClick:u,className:"p-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors","aria-label":"Toggle dark mode",children:n?p.jsx(hm,{className:"w-8 h-8"}):p.jsx(dm,{className:"w-8 h-8"})}),l?p.jsxs("div",{className:"relative w-full",children:[p.jsxs("button",{onClick:d,className:"text-gray-700 dark:text-gray-200 w-full text-center flex items-center justify-center gap-1",children:[p.jsx("span",{children:l.displayName||l.email}),p.jsx(Uw,{className:"w-4 h-4"})]}),o&&p.jsx(RE,{isDark:n,toggleDarkMode:u,onClose:h})]}):p.jsxs("button",{onClick:()=>e(!0),className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-200 hover:text-indigo-600 dark:hover:text-indigo-400 transition",children:[p.jsx(vl,{className:"w-5 h-5"}),p.jsx("span",{children:"Sign In"})]})]})]})}),p.jsx(Py,{isOpen:t,onClose:()=>e(!1)})]})},P6=()=>p.jsx("footer",{className:"bg-gray-900 text-white",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Os,{className:"h-6 w-6"}),p.jsx("span",{className:"text-xl font-bold",children:"StarConnect"})]}),p.jsx("p",{className:"mt-2 text-gray-400",children:"Connect with your favorite stars and create unforgettable moments."})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{children:p.jsx("a",{href:"/book-star",className:"text-gray-400 hover:text-white",children:"Book a Star"})}),p.jsx("li",{children:p.jsx("a",{href:"/register-star",className:"text-gray-400 hover:text-white",children:"Register as Star"})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Categories"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{children:p.jsx("a",{href:"/category/musicians",className:"text-gray-400 hover:text-white",children:"Musicians"})}),p.jsx("li",{children:p.jsx("a",{href:"/category/actors",className:"text-gray-400 hover:text-white",children:"Actors"})}),p.jsx("li",{children:p.jsx("a",{href:"/category/athletes",className:"text-gray-400 hover:text-white",children:"Athletes"})}),p.jsx("li",{children:p.jsx("a",{href:"/category/influencers",className:"text-gray-400 hover:text-white",children:"Influencers"})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Follow Us"}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:p.jsx(d4,{className:"h-6 w-6"})}),p.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:p.jsx(_4,{className:"h-6 w-6"})}),p.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:p.jsx(c4,{className:"h-6 w-6"})})]})]})]}),p.jsx("div",{className:"mt-8 pt-8 border-t border-gray-800 text-center text-gray-400",children:p.jsxs("p",{children:["© ",new Date().getFullYear()," StarConnect. All rights reserved."]})})]})});function N6(){const[t,e]=M.useState(!1);M.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]);const n=()=>{e(!t)};return p.jsx(zP,{children:p.jsx(e4,{children:p.jsxs("div",{className:`min-h-screen bg-gray-100 dark:bg-gray-900 ${t?"dark":""}`,children:[p.jsx(D6,{isDark:t,toggleDarkMode:n}),p.jsx("main",{className:"py-10",children:p.jsxs(VP,{children:[p.jsx(vn,{path:"/",element:p.jsx(I4,{})}),p.jsx(vn,{path:"/category/:categoryId",element:p.jsx(S4,{})}),p.jsx(vn,{path:"/star/:starId",element:p.jsx(d3,{})}),p.jsx(vn,{path:"/book/:starId",element:p.jsx(SE,{})}),p.jsx(vn,{path:"/book-star",element:p.jsx(SE,{})}),p.jsx(vn,{path:"/booking-confirmation",element:p.jsx(f3,{})}),p.jsx(vn,{path:"/register-star",element:p.jsx(I6,{})}),p.jsx(vn,{path:"/profile",element:p.jsx(S6,{})}),p.jsx(vn,{path:"/chat/:starId",element:p.jsx(b6,{})}),p.jsx(vn,{path:"/messages",element:p.jsx(C6,{})})]})}),p.jsx(P6,{})]})})})}qk(document.getElementById("root")).render(p.jsx(M.StrictMode,{children:p.jsx(N6,{})}));
