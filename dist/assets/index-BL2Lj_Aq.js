var PS=Object.defineProperty;var RS=(t,e,n)=>e in t?PS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H=(t,e,n)=>RS(t,typeof e!="symbol"?e+"":e,n);function NS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Hw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yw={exports:{}},sd={},Kw={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dl=Symbol.for("react.element"),AS=Symbol.for("react.portal"),MS=Symbol.for("react.fragment"),OS=Symbol.for("react.strict_mode"),LS=Symbol.for("react.profiler"),VS=Symbol.for("react.provider"),jS=Symbol.for("react.context"),FS=Symbol.for("react.forward_ref"),US=Symbol.for("react.suspense"),BS=Symbol.for("react.memo"),$S=Symbol.for("react.lazy"),fv=Symbol.iterator;function WS(t){return t===null||typeof t!="object"?null:(t=fv&&t[fv]||t["@@iterator"],typeof t=="function"?t:null)}var qw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qw=Object.assign,Gw={};function To(t,e,n){this.props=t,this.context=e,this.refs=Gw,this.updater=n||qw}To.prototype.isReactComponent={};To.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};To.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Xw(){}Xw.prototype=To.prototype;function am(t,e,n){this.props=t,this.context=e,this.refs=Gw,this.updater=n||qw}var lm=am.prototype=new Xw;lm.constructor=am;Qw(lm,To.prototype);lm.isPureReactComponent=!0;var pv=Array.isArray,Jw=Object.prototype.hasOwnProperty,cm={current:null},Zw={key:!0,ref:!0,__self:!0,__source:!0};function eE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Jw.call(e,r)&&!Zw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:dl,type:t,key:s,ref:o,props:i,_owner:cm.current}}function zS(t,e){return{$$typeof:dl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function um(t){return typeof t=="object"&&t!==null&&t.$$typeof===dl}function HS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mv=/\/+/g;function kh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?HS(""+t.key):e.toString(36)}function bc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case dl:case AS:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+kh(o,0):r,pv(i)?(n="",t!=null&&(n=t.replace(mv,"$&/")+"/"),bc(i,e,n,"",function(u){return u})):i!=null&&(um(i)&&(i=zS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(mv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",pv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+kh(s,a);o+=bc(s,e,n,l,i)}else if(l=WS(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+kh(s,a++),o+=bc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ql(t,e,n){if(t==null)return t;var r=[],i=0;return bc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function YS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},Cc={transition:null},KS={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:Cc,ReactCurrentOwner:cm};function tE(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:Ql,forEach:function(t,e,n){Ql(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ql(t,function(){e++}),e},toArray:function(t){return Ql(t,function(e){return e})||[]},only:function(t){if(!um(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=To;ie.Fragment=MS;ie.Profiler=LS;ie.PureComponent=am;ie.StrictMode=OS;ie.Suspense=US;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KS;ie.act=tE;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Qw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=cm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Jw.call(e,l)&&!Zw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:dl,type:t.type,key:i,ref:s,props:r,_owner:o}};ie.createContext=function(t){return t={$$typeof:jS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VS,_context:t},t.Consumer=t};ie.createElement=eE;ie.createFactory=function(t){var e=eE.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:FS,render:t}};ie.isValidElement=um;ie.lazy=function(t){return{$$typeof:$S,_payload:{_status:-1,_result:t},_init:YS}};ie.memo=function(t,e){return{$$typeof:BS,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=Cc.transition;Cc.transition={};try{t()}finally{Cc.transition=e}};ie.unstable_act=tE;ie.useCallback=function(t,e){return Vt.current.useCallback(t,e)};ie.useContext=function(t){return Vt.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};ie.useEffect=function(t,e){return Vt.current.useEffect(t,e)};ie.useId=function(){return Vt.current.useId()};ie.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return Vt.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};ie.useRef=function(t){return Vt.current.useRef(t)};ie.useState=function(t){return Vt.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return Vt.current.useTransition()};ie.version="18.3.1";Kw.exports=ie;var O=Kw.exports;const L=Hw(O),nE=NS({__proto__:null,default:L},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qS=O,QS=Symbol.for("react.element"),GS=Symbol.for("react.fragment"),XS=Object.prototype.hasOwnProperty,JS=qS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZS={key:!0,ref:!0,__self:!0,__source:!0};function rE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)XS.call(e,r)&&!ZS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:QS,type:t,key:s,ref:o,props:i,_owner:JS.current}}sd.Fragment=GS;sd.jsx=rE;sd.jsxs=rE;Yw.exports=sd;var p=Yw.exports,iE={exports:{}},en={},sE={exports:{}},oE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,Q){var J=B.length;B.push(Q);e:for(;0<J;){var Pe=J-1>>>1,we=B[Pe];if(0<i(we,Q))B[Pe]=Q,B[J]=we,J=Pe;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Q=B[0],J=B.pop();if(J!==Q){B[0]=J;e:for(var Pe=0,we=B.length,$e=we>>>1;Pe<$e;){var Qn=2*(Pe+1)-1,Gn=B[Qn],Xn=Qn+1,Jn=B[Xn];if(0>i(Gn,J))Xn<we&&0>i(Jn,Gn)?(B[Pe]=Jn,B[Xn]=J,Pe=Xn):(B[Pe]=Gn,B[Qn]=J,Pe=Qn);else if(Xn<we&&0>i(Jn,J))B[Pe]=Jn,B[Xn]=J,Pe=Xn;else break e}}return Q}function i(B,Q){var J=B.sortIndex-Q.sortIndex;return J!==0?J:B.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,g=3,y=!1,w=!1,I=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(B){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=B)r(u),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(u)}}function N(B){if(I=!1,T(B),!w)if(n(l)!==null)w=!0,xe(j);else{var Q=n(u);Q!==null&&ke(N,Q.startTime-B)}}function j(B,Q){w=!1,I&&(I=!1,E(_),_=-1),y=!0;var J=g;try{for(T(Q),f=n(l);f!==null&&(!(f.expirationTime>Q)||B&&!R());){var Pe=f.callback;if(typeof Pe=="function"){f.callback=null,g=f.priorityLevel;var we=Pe(f.expirationTime<=Q);Q=t.unstable_now(),typeof we=="function"?f.callback=we:f===n(l)&&r(l),T(Q)}else r(l);f=n(l)}if(f!==null)var $e=!0;else{var Qn=n(u);Qn!==null&&ke(N,Qn.startTime-Q),$e=!1}return $e}finally{f=null,g=J,y=!1}}var F=!1,x=null,_=-1,b=5,D=-1;function R(){return!(t.unstable_now()-D<b)}function A(){if(x!==null){var B=t.unstable_now();D=B;var Q=!0;try{Q=x(!0,B)}finally{Q?P():(F=!1,x=null)}}else F=!1}var P;if(typeof v=="function")P=function(){v(A)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Ge=ae.port2;ae.port1.onmessage=A,P=function(){Ge.postMessage(null)}}else P=function(){C(A,0)};function xe(B){x=B,F||(F=!0,P())}function ke(B,Q){_=C(function(){B(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,xe(j))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var J=g;g=Q;try{return B()}finally{g=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,Q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var J=g;g=B;try{return Q()}finally{g=J}},t.unstable_scheduleCallback=function(B,Q,J){var Pe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Pe+J:Pe):J=Pe,B){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=J+we,B={id:d++,callback:Q,priorityLevel:B,startTime:J,expirationTime:we,sortIndex:-1},J>Pe?(B.sortIndex=J,e(u,B),n(l)===null&&B===n(u)&&(I?(E(_),_=-1):I=!0,ke(N,J-Pe))):(B.sortIndex=we,e(l,B),w||y||(w=!0,xe(j))),B},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(B){var Q=g;return function(){var J=g;g=Q;try{return B.apply(this,arguments)}finally{g=J}}}})(oE);sE.exports=oE;var eb=sE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb=O,Zt=eb;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aE=new Set,Pa={};function ls(t,e){to(t,e),to(t+"Capture",e)}function to(t,e){for(Pa[t]=e,t=0;t<e.length;t++)aE.add(e[t])}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),If=Object.prototype.hasOwnProperty,nb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gv={},yv={};function rb(t){return If.call(yv,t)?!0:If.call(gv,t)?!1:nb.test(t)?yv[t]=!0:(gv[t]=!0,!1)}function ib(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sb(t,e,n,r){if(e===null||typeof e>"u"||ib(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var dm=/[\-:]([a-z])/g;function hm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dm,hm);gt[e]=new jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dm,hm);gt[e]=new jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dm,hm);gt[e]=new jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new jt(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function fm(t,e,n,r){var i=gt.hasOwnProperty(e)?gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sb(e,n,i,r)&&(n=null),r||i===null?rb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Tr=tb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gl=Symbol.for("react.element"),Ps=Symbol.for("react.portal"),Rs=Symbol.for("react.fragment"),pm=Symbol.for("react.strict_mode"),Sf=Symbol.for("react.profiler"),lE=Symbol.for("react.provider"),cE=Symbol.for("react.context"),mm=Symbol.for("react.forward_ref"),bf=Symbol.for("react.suspense"),Cf=Symbol.for("react.suspense_list"),gm=Symbol.for("react.memo"),Nr=Symbol.for("react.lazy"),uE=Symbol.for("react.offscreen"),vv=Symbol.iterator;function Yo(t){return t===null||typeof t!="object"?null:(t=vv&&t[vv]||t["@@iterator"],typeof t=="function"?t:null)}var Me=Object.assign,Th;function ia(t){if(Th===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Th=e&&e[1]||""}return`
`+Th+t}var xh=!1;function Ih(t,e){if(!t||xh)return"";xh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{xh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ia(t):""}function ob(t){switch(t.tag){case 5:return ia(t.type);case 16:return ia("Lazy");case 13:return ia("Suspense");case 19:return ia("SuspenseList");case 0:case 2:case 15:return t=Ih(t.type,!1),t;case 11:return t=Ih(t.type.render,!1),t;case 1:return t=Ih(t.type,!0),t;default:return""}}function Df(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rs:return"Fragment";case Ps:return"Portal";case Sf:return"Profiler";case pm:return"StrictMode";case bf:return"Suspense";case Cf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cE:return(t.displayName||"Context")+".Consumer";case lE:return(t._context.displayName||"Context")+".Provider";case mm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gm:return e=t.displayName||null,e!==null?e:Df(t.type)||"Memo";case Nr:e=t._payload,t=t._init;try{return Df(t(e))}catch{}}return null}function ab(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Df(e);case 8:return e===pm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lb(t){var e=dE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xl(t){t._valueTracker||(t._valueTracker=lb(t))}function hE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pf(t,e){var n=e.checked;return Me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _v(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fE(t,e){e=e.checked,e!=null&&fm(t,"checked",e,!1)}function Rf(t,e){fE(t,e);var n=ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nf(t,e.type,ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nf(t,e,n){(e!=="number"||Zc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sa=Array.isArray;function Ws(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Af(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ev(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(sa(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ui(n)}}function pE(t,e){var n=ui(e.value),r=ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function kv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jl,gE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jl=Jl||document.createElement("div"),Jl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ra(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ma={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cb=["Webkit","ms","Moz","O"];Object.keys(ma).forEach(function(t){cb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ma[e]=ma[t]})});function yE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ma.hasOwnProperty(t)&&ma[t]?(""+e).trim():e+"px"}function vE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ub=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Of(t,e){if(e){if(ub[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Lf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vf=null;function ym(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jf=null,zs=null,Hs=null;function Tv(t){if(t=pl(t)){if(typeof jf!="function")throw Error(W(280));var e=t.stateNode;e&&(e=ud(e),jf(t.stateNode,t.type,e))}}function _E(t){zs?Hs?Hs.push(t):Hs=[t]:zs=t}function wE(){if(zs){var t=zs,e=Hs;if(Hs=zs=null,Tv(t),e)for(t=0;t<e.length;t++)Tv(e[t])}}function EE(t,e){return t(e)}function kE(){}var Sh=!1;function TE(t,e,n){if(Sh)return t(e,n);Sh=!0;try{return EE(t,e,n)}finally{Sh=!1,(zs!==null||Hs!==null)&&(kE(),wE())}}function Na(t,e){var n=t.stateNode;if(n===null)return null;var r=ud(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Ff=!1;if(pr)try{var Ko={};Object.defineProperty(Ko,"passive",{get:function(){Ff=!0}}),window.addEventListener("test",Ko,Ko),window.removeEventListener("test",Ko,Ko)}catch{Ff=!1}function db(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ga=!1,eu=null,tu=!1,Uf=null,hb={onError:function(t){ga=!0,eu=t}};function fb(t,e,n,r,i,s,o,a,l){ga=!1,eu=null,db.apply(hb,arguments)}function pb(t,e,n,r,i,s,o,a,l){if(fb.apply(this,arguments),ga){if(ga){var u=eu;ga=!1,eu=null}else throw Error(W(198));tu||(tu=!0,Uf=u)}}function cs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xv(t){if(cs(t)!==t)throw Error(W(188))}function mb(t){var e=t.alternate;if(!e){if(e=cs(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return xv(i),t;if(s===r)return xv(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function IE(t){return t=mb(t),t!==null?SE(t):null}function SE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=SE(t);if(e!==null)return e;t=t.sibling}return null}var bE=Zt.unstable_scheduleCallback,Iv=Zt.unstable_cancelCallback,gb=Zt.unstable_shouldYield,yb=Zt.unstable_requestPaint,ze=Zt.unstable_now,vb=Zt.unstable_getCurrentPriorityLevel,vm=Zt.unstable_ImmediatePriority,CE=Zt.unstable_UserBlockingPriority,nu=Zt.unstable_NormalPriority,_b=Zt.unstable_LowPriority,DE=Zt.unstable_IdlePriority,od=null,An=null;function wb(t){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(od,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:Tb,Eb=Math.log,kb=Math.LN2;function Tb(t){return t>>>=0,t===0?32:31-(Eb(t)/kb|0)|0}var Zl=64,ec=4194304;function oa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ru(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=oa(a):(s&=o,s!==0&&(r=oa(s)))}else o=n&~i,o!==0?r=oa(o):s!==0&&(r=oa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_n(e),i=1<<n,r|=t[n],e&=~i;return r}function xb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ib(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-_n(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=xb(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Bf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function PE(){var t=Zl;return Zl<<=1,!(Zl&4194240)&&(Zl=64),t}function bh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function Sb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_n(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function _m(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _e=0;function RE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var NE,wm,AE,ME,OE,$f=!1,tc=[],Kr=null,qr=null,Qr=null,Aa=new Map,Ma=new Map,Or=[],bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sv(t,e){switch(t){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Aa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(e.pointerId)}}function qo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=pl(e),e!==null&&wm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Cb(t,e,n,r,i){switch(e){case"focusin":return Kr=qo(Kr,t,e,n,r,i),!0;case"dragenter":return qr=qo(qr,t,e,n,r,i),!0;case"mouseover":return Qr=qo(Qr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Aa.set(s,qo(Aa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ma.set(s,qo(Ma.get(s)||null,t,e,n,r,i)),!0}return!1}function LE(t){var e=Li(t.target);if(e!==null){var n=cs(e);if(n!==null){if(e=n.tag,e===13){if(e=xE(n),e!==null){t.blockedOn=e,OE(t.priority,function(){AE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vf=r,n.target.dispatchEvent(r),Vf=null}else return e=pl(n),e!==null&&wm(e),t.blockedOn=n,!1;e.shift()}return!0}function bv(t,e,n){Dc(t)&&n.delete(e)}function Db(){$f=!1,Kr!==null&&Dc(Kr)&&(Kr=null),qr!==null&&Dc(qr)&&(qr=null),Qr!==null&&Dc(Qr)&&(Qr=null),Aa.forEach(bv),Ma.forEach(bv)}function Qo(t,e){t.blockedOn===e&&(t.blockedOn=null,$f||($f=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,Db)))}function Oa(t){function e(i){return Qo(i,t)}if(0<tc.length){Qo(tc[0],t);for(var n=1;n<tc.length;n++){var r=tc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Kr!==null&&Qo(Kr,t),qr!==null&&Qo(qr,t),Qr!==null&&Qo(Qr,t),Aa.forEach(e),Ma.forEach(e),n=0;n<Or.length;n++)r=Or[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Or.length&&(n=Or[0],n.blockedOn===null);)LE(n),n.blockedOn===null&&Or.shift()}var Ys=Tr.ReactCurrentBatchConfig,iu=!0;function Pb(t,e,n,r){var i=_e,s=Ys.transition;Ys.transition=null;try{_e=1,Em(t,e,n,r)}finally{_e=i,Ys.transition=s}}function Rb(t,e,n,r){var i=_e,s=Ys.transition;Ys.transition=null;try{_e=4,Em(t,e,n,r)}finally{_e=i,Ys.transition=s}}function Em(t,e,n,r){if(iu){var i=Wf(t,e,n,r);if(i===null)Vh(t,e,r,su,n),Sv(t,r);else if(Cb(i,t,e,n,r))r.stopPropagation();else if(Sv(t,r),e&4&&-1<bb.indexOf(t)){for(;i!==null;){var s=pl(i);if(s!==null&&NE(s),s=Wf(t,e,n,r),s===null&&Vh(t,e,r,su,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Vh(t,e,r,null,n)}}var su=null;function Wf(t,e,n,r){if(su=null,t=ym(r),t=Li(t),t!==null)if(e=cs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return su=t,null}function VE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vb()){case vm:return 1;case CE:return 4;case nu:case _b:return 16;case DE:return 536870912;default:return 16}default:return 16}}var $r=null,km=null,Pc=null;function jE(){if(Pc)return Pc;var t,e=km,n=e.length,r,i="value"in $r?$r.value:$r.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Pc=i.slice(t,1<r?1-r:void 0)}function Rc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nc(){return!0}function Cv(){return!1}function tn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nc:Cv,this.isPropagationStopped=Cv,this}return Me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nc)},persist:function(){},isPersistent:nc}),e}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tm=tn(xo),fl=Me({},xo,{view:0,detail:0}),Nb=tn(fl),Ch,Dh,Go,ad=Me({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Go&&(Go&&t.type==="mousemove"?(Ch=t.screenX-Go.screenX,Dh=t.screenY-Go.screenY):Dh=Ch=0,Go=t),Ch)},movementY:function(t){return"movementY"in t?t.movementY:Dh}}),Dv=tn(ad),Ab=Me({},ad,{dataTransfer:0}),Mb=tn(Ab),Ob=Me({},fl,{relatedTarget:0}),Ph=tn(Ob),Lb=Me({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),Vb=tn(Lb),jb=Me({},xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fb=tn(jb),Ub=Me({},xo,{data:0}),Pv=tn(Ub),Bb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$b={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Wb[t])?!!e[t]:!1}function xm(){return zb}var Hb=Me({},fl,{key:function(t){if(t.key){var e=Bb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$b[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xm,charCode:function(t){return t.type==="keypress"?Rc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yb=tn(Hb),Kb=Me({},ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rv=tn(Kb),qb=Me({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xm}),Qb=tn(qb),Gb=Me({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xb=tn(Gb),Jb=Me({},ad,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zb=tn(Jb),eC=[9,13,27,32],Im=pr&&"CompositionEvent"in window,ya=null;pr&&"documentMode"in document&&(ya=document.documentMode);var tC=pr&&"TextEvent"in window&&!ya,FE=pr&&(!Im||ya&&8<ya&&11>=ya),Nv=" ",Av=!1;function UE(t,e){switch(t){case"keyup":return eC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ns=!1;function nC(t,e){switch(t){case"compositionend":return BE(e);case"keypress":return e.which!==32?null:(Av=!0,Nv);case"textInput":return t=e.data,t===Nv&&Av?null:t;default:return null}}function rC(t,e){if(Ns)return t==="compositionend"||!Im&&UE(t,e)?(t=jE(),Pc=km=$r=null,Ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FE&&e.locale!=="ko"?null:e.data;default:return null}}var iC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iC[t.type]:e==="textarea"}function $E(t,e,n,r){_E(r),e=ou(e,"onChange"),0<e.length&&(n=new Tm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var va=null,La=null;function sC(t){ZE(t,0)}function ld(t){var e=Os(t);if(hE(e))return t}function oC(t,e){if(t==="change")return e}var WE=!1;if(pr){var Rh;if(pr){var Nh="oninput"in document;if(!Nh){var Ov=document.createElement("div");Ov.setAttribute("oninput","return;"),Nh=typeof Ov.oninput=="function"}Rh=Nh}else Rh=!1;WE=Rh&&(!document.documentMode||9<document.documentMode)}function Lv(){va&&(va.detachEvent("onpropertychange",zE),La=va=null)}function zE(t){if(t.propertyName==="value"&&ld(La)){var e=[];$E(e,La,t,ym(t)),TE(sC,e)}}function aC(t,e,n){t==="focusin"?(Lv(),va=e,La=n,va.attachEvent("onpropertychange",zE)):t==="focusout"&&Lv()}function lC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ld(La)}function cC(t,e){if(t==="click")return ld(e)}function uC(t,e){if(t==="input"||t==="change")return ld(e)}function dC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var En=typeof Object.is=="function"?Object.is:dC;function Va(t,e){if(En(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!If.call(e,i)||!En(t[i],e[i]))return!1}return!0}function Vv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jv(t,e){var n=Vv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vv(n)}}function HE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YE(){for(var t=window,e=Zc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zc(t.document)}return e}function Sm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hC(t){var e=YE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&HE(n.ownerDocument.documentElement,n)){if(r!==null&&Sm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=jv(n,s);var o=jv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fC=pr&&"documentMode"in document&&11>=document.documentMode,As=null,zf=null,_a=null,Hf=!1;function Fv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hf||As==null||As!==Zc(r)||(r=As,"selectionStart"in r&&Sm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_a&&Va(_a,r)||(_a=r,r=ou(zf,"onSelect"),0<r.length&&(e=new Tm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=As)))}function rc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ms={animationend:rc("Animation","AnimationEnd"),animationiteration:rc("Animation","AnimationIteration"),animationstart:rc("Animation","AnimationStart"),transitionend:rc("Transition","TransitionEnd")},Ah={},KE={};pr&&(KE=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function cd(t){if(Ah[t])return Ah[t];if(!Ms[t])return t;var e=Ms[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in KE)return Ah[t]=e[n];return t}var qE=cd("animationend"),QE=cd("animationiteration"),GE=cd("animationstart"),XE=cd("transitionend"),JE=new Map,Uv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(t,e){JE.set(t,e),ls(e,[t])}for(var Mh=0;Mh<Uv.length;Mh++){var Oh=Uv[Mh],pC=Oh.toLowerCase(),mC=Oh[0].toUpperCase()+Oh.slice(1);ki(pC,"on"+mC)}ki(qE,"onAnimationEnd");ki(QE,"onAnimationIteration");ki(GE,"onAnimationStart");ki("dblclick","onDoubleClick");ki("focusin","onFocus");ki("focusout","onBlur");ki(XE,"onTransitionEnd");to("onMouseEnter",["mouseout","mouseover"]);to("onMouseLeave",["mouseout","mouseover"]);to("onPointerEnter",["pointerout","pointerover"]);to("onPointerLeave",["pointerout","pointerover"]);ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gC=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function Bv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pb(r,e,void 0,t),t.currentTarget=null}function ZE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Bv(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Bv(i,a,u),s=l}}}if(tu)throw t=Uf,tu=!1,Uf=null,t}function Se(t,e){var n=e[Gf];n===void 0&&(n=e[Gf]=new Set);var r=t+"__bubble";n.has(r)||(e1(e,t,2,!1),n.add(r))}function Lh(t,e,n){var r=0;e&&(r|=4),e1(n,t,r,e)}var ic="_reactListening"+Math.random().toString(36).slice(2);function ja(t){if(!t[ic]){t[ic]=!0,aE.forEach(function(n){n!=="selectionchange"&&(gC.has(n)||Lh(n,!1,t),Lh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ic]||(e[ic]=!0,Lh("selectionchange",!1,e))}}function e1(t,e,n,r){switch(VE(e)){case 1:var i=Pb;break;case 4:i=Rb;break;default:i=Em}n=i.bind(null,e,n,t),i=void 0,!Ff||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Li(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}TE(function(){var u=s,d=ym(n),f=[];e:{var g=JE.get(t);if(g!==void 0){var y=Tm,w=t;switch(t){case"keypress":if(Rc(n)===0)break e;case"keydown":case"keyup":y=Yb;break;case"focusin":w="focus",y=Ph;break;case"focusout":w="blur",y=Ph;break;case"beforeblur":case"afterblur":y=Ph;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Dv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Mb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Qb;break;case qE:case QE:case GE:y=Vb;break;case XE:y=Xb;break;case"scroll":y=Nb;break;case"wheel":y=Zb;break;case"copy":case"cut":case"paste":y=Fb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Rv}var I=(e&4)!==0,C=!I&&t==="scroll",E=I?g!==null?g+"Capture":null:g;I=[];for(var v=u,T;v!==null;){T=v;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,E!==null&&(N=Na(v,E),N!=null&&I.push(Fa(v,N,T)))),C)break;v=v.return}0<I.length&&(g=new y(g,w,null,n,d),f.push({event:g,listeners:I}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&n!==Vf&&(w=n.relatedTarget||n.fromElement)&&(Li(w)||w[mr]))break e;if((y||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=u,w=w?Li(w):null,w!==null&&(C=cs(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(I=Dv,N="onMouseLeave",E="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(I=Rv,N="onPointerLeave",E="onPointerEnter",v="pointer"),C=y==null?g:Os(y),T=w==null?g:Os(w),g=new I(N,v+"leave",y,n,d),g.target=C,g.relatedTarget=T,N=null,Li(d)===u&&(I=new I(E,v+"enter",w,n,d),I.target=T,I.relatedTarget=C,N=I),C=N,y&&w)t:{for(I=y,E=w,v=0,T=I;T;T=Ts(T))v++;for(T=0,N=E;N;N=Ts(N))T++;for(;0<v-T;)I=Ts(I),v--;for(;0<T-v;)E=Ts(E),T--;for(;v--;){if(I===E||E!==null&&I===E.alternate)break t;I=Ts(I),E=Ts(E)}I=null}else I=null;y!==null&&$v(f,g,y,I,!1),w!==null&&C!==null&&$v(f,C,w,I,!0)}}e:{if(g=u?Os(u):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var j=oC;else if(Mv(g))if(WE)j=uC;else{j=lC;var F=aC}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(j=cC);if(j&&(j=j(t,u))){$E(f,j,n,d);break e}F&&F(t,g,u),t==="focusout"&&(F=g._wrapperState)&&F.controlled&&g.type==="number"&&Nf(g,"number",g.value)}switch(F=u?Os(u):window,t){case"focusin":(Mv(F)||F.contentEditable==="true")&&(As=F,zf=u,_a=null);break;case"focusout":_a=zf=As=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,Fv(f,n,d);break;case"selectionchange":if(fC)break;case"keydown":case"keyup":Fv(f,n,d)}var x;if(Im)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ns?UE(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(FE&&n.locale!=="ko"&&(Ns||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ns&&(x=jE()):($r=d,km="value"in $r?$r.value:$r.textContent,Ns=!0)),F=ou(u,_),0<F.length&&(_=new Pv(_,t,null,n,d),f.push({event:_,listeners:F}),x?_.data=x:(x=BE(n),x!==null&&(_.data=x)))),(x=tC?nC(t,n):rC(t,n))&&(u=ou(u,"onBeforeInput"),0<u.length&&(d=new Pv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=x))}ZE(f,e)})}function Fa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ou(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Na(t,n),s!=null&&r.unshift(Fa(t,s,i)),s=Na(t,e),s!=null&&r.push(Fa(t,s,i))),t=t.return}return r}function Ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $v(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Na(n,s),l!=null&&o.unshift(Fa(n,l,a))):i||(l=Na(n,s),l!=null&&o.push(Fa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yC=/\r\n?/g,vC=/\u0000|\uFFFD/g;function Wv(t){return(typeof t=="string"?t:""+t).replace(yC,`
`).replace(vC,"")}function sc(t,e,n){if(e=Wv(e),Wv(t)!==e&&n)throw Error(W(425))}function au(){}var Yf=null,Kf=null;function qf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qf=typeof setTimeout=="function"?setTimeout:void 0,_C=typeof clearTimeout=="function"?clearTimeout:void 0,zv=typeof Promise=="function"?Promise:void 0,wC=typeof queueMicrotask=="function"?queueMicrotask:typeof zv<"u"?function(t){return zv.resolve(null).then(t).catch(EC)}:Qf;function EC(t){setTimeout(function(){throw t})}function jh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Oa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Oa(e)}function Gr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Io=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Io,Ua="__reactProps$"+Io,mr="__reactContainer$"+Io,Gf="__reactEvents$"+Io,kC="__reactListeners$"+Io,TC="__reactHandles$"+Io;function Li(t){var e=t[Dn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mr]||n[Dn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hv(t);t!==null;){if(n=t[Dn])return n;t=Hv(t)}return e}t=n,n=t.parentNode}return null}function pl(t){return t=t[Dn]||t[mr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Os(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function ud(t){return t[Ua]||null}var Xf=[],Ls=-1;function Ti(t){return{current:t}}function be(t){0>Ls||(t.current=Xf[Ls],Xf[Ls]=null,Ls--)}function Te(t,e){Ls++,Xf[Ls]=t.current,t.current=e}var di={},bt=Ti(di),$t=Ti(!1),Ki=di;function no(t,e){var n=t.type.contextTypes;if(!n)return di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Wt(t){return t=t.childContextTypes,t!=null}function lu(){be($t),be(bt)}function Yv(t,e,n){if(bt.current!==di)throw Error(W(168));Te(bt,e),Te($t,n)}function t1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,ab(t)||"Unknown",i));return Me({},n,r)}function cu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||di,Ki=bt.current,Te(bt,t),Te($t,$t.current),!0}function Kv(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=t1(t,e,Ki),r.__reactInternalMemoizedMergedChildContext=t,be($t),be(bt),Te(bt,t)):be($t),Te($t,n)}var nr=null,dd=!1,Fh=!1;function n1(t){nr===null?nr=[t]:nr.push(t)}function xC(t){dd=!0,n1(t)}function xi(){if(!Fh&&nr!==null){Fh=!0;var t=0,e=_e;try{var n=nr;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nr=null,dd=!1}catch(i){throw nr!==null&&(nr=nr.slice(t+1)),bE(vm,xi),i}finally{_e=e,Fh=!1}}return null}var Vs=[],js=0,uu=null,du=0,rn=[],sn=0,qi=null,ir=1,sr="";function Ni(t,e){Vs[js++]=du,Vs[js++]=uu,uu=t,du=e}function r1(t,e,n){rn[sn++]=ir,rn[sn++]=sr,rn[sn++]=qi,qi=t;var r=ir;t=sr;var i=32-_n(r)-1;r&=~(1<<i),n+=1;var s=32-_n(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ir=1<<32-_n(e)+i|n<<i|r,sr=s+t}else ir=1<<s|n<<i|r,sr=t}function bm(t){t.return!==null&&(Ni(t,1),r1(t,1,0))}function Cm(t){for(;t===uu;)uu=Vs[--js],Vs[js]=null,du=Vs[--js],Vs[js]=null;for(;t===qi;)qi=rn[--sn],rn[sn]=null,sr=rn[--sn],rn[sn]=null,ir=rn[--sn],rn[sn]=null}var Xt=null,Qt=null,De=!1,yn=null;function i1(t,e){var n=an(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Qt=Gr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qi!==null?{id:ir,overflow:sr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=an(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Qt=null,!0):!1;default:return!1}}function Jf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zf(t){if(De){var e=Qt;if(e){var n=e;if(!qv(t,e)){if(Jf(t))throw Error(W(418));e=Gr(n.nextSibling);var r=Xt;e&&qv(t,e)?i1(r,n):(t.flags=t.flags&-4097|2,De=!1,Xt=t)}}else{if(Jf(t))throw Error(W(418));t.flags=t.flags&-4097|2,De=!1,Xt=t}}}function Qv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function oc(t){if(t!==Xt)return!1;if(!De)return Qv(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qf(t.type,t.memoizedProps)),e&&(e=Qt)){if(Jf(t))throw s1(),Error(W(418));for(;e;)i1(t,e),e=Gr(e.nextSibling)}if(Qv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qt=Gr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=Xt?Gr(t.stateNode.nextSibling):null;return!0}function s1(){for(var t=Qt;t;)t=Gr(t.nextSibling)}function ro(){Qt=Xt=null,De=!1}function Dm(t){yn===null?yn=[t]:yn.push(t)}var IC=Tr.ReactCurrentBatchConfig;function Xo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function ac(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gv(t){var e=t._init;return e(t._payload)}function o1(t){function e(E,v){if(t){var T=E.deletions;T===null?(E.deletions=[v],E.flags|=16):T.push(v)}}function n(E,v){if(!t)return null;for(;v!==null;)e(E,v),v=v.sibling;return null}function r(E,v){for(E=new Map;v!==null;)v.key!==null?E.set(v.key,v):E.set(v.index,v),v=v.sibling;return E}function i(E,v){return E=ei(E,v),E.index=0,E.sibling=null,E}function s(E,v,T){return E.index=T,t?(T=E.alternate,T!==null?(T=T.index,T<v?(E.flags|=2,v):T):(E.flags|=2,v)):(E.flags|=1048576,v)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,v,T,N){return v===null||v.tag!==6?(v=Yh(T,E.mode,N),v.return=E,v):(v=i(v,T),v.return=E,v)}function l(E,v,T,N){var j=T.type;return j===Rs?d(E,v,T.props.children,N,T.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nr&&Gv(j)===v.type)?(N=i(v,T.props),N.ref=Xo(E,v,T),N.return=E,N):(N=jc(T.type,T.key,T.props,null,E.mode,N),N.ref=Xo(E,v,T),N.return=E,N)}function u(E,v,T,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=Kh(T,E.mode,N),v.return=E,v):(v=i(v,T.children||[]),v.return=E,v)}function d(E,v,T,N,j){return v===null||v.tag!==7?(v=$i(T,E.mode,N,j),v.return=E,v):(v=i(v,T),v.return=E,v)}function f(E,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Yh(""+v,E.mode,T),v.return=E,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Gl:return T=jc(v.type,v.key,v.props,null,E.mode,T),T.ref=Xo(E,null,v),T.return=E,T;case Ps:return v=Kh(v,E.mode,T),v.return=E,v;case Nr:var N=v._init;return f(E,N(v._payload),T)}if(sa(v)||Yo(v))return v=$i(v,E.mode,T,null),v.return=E,v;ac(E,v)}return null}function g(E,v,T,N){var j=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return j!==null?null:a(E,v,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Gl:return T.key===j?l(E,v,T,N):null;case Ps:return T.key===j?u(E,v,T,N):null;case Nr:return j=T._init,g(E,v,j(T._payload),N)}if(sa(T)||Yo(T))return j!==null?null:d(E,v,T,N,null);ac(E,T)}return null}function y(E,v,T,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return E=E.get(T)||null,a(v,E,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Gl:return E=E.get(N.key===null?T:N.key)||null,l(v,E,N,j);case Ps:return E=E.get(N.key===null?T:N.key)||null,u(v,E,N,j);case Nr:var F=N._init;return y(E,v,T,F(N._payload),j)}if(sa(N)||Yo(N))return E=E.get(T)||null,d(v,E,N,j,null);ac(v,N)}return null}function w(E,v,T,N){for(var j=null,F=null,x=v,_=v=0,b=null;x!==null&&_<T.length;_++){x.index>_?(b=x,x=null):b=x.sibling;var D=g(E,x,T[_],N);if(D===null){x===null&&(x=b);break}t&&x&&D.alternate===null&&e(E,x),v=s(D,v,_),F===null?j=D:F.sibling=D,F=D,x=b}if(_===T.length)return n(E,x),De&&Ni(E,_),j;if(x===null){for(;_<T.length;_++)x=f(E,T[_],N),x!==null&&(v=s(x,v,_),F===null?j=x:F.sibling=x,F=x);return De&&Ni(E,_),j}for(x=r(E,x);_<T.length;_++)b=y(x,E,_,T[_],N),b!==null&&(t&&b.alternate!==null&&x.delete(b.key===null?_:b.key),v=s(b,v,_),F===null?j=b:F.sibling=b,F=b);return t&&x.forEach(function(R){return e(E,R)}),De&&Ni(E,_),j}function I(E,v,T,N){var j=Yo(T);if(typeof j!="function")throw Error(W(150));if(T=j.call(T),T==null)throw Error(W(151));for(var F=j=null,x=v,_=v=0,b=null,D=T.next();x!==null&&!D.done;_++,D=T.next()){x.index>_?(b=x,x=null):b=x.sibling;var R=g(E,x,D.value,N);if(R===null){x===null&&(x=b);break}t&&x&&R.alternate===null&&e(E,x),v=s(R,v,_),F===null?j=R:F.sibling=R,F=R,x=b}if(D.done)return n(E,x),De&&Ni(E,_),j;if(x===null){for(;!D.done;_++,D=T.next())D=f(E,D.value,N),D!==null&&(v=s(D,v,_),F===null?j=D:F.sibling=D,F=D);return De&&Ni(E,_),j}for(x=r(E,x);!D.done;_++,D=T.next())D=y(x,E,_,D.value,N),D!==null&&(t&&D.alternate!==null&&x.delete(D.key===null?_:D.key),v=s(D,v,_),F===null?j=D:F.sibling=D,F=D);return t&&x.forEach(function(A){return e(E,A)}),De&&Ni(E,_),j}function C(E,v,T,N){if(typeof T=="object"&&T!==null&&T.type===Rs&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Gl:e:{for(var j=T.key,F=v;F!==null;){if(F.key===j){if(j=T.type,j===Rs){if(F.tag===7){n(E,F.sibling),v=i(F,T.props.children),v.return=E,E=v;break e}}else if(F.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nr&&Gv(j)===F.type){n(E,F.sibling),v=i(F,T.props),v.ref=Xo(E,F,T),v.return=E,E=v;break e}n(E,F);break}else e(E,F);F=F.sibling}T.type===Rs?(v=$i(T.props.children,E.mode,N,T.key),v.return=E,E=v):(N=jc(T.type,T.key,T.props,null,E.mode,N),N.ref=Xo(E,v,T),N.return=E,E=N)}return o(E);case Ps:e:{for(F=T.key;v!==null;){if(v.key===F)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(E,v.sibling),v=i(v,T.children||[]),v.return=E,E=v;break e}else{n(E,v);break}else e(E,v);v=v.sibling}v=Kh(T,E.mode,N),v.return=E,E=v}return o(E);case Nr:return F=T._init,C(E,v,F(T._payload),N)}if(sa(T))return w(E,v,T,N);if(Yo(T))return I(E,v,T,N);ac(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(E,v.sibling),v=i(v,T),v.return=E,E=v):(n(E,v),v=Yh(T,E.mode,N),v.return=E,E=v),o(E)):n(E,v)}return C}var io=o1(!0),a1=o1(!1),hu=Ti(null),fu=null,Fs=null,Pm=null;function Rm(){Pm=Fs=fu=null}function Nm(t){var e=hu.current;be(hu),t._currentValue=e}function ep(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ks(t,e){fu=t,Pm=Fs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(Pm!==t)if(t={context:t,memoizedValue:e,next:null},Fs===null){if(fu===null)throw Error(W(308));Fs=t,fu.dependencies={lanes:0,firstContext:t}}else Fs=Fs.next=t;return e}var Vi=null;function Am(t){Vi===null?Vi=[t]:Vi.push(t)}function l1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Am(e)):(n.next=i.next,i.next=n),e.interleaved=n,gr(t,r)}function gr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ar=!1;function Mm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,gr(t,n)}return i=r.interleaved,i===null?(e.next=e,Am(r)):(e.next=i.next,i.next=e),r.interleaved=e,gr(t,n)}function Nc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_m(t,n)}}function Xv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pu(t,e,n,r){var i=t.updateQueue;Ar=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=u=l=null,a=s;do{var g=a.lane,y=a.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,I=a;switch(g=e,y=n,I.tag){case 1:if(w=I.payload,typeof w=="function"){f=w.call(y,f,g);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=I.payload,g=typeof w=="function"?w.call(y,f,g):w,g==null)break e;f=Me({},f,g);break e;case 2:Ar=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else y={eventTime:y,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=f):d=d.next=y,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Gi|=o,t.lanes=o,t.memoizedState=f}}function Jv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var ml={},Mn=Ti(ml),Ba=Ti(ml),$a=Ti(ml);function ji(t){if(t===ml)throw Error(W(174));return t}function Om(t,e){switch(Te($a,e),Te(Ba,t),Te(Mn,ml),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mf(e,t)}be(Mn),Te(Mn,e)}function so(){be(Mn),be(Ba),be($a)}function u1(t){ji($a.current);var e=ji(Mn.current),n=Mf(e,t.type);e!==n&&(Te(Ba,t),Te(Mn,n))}function Lm(t){Ba.current===t&&(be(Mn),be(Ba))}var Re=Ti(0);function mu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uh=[];function Vm(){for(var t=0;t<Uh.length;t++)Uh[t]._workInProgressVersionPrimary=null;Uh.length=0}var Ac=Tr.ReactCurrentDispatcher,Bh=Tr.ReactCurrentBatchConfig,Qi=0,Ae=null,Xe=null,rt=null,gu=!1,wa=!1,Wa=0,SC=0;function Et(){throw Error(W(321))}function jm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!En(t[n],e[n]))return!1;return!0}function Fm(t,e,n,r,i,s){if(Qi=s,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ac.current=t===null||t.memoizedState===null?PC:RC,t=n(r,i),wa){s=0;do{if(wa=!1,Wa=0,25<=s)throw Error(W(301));s+=1,rt=Xe=null,e.updateQueue=null,Ac.current=NC,t=n(r,i)}while(wa)}if(Ac.current=yu,e=Xe!==null&&Xe.next!==null,Qi=0,rt=Xe=Ae=null,gu=!1,e)throw Error(W(300));return t}function Um(){var t=Wa!==0;return Wa=0,t}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Ae.memoizedState=rt=t:rt=rt.next=t,rt}function dn(){if(Xe===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=rt===null?Ae.memoizedState:rt.next;if(e!==null)rt=e,Xe=t;else{if(t===null)throw Error(W(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},rt===null?Ae.memoizedState=rt=t:rt=rt.next=t}return rt}function za(t,e){return typeof e=="function"?e(t):e}function $h(t){var e=dn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Xe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Qi&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ae.lanes|=d,Gi|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,En(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ae.lanes|=s,Gi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wh(t){var e=dn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);En(s,e.memoizedState)||(Bt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function d1(){}function h1(t,e){var n=Ae,r=dn(),i=e(),s=!En(r.memoizedState,i);if(s&&(r.memoizedState=i,Bt=!0),r=r.queue,Bm(m1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,Ha(9,p1.bind(null,n,r,i,e),void 0,null),it===null)throw Error(W(349));Qi&30||f1(n,e,i)}return i}function f1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function p1(t,e,n,r){e.value=n,e.getSnapshot=r,g1(e)&&y1(t)}function m1(t,e,n){return n(function(){g1(e)&&y1(t)})}function g1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!En(t,n)}catch{return!0}}function y1(t){var e=gr(t,1);e!==null&&wn(e,t,1,-1)}function Zv(t){var e=In();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:t},e.queue=t,t=t.dispatch=DC.bind(null,Ae,t),[e.memoizedState,t]}function Ha(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function v1(){return dn().memoizedState}function Mc(t,e,n,r){var i=In();Ae.flags|=t,i.memoizedState=Ha(1|e,n,void 0,r===void 0?null:r)}function hd(t,e,n,r){var i=dn();r=r===void 0?null:r;var s=void 0;if(Xe!==null){var o=Xe.memoizedState;if(s=o.destroy,r!==null&&jm(r,o.deps)){i.memoizedState=Ha(e,n,s,r);return}}Ae.flags|=t,i.memoizedState=Ha(1|e,n,s,r)}function e0(t,e){return Mc(8390656,8,t,e)}function Bm(t,e){return hd(2048,8,t,e)}function _1(t,e){return hd(4,2,t,e)}function w1(t,e){return hd(4,4,t,e)}function E1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function k1(t,e,n){return n=n!=null?n.concat([t]):null,hd(4,4,E1.bind(null,e,t),n)}function $m(){}function T1(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function x1(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function I1(t,e,n){return Qi&21?(En(n,e)||(n=PE(),Ae.lanes|=n,Gi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function bC(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=Bh.transition;Bh.transition={};try{t(!1),e()}finally{_e=n,Bh.transition=r}}function S1(){return dn().memoizedState}function CC(t,e,n){var r=Zr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},b1(t))C1(e,n);else if(n=l1(t,e,n,r),n!==null){var i=Lt();wn(n,t,r,i),D1(n,e,r)}}function DC(t,e,n){var r=Zr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(b1(t))C1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,En(a,o)){var l=e.interleaved;l===null?(i.next=i,Am(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=l1(t,e,i,r),n!==null&&(i=Lt(),wn(n,t,r,i),D1(n,e,r))}}function b1(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function C1(t,e){wa=gu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function D1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_m(t,n)}}var yu={readContext:un,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},PC={readContext:un,useCallback:function(t,e){return In().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:e0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Mc(4194308,4,E1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mc(4,2,t,e)},useMemo:function(t,e){var n=In();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=In();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=CC.bind(null,Ae,t),[r.memoizedState,t]},useRef:function(t){var e=In();return t={current:t},e.memoizedState=t},useState:Zv,useDebugValue:$m,useDeferredValue:function(t){return In().memoizedState=t},useTransition:function(){var t=Zv(!1),e=t[0];return t=bC.bind(null,t[1]),In().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ae,i=In();if(De){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),it===null)throw Error(W(349));Qi&30||f1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,e0(m1.bind(null,r,s,t),[t]),r.flags|=2048,Ha(9,p1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=In(),e=it.identifierPrefix;if(De){var n=sr,r=ir;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=SC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},RC={readContext:un,useCallback:T1,useContext:un,useEffect:Bm,useImperativeHandle:k1,useInsertionEffect:_1,useLayoutEffect:w1,useMemo:x1,useReducer:$h,useRef:v1,useState:function(){return $h(za)},useDebugValue:$m,useDeferredValue:function(t){var e=dn();return I1(e,Xe.memoizedState,t)},useTransition:function(){var t=$h(za)[0],e=dn().memoizedState;return[t,e]},useMutableSource:d1,useSyncExternalStore:h1,useId:S1,unstable_isNewReconciler:!1},NC={readContext:un,useCallback:T1,useContext:un,useEffect:Bm,useImperativeHandle:k1,useInsertionEffect:_1,useLayoutEffect:w1,useMemo:x1,useReducer:Wh,useRef:v1,useState:function(){return Wh(za)},useDebugValue:$m,useDeferredValue:function(t){var e=dn();return Xe===null?e.memoizedState=t:I1(e,Xe.memoizedState,t)},useTransition:function(){var t=Wh(za)[0],e=dn().memoizedState;return[t,e]},useMutableSource:d1,useSyncExternalStore:h1,useId:S1,unstable_isNewReconciler:!1};function mn(t,e){if(t&&t.defaultProps){e=Me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function tp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fd={isMounted:function(t){return(t=t._reactInternals)?cs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=Zr(t),s=cr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Xr(t,s,i),e!==null&&(wn(e,t,i,r),Nc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=Zr(t),s=cr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xr(t,s,i),e!==null&&(wn(e,t,i,r),Nc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lt(),r=Zr(t),i=cr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xr(t,i,r),e!==null&&(wn(e,t,r,n),Nc(e,t,r))}};function t0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Va(n,r)||!Va(i,s):!0}function P1(t,e,n){var r=!1,i=di,s=e.contextType;return typeof s=="object"&&s!==null?s=un(s):(i=Wt(e)?Ki:bt.current,r=e.contextTypes,s=(r=r!=null)?no(t,i):di),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function n0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fd.enqueueReplaceState(e,e.state,null)}function np(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Mm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=un(s):(s=Wt(e)?Ki:bt.current,i.context=no(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(tp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fd.enqueueReplaceState(i,i.state,null),pu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function oo(t,e){try{var n="",r=e;do n+=ob(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AC=typeof WeakMap=="function"?WeakMap:Map;function R1(t,e,n){n=cr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_u||(_u=!0,fp=r),rp(t,e)},n}function N1(t,e,n){n=cr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){rp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rp(t,e),typeof r!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function r0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new AC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=KC.bind(null,t,e,n),e.then(t,t))}function i0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function s0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=cr(-1,1),e.tag=2,Xr(n,e,1))),n.lanes|=1),t)}var MC=Tr.ReactCurrentOwner,Bt=!1;function Nt(t,e,n,r){e.child=t===null?a1(e,null,n,r):io(e,t.child,n,r)}function o0(t,e,n,r,i){n=n.render;var s=e.ref;return Ks(e,i),r=Fm(t,e,n,r,s,i),n=Um(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yr(t,e,i)):(De&&n&&bm(e),e.flags|=1,Nt(t,e,r,i),e.child)}function a0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Gm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,A1(t,e,s,r,i)):(t=jc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Va,n(o,r)&&t.ref===e.ref)return yr(t,e,i)}return e.flags|=1,t=ei(s,r),t.ref=e.ref,t.return=e,e.child=t}function A1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Va(s,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,yr(t,e,i)}return ip(t,e,n,r,i)}function M1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Bs,Yt),Yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(Bs,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Te(Bs,Yt),Yt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Te(Bs,Yt),Yt|=r;return Nt(t,e,i,n),e.child}function O1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ip(t,e,n,r,i){var s=Wt(n)?Ki:bt.current;return s=no(e,s),Ks(e,i),n=Fm(t,e,n,r,s,i),r=Um(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yr(t,e,i)):(De&&r&&bm(e),e.flags|=1,Nt(t,e,n,i),e.child)}function l0(t,e,n,r,i){if(Wt(n)){var s=!0;cu(e)}else s=!1;if(Ks(e,i),e.stateNode===null)Oc(t,e),P1(e,n,r),np(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=un(u):(u=Wt(n)?Ki:bt.current,u=no(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&n0(e,o,r,u),Ar=!1;var g=e.memoizedState;o.state=g,pu(e,r,o,i),l=e.memoizedState,a!==r||g!==l||$t.current||Ar?(typeof d=="function"&&(tp(e,n,d,r),l=e.memoizedState),(a=Ar||t0(e,n,a,r,g,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,c1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:mn(e.type,a),o.props=u,f=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=un(l):(l=Wt(n)?Ki:bt.current,l=no(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||g!==l)&&n0(e,o,r,l),Ar=!1,g=e.memoizedState,o.state=g,pu(e,r,o,i);var w=e.memoizedState;a!==f||g!==w||$t.current||Ar?(typeof y=="function"&&(tp(e,n,y,r),w=e.memoizedState),(u=Ar||t0(e,n,u,r,g,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return sp(t,e,n,r,s,i)}function sp(t,e,n,r,i,s){O1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Kv(e,n,!1),yr(t,e,s);r=e.stateNode,MC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=io(e,t.child,null,s),e.child=io(e,null,a,s)):Nt(t,e,a,s),e.memoizedState=r.state,i&&Kv(e,n,!0),e.child}function L1(t){var e=t.stateNode;e.pendingContext?Yv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yv(t,e.context,!1),Om(t,e.containerInfo)}function c0(t,e,n,r,i){return ro(),Dm(i),e.flags|=256,Nt(t,e,n,r),e.child}var op={dehydrated:null,treeContext:null,retryLane:0};function ap(t){return{baseLanes:t,cachePool:null,transitions:null}}function V1(t,e,n){var r=e.pendingProps,i=Re.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Te(Re,i&1),t===null)return Zf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=gd(o,r,0,null),t=$i(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ap(n),e.memoizedState=op,t):Wm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return OC(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ei(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ei(a,s):(s=$i(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ap(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=op,r}return s=t.child,t=s.sibling,r=ei(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Wm(t,e){return e=gd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lc(t,e,n,r){return r!==null&&Dm(r),io(e,t.child,null,n),t=Wm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=zh(Error(W(422))),lc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=gd({mode:"visible",children:r.children},i,0,null),s=$i(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&io(e,t.child,null,o),e.child.memoizedState=ap(o),e.memoizedState=op,s);if(!(e.mode&1))return lc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=zh(s,r,void 0),lc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Bt||a){if(r=it,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,gr(t,i),wn(r,t,i,-1))}return Qm(),r=zh(Error(W(421))),lc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=qC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Qt=Gr(i.nextSibling),Xt=e,De=!0,yn=null,t!==null&&(rn[sn++]=ir,rn[sn++]=sr,rn[sn++]=qi,ir=t.id,sr=t.overflow,qi=e),e=Wm(e,r.children),e.flags|=4096,e)}function u0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ep(t.return,e,n)}function Hh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function j1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Nt(t,e,r.children,n),r=Re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u0(t,n,e);else if(t.tag===19)u0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(Re,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&mu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&mu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hh(e,!0,n,null,s);break;case"together":Hh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Oc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=ei(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ei(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function LC(t,e,n){switch(e.tag){case 3:L1(e),ro();break;case 5:u1(e);break;case 1:Wt(e.type)&&cu(e);break;case 4:Om(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Te(hu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(Re,Re.current&1),e.flags|=128,null):n&e.child.childLanes?V1(t,e,n):(Te(Re,Re.current&1),t=yr(t,e,n),t!==null?t.sibling:null);Te(Re,Re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return j1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Te(Re,Re.current),r)break;return null;case 22:case 23:return e.lanes=0,M1(t,e,n)}return yr(t,e,n)}var F1,lp,U1,B1;F1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lp=function(){};U1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ji(Mn.current);var s=null;switch(n){case"input":i=Pf(t,i),r=Pf(t,r),s=[];break;case"select":i=Me({},i,{value:void 0}),r=Me({},r,{value:void 0}),s=[];break;case"textarea":i=Af(t,i),r=Af(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=au)}Of(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pa.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Se("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};B1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Jo(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function VC(t,e,n){var r=e.pendingProps;switch(Cm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return Wt(e.type)&&lu(),kt(e),null;case 3:return r=e.stateNode,so(),be($t),be(bt),Vm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(oc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yn!==null&&(gp(yn),yn=null))),lp(t,e),kt(e),null;case 5:Lm(e);var i=ji($a.current);if(n=e.type,t!==null&&e.stateNode!=null)U1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return kt(e),null}if(t=ji(Mn.current),oc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Dn]=e,r[Ua]=s,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(i=0;i<aa.length;i++)Se(aa[i],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":_v(r,s),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Se("invalid",r);break;case"textarea":Ev(r,s),Se("invalid",r)}Of(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&sc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&sc(r.textContent,a,t),i=["children",""+a]):Pa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":Xl(r),wv(r,s,!0);break;case"textarea":Xl(r),kv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=au)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Dn]=e,t[Ua]=r,F1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Lf(n,r),n){case"dialog":Se("cancel",t),Se("close",t),i=r;break;case"iframe":case"object":case"embed":Se("load",t),i=r;break;case"video":case"audio":for(i=0;i<aa.length;i++)Se(aa[i],t);i=r;break;case"source":Se("error",t),i=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),i=r;break;case"details":Se("toggle",t),i=r;break;case"input":_v(t,r),i=Pf(t,r),Se("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Me({},r,{value:void 0}),Se("invalid",t);break;case"textarea":Ev(t,r),i=Af(t,r),Se("invalid",t);break;default:i=r}Of(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?vE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ra(t,l):typeof l=="number"&&Ra(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Pa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Se("scroll",t):l!=null&&fm(t,s,l,o))}switch(n){case"input":Xl(t),wv(t,r,!1);break;case"textarea":Xl(t),kv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ui(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ws(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ws(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=au)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)B1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=ji($a.current),ji(Mn.current),oc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Dn]=e,(s=r.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:sc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dn]=e,e.stateNode=r}return kt(e),null;case 13:if(be(Re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Qt!==null&&e.mode&1&&!(e.flags&128))s1(),ro(),e.flags|=98560,s=!1;else if(s=oc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Dn]=e}else ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kt(e),s=!1}else yn!==null&&(gp(yn),yn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Re.current&1?Ze===0&&(Ze=3):Qm())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return so(),lp(t,e),t===null&&ja(e.stateNode.containerInfo),kt(e),null;case 10:return Nm(e.type._context),kt(e),null;case 17:return Wt(e.type)&&lu(),kt(e),null;case 19:if(be(Re),s=e.memoizedState,s===null)return kt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Jo(s,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mu(t),o!==null){for(e.flags|=128,Jo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(Re,Re.current&1|2),e.child}t=t.sibling}s.tail!==null&&ze()>ao&&(e.flags|=128,r=!0,Jo(s,!1),e.lanes=4194304)}else{if(!r)if(t=mu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Jo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!De)return kt(e),null}else 2*ze()-s.renderingStartTime>ao&&n!==1073741824&&(e.flags|=128,r=!0,Jo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ze(),e.sibling=null,n=Re.current,Te(Re,r?n&1|2:n&1),e):(kt(e),null);case 22:case 23:return qm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function jC(t,e){switch(Cm(e),e.tag){case 1:return Wt(e.type)&&lu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return so(),be($t),be(bt),Vm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lm(e),null;case 13:if(be(Re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(Re),null;case 4:return so(),null;case 10:return Nm(e.type._context),null;case 22:case 23:return qm(),null;case 24:return null;default:return null}}var cc=!1,It=!1,FC=typeof WeakSet=="function"?WeakSet:Set,q=null;function Us(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function cp(t,e,n){try{n()}catch(r){Ve(t,e,r)}}var d0=!1;function UC(t,e){if(Yf=iu,t=YE(),Sm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,g=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)g=f,f=y;for(;;){if(f===t)break t;if(g===n&&++u===i&&(a=o),g===s&&++d===r&&(l=o),(y=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kf={focusedElem:t,selectionRange:n},iu=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var I=w.memoizedProps,C=w.memoizedState,E=e.stateNode,v=E.getSnapshotBeforeUpdate(e.elementType===e.type?I:mn(e.type,I),C);E.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(N){Ve(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return w=d0,d0=!1,w}function Ea(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&cp(e,n,s)}i=i.next}while(i!==r)}}function pd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function up(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $1(t){var e=t.alternate;e!==null&&(t.alternate=null,$1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dn],delete e[Ua],delete e[Gf],delete e[kC],delete e[TC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function W1(t){return t.tag===5||t.tag===3||t.tag===4}function h0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||W1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=au));else if(r!==4&&(t=t.child,t!==null))for(dp(t,e,n),t=t.sibling;t!==null;)dp(t,e,n),t=t.sibling}function hp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hp(t,e,n),t=t.sibling;t!==null;)hp(t,e,n),t=t.sibling}var dt=null,gn=!1;function Cr(t,e,n){for(n=n.child;n!==null;)z1(t,e,n),n=n.sibling}function z1(t,e,n){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(od,n)}catch{}switch(n.tag){case 5:It||Us(n,e);case 6:var r=dt,i=gn;dt=null,Cr(t,e,n),dt=r,gn=i,dt!==null&&(gn?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(gn?(t=dt,n=n.stateNode,t.nodeType===8?jh(t.parentNode,n):t.nodeType===1&&jh(t,n),Oa(t)):jh(dt,n.stateNode));break;case 4:r=dt,i=gn,dt=n.stateNode.containerInfo,gn=!0,Cr(t,e,n),dt=r,gn=i;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&cp(n,e,o),i=i.next}while(i!==r)}Cr(t,e,n);break;case 1:if(!It&&(Us(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,e,a)}Cr(t,e,n);break;case 21:Cr(t,e,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,Cr(t,e,n),It=r):Cr(t,e,n);break;default:Cr(t,e,n)}}function f0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new FC),e.forEach(function(r){var i=QC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,gn=!1;break e;case 3:dt=a.stateNode.containerInfo,gn=!0;break e;case 4:dt=a.stateNode.containerInfo,gn=!0;break e}a=a.return}if(dt===null)throw Error(W(160));z1(s,o,i),dt=null,gn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ve(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)H1(e,t),e=e.sibling}function H1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pn(e,t),xn(t),r&4){try{Ea(3,t,t.return),pd(3,t)}catch(I){Ve(t,t.return,I)}try{Ea(5,t,t.return)}catch(I){Ve(t,t.return,I)}}break;case 1:pn(e,t),xn(t),r&512&&n!==null&&Us(n,n.return);break;case 5:if(pn(e,t),xn(t),r&512&&n!==null&&Us(n,n.return),t.flags&32){var i=t.stateNode;try{Ra(i,"")}catch(I){Ve(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&fE(i,s),Lf(a,o);var u=Lf(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?vE(i,f):d==="dangerouslySetInnerHTML"?gE(i,f):d==="children"?Ra(i,f):fm(i,d,f,u)}switch(a){case"input":Rf(i,s);break;case"textarea":pE(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Ws(i,!!s.multiple,y,!1):g!==!!s.multiple&&(s.defaultValue!=null?Ws(i,!!s.multiple,s.defaultValue,!0):Ws(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ua]=s}catch(I){Ve(t,t.return,I)}}break;case 6:if(pn(e,t),xn(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){Ve(t,t.return,I)}}break;case 3:if(pn(e,t),xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oa(e.containerInfo)}catch(I){Ve(t,t.return,I)}break;case 4:pn(e,t),xn(t);break;case 13:pn(e,t),xn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ym=ze())),r&4&&f0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(It=(u=It)||d,pn(e,t),It=u):pn(e,t),xn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(q=t,d=t.child;d!==null;){for(f=q=d;q!==null;){switch(g=q,y=g.child,g.tag){case 0:case 11:case 14:case 15:Ea(4,g,g.return);break;case 1:Us(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(I){Ve(r,n,I)}}break;case 5:Us(g,g.return);break;case 22:if(g.memoizedState!==null){m0(f);continue}}y!==null?(y.return=g,q=y):m0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yE("display",o))}catch(I){Ve(t,t.return,I)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(I){Ve(t,t.return,I)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pn(e,t),xn(t),r&4&&f0(t);break;case 21:break;default:pn(e,t),xn(t)}}function xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(W1(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ra(i,""),r.flags&=-33);var s=h0(t);hp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=h0(t);dp(t,a,o);break;default:throw Error(W(161))}}catch(l){Ve(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BC(t,e,n){q=t,Y1(t)}function Y1(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||cc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||It;a=cc;var u=It;if(cc=o,(It=l)&&!u)for(q=i;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?g0(i):l!==null?(l.return=o,q=l):g0(i);for(;s!==null;)q=s,Y1(s),s=s.sibling;q=i,cc=a,It=u}p0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):p0(t)}}function p0(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||pd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!It)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Jv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Oa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}It||e.flags&512&&up(e)}catch(g){Ve(e,e.return,g)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function m0(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function g0(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{pd(4,e)}catch(l){Ve(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ve(e,i,l)}}var s=e.return;try{up(e)}catch(l){Ve(e,s,l)}break;case 5:var o=e.return;try{up(e)}catch(l){Ve(e,o,l)}}}catch(l){Ve(e,e.return,l)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var $C=Math.ceil,vu=Tr.ReactCurrentDispatcher,zm=Tr.ReactCurrentOwner,ln=Tr.ReactCurrentBatchConfig,de=0,it=null,qe=null,pt=0,Yt=0,Bs=Ti(0),Ze=0,Ya=null,Gi=0,md=0,Hm=0,ka=null,Ut=null,Ym=0,ao=1/0,tr=null,_u=!1,fp=null,Jr=null,uc=!1,Wr=null,wu=0,Ta=0,pp=null,Lc=-1,Vc=0;function Lt(){return de&6?ze():Lc!==-1?Lc:Lc=ze()}function Zr(t){return t.mode&1?de&2&&pt!==0?pt&-pt:IC.transition!==null?(Vc===0&&(Vc=PE()),Vc):(t=_e,t!==0||(t=window.event,t=t===void 0?16:VE(t.type)),t):1}function wn(t,e,n,r){if(50<Ta)throw Ta=0,pp=null,Error(W(185));hl(t,n,r),(!(de&2)||t!==it)&&(t===it&&(!(de&2)&&(md|=n),Ze===4&&Lr(t,pt)),zt(t,r),n===1&&de===0&&!(e.mode&1)&&(ao=ze()+500,dd&&xi()))}function zt(t,e){var n=t.callbackNode;Ib(t,e);var r=ru(t,t===it?pt:0);if(r===0)n!==null&&Iv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Iv(n),e===1)t.tag===0?xC(y0.bind(null,t)):n1(y0.bind(null,t)),wC(function(){!(de&6)&&xi()}),n=null;else{switch(RE(r)){case 1:n=vm;break;case 4:n=CE;break;case 16:n=nu;break;case 536870912:n=DE;break;default:n=nu}n=ek(n,K1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function K1(t,e){if(Lc=-1,Vc=0,de&6)throw Error(W(327));var n=t.callbackNode;if(qs()&&t.callbackNode!==n)return null;var r=ru(t,t===it?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Eu(t,r);else{e=r;var i=de;de|=2;var s=Q1();(it!==t||pt!==e)&&(tr=null,ao=ze()+500,Bi(t,e));do try{HC();break}catch(a){q1(t,a)}while(!0);Rm(),vu.current=s,de=i,qe!==null?e=0:(it=null,pt=0,e=Ze)}if(e!==0){if(e===2&&(i=Bf(t),i!==0&&(r=i,e=mp(t,i))),e===1)throw n=Ya,Bi(t,0),Lr(t,r),zt(t,ze()),n;if(e===6)Lr(t,r);else{if(i=t.current.alternate,!(r&30)&&!WC(i)&&(e=Eu(t,r),e===2&&(s=Bf(t),s!==0&&(r=s,e=mp(t,s))),e===1))throw n=Ya,Bi(t,0),Lr(t,r),zt(t,ze()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Ai(t,Ut,tr);break;case 3:if(Lr(t,r),(r&130023424)===r&&(e=Ym+500-ze(),10<e)){if(ru(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Lt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qf(Ai.bind(null,t,Ut,tr),e);break}Ai(t,Ut,tr);break;case 4:if(Lr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_n(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$C(r/1960))-r,10<r){t.timeoutHandle=Qf(Ai.bind(null,t,Ut,tr),r);break}Ai(t,Ut,tr);break;case 5:Ai(t,Ut,tr);break;default:throw Error(W(329))}}}return zt(t,ze()),t.callbackNode===n?K1.bind(null,t):null}function mp(t,e){var n=ka;return t.current.memoizedState.isDehydrated&&(Bi(t,e).flags|=256),t=Eu(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&gp(e)),t}function gp(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function WC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!En(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lr(t,e){for(e&=~Hm,e&=~md,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),r=1<<n;t[n]=-1,e&=~r}}function y0(t){if(de&6)throw Error(W(327));qs();var e=ru(t,0);if(!(e&1))return zt(t,ze()),null;var n=Eu(t,e);if(t.tag!==0&&n===2){var r=Bf(t);r!==0&&(e=r,n=mp(t,r))}if(n===1)throw n=Ya,Bi(t,0),Lr(t,e),zt(t,ze()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ai(t,Ut,tr),zt(t,ze()),null}function Km(t,e){var n=de;de|=1;try{return t(e)}finally{de=n,de===0&&(ao=ze()+500,dd&&xi())}}function Xi(t){Wr!==null&&Wr.tag===0&&!(de&6)&&qs();var e=de;de|=1;var n=ln.transition,r=_e;try{if(ln.transition=null,_e=1,t)return t()}finally{_e=r,ln.transition=n,de=e,!(de&6)&&xi()}}function qm(){Yt=Bs.current,be(Bs)}function Bi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_C(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(Cm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lu();break;case 3:so(),be($t),be(bt),Vm();break;case 5:Lm(r);break;case 4:so();break;case 13:be(Re);break;case 19:be(Re);break;case 10:Nm(r.type._context);break;case 22:case 23:qm()}n=n.return}if(it=t,qe=t=ei(t.current,null),pt=Yt=e,Ze=0,Ya=null,Hm=md=Gi=0,Ut=ka=null,Vi!==null){for(e=0;e<Vi.length;e++)if(n=Vi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Vi=null}return t}function q1(t,e){do{var n=qe;try{if(Rm(),Ac.current=yu,gu){for(var r=Ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gu=!1}if(Qi=0,rt=Xe=Ae=null,wa=!1,Wa=0,zm.current=null,n===null||n.return===null){Ze=1,Ya=e,qe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=i0(o);if(y!==null){y.flags&=-257,s0(y,o,a,s,e),y.mode&1&&r0(s,u,e),e=y,l=u;var w=e.updateQueue;if(w===null){var I=new Set;I.add(l),e.updateQueue=I}else w.add(l);break e}else{if(!(e&1)){r0(s,u,e),Qm();break e}l=Error(W(426))}}else if(De&&a.mode&1){var C=i0(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),s0(C,o,a,s,e),Dm(oo(l,a));break e}}s=l=oo(l,a),Ze!==4&&(Ze=2),ka===null?ka=[s]:ka.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=R1(s,l,e);Xv(s,E);break e;case 1:a=l;var v=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Jr===null||!Jr.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=N1(s,a,e);Xv(s,N);break e}}s=s.return}while(s!==null)}X1(n)}catch(j){e=j,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function Q1(){var t=vu.current;return vu.current=yu,t===null?yu:t}function Qm(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),it===null||!(Gi&268435455)&&!(md&268435455)||Lr(it,pt)}function Eu(t,e){var n=de;de|=2;var r=Q1();(it!==t||pt!==e)&&(tr=null,Bi(t,e));do try{zC();break}catch(i){q1(t,i)}while(!0);if(Rm(),de=n,vu.current=r,qe!==null)throw Error(W(261));return it=null,pt=0,Ze}function zC(){for(;qe!==null;)G1(qe)}function HC(){for(;qe!==null&&!gb();)G1(qe)}function G1(t){var e=Z1(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?X1(t):qe=e,zm.current=null}function X1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jC(n,e),n!==null){n.flags&=32767,qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,qe=null;return}}else if(n=VC(n,e,Yt),n!==null){qe=n;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);Ze===0&&(Ze=5)}function Ai(t,e,n){var r=_e,i=ln.transition;try{ln.transition=null,_e=1,YC(t,e,n,r)}finally{ln.transition=i,_e=r}return null}function YC(t,e,n,r){do qs();while(Wr!==null);if(de&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Sb(t,s),t===it&&(qe=it=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||uc||(uc=!0,ek(nu,function(){return qs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ln.transition,ln.transition=null;var o=_e;_e=1;var a=de;de|=4,zm.current=null,UC(t,n),H1(n,t),hC(Kf),iu=!!Yf,Kf=Yf=null,t.current=n,BC(n),yb(),de=a,_e=o,ln.transition=s}else t.current=n;if(uc&&(uc=!1,Wr=t,wu=i),s=t.pendingLanes,s===0&&(Jr=null),wb(n.stateNode),zt(t,ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_u)throw _u=!1,t=fp,fp=null,t;return wu&1&&t.tag!==0&&qs(),s=t.pendingLanes,s&1?t===pp?Ta++:(Ta=0,pp=t):Ta=0,xi(),null}function qs(){if(Wr!==null){var t=RE(wu),e=ln.transition,n=_e;try{if(ln.transition=null,_e=16>t?16:t,Wr===null)var r=!1;else{if(t=Wr,Wr=null,wu=0,de&6)throw Error(W(331));var i=de;for(de|=4,q=t.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(q=u;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:Ea(8,d,s)}var f=d.child;if(f!==null)f.return=d,q=f;else for(;q!==null;){d=q;var g=d.sibling,y=d.return;if($1(d),d===u){q=null;break}if(g!==null){g.return=y,q=g;break}q=y}}}var w=s.alternate;if(w!==null){var I=w.child;if(I!==null){w.child=null;do{var C=I.sibling;I.sibling=null,I=C}while(I!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ea(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,q=E;break e}q=s.return}}var v=t.current;for(q=v;q!==null;){o=q;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,q=T;else e:for(o=v;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:pd(9,a)}}catch(j){Ve(a,a.return,j)}if(a===o){q=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,q=N;break e}q=a.return}}if(de=i,xi(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(od,t)}catch{}r=!0}return r}finally{_e=n,ln.transition=e}}return!1}function v0(t,e,n){e=oo(n,e),e=R1(t,e,1),t=Xr(t,e,1),e=Lt(),t!==null&&(hl(t,1,e),zt(t,e))}function Ve(t,e,n){if(t.tag===3)v0(t,t,n);else for(;e!==null;){if(e.tag===3){v0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jr===null||!Jr.has(r))){t=oo(n,t),t=N1(e,t,1),e=Xr(e,t,1),t=Lt(),e!==null&&(hl(e,1,t),zt(e,t));break}}e=e.return}}function KC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lt(),t.pingedLanes|=t.suspendedLanes&n,it===t&&(pt&n)===n&&(Ze===4||Ze===3&&(pt&130023424)===pt&&500>ze()-Ym?Bi(t,0):Hm|=n),zt(t,e)}function J1(t,e){e===0&&(t.mode&1?(e=ec,ec<<=1,!(ec&130023424)&&(ec=4194304)):e=1);var n=Lt();t=gr(t,e),t!==null&&(hl(t,e,n),zt(t,n))}function qC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),J1(t,n)}function QC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),J1(t,n)}var Z1;Z1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$t.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,LC(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,De&&e.flags&1048576&&r1(e,du,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Oc(t,e),t=e.pendingProps;var i=no(e,bt.current);Ks(e,n),i=Fm(null,e,r,t,i,n);var s=Um();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wt(r)?(s=!0,cu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mm(e),i.updater=fd,e.stateNode=i,i._reactInternals=e,np(e,r,t,n),e=sp(null,e,r,!0,s,n)):(e.tag=0,De&&s&&bm(e),Nt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Oc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=XC(r),t=mn(r,t),i){case 0:e=ip(null,e,r,t,n);break e;case 1:e=l0(null,e,r,t,n);break e;case 11:e=o0(null,e,r,t,n);break e;case 14:e=a0(null,e,r,mn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),ip(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),l0(t,e,r,i,n);case 3:e:{if(L1(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,c1(t,e),pu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=oo(Error(W(423)),e),e=c0(t,e,r,n,i);break e}else if(r!==i){i=oo(Error(W(424)),e),e=c0(t,e,r,n,i);break e}else for(Qt=Gr(e.stateNode.containerInfo.firstChild),Xt=e,De=!0,yn=null,n=a1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ro(),r===i){e=yr(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return u1(e),t===null&&Zf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,qf(r,i)?o=null:s!==null&&qf(r,s)&&(e.flags|=32),O1(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&Zf(e),null;case 13:return V1(t,e,n);case 4:return Om(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=io(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),o0(t,e,r,i,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Te(hu,r._currentValue),r._currentValue=o,s!==null)if(En(s.value,o)){if(s.children===i.children&&!$t.current){e=yr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=cr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ep(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ep(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Nt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ks(e,n),i=un(i),r=r(i),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,i=mn(r,e.pendingProps),i=mn(r.type,i),a0(t,e,r,i,n);case 15:return A1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),Oc(t,e),e.tag=1,Wt(r)?(t=!0,cu(e)):t=!1,Ks(e,n),P1(e,r,i),np(e,r,i,n),sp(null,e,r,!0,t,n);case 19:return j1(t,e,n);case 22:return M1(t,e,n)}throw Error(W(156,e.tag))};function ek(t,e){return bE(t,e)}function GC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,e,n,r){return new GC(t,e,n,r)}function Gm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XC(t){if(typeof t=="function")return Gm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mm)return 11;if(t===gm)return 14}return 2}function ei(t,e){var n=t.alternate;return n===null?(n=an(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Gm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Rs:return $i(n.children,i,s,e);case pm:o=8,i|=8;break;case Sf:return t=an(12,n,e,i|2),t.elementType=Sf,t.lanes=s,t;case bf:return t=an(13,n,e,i),t.elementType=bf,t.lanes=s,t;case Cf:return t=an(19,n,e,i),t.elementType=Cf,t.lanes=s,t;case uE:return gd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lE:o=10;break e;case cE:o=9;break e;case mm:o=11;break e;case gm:o=14;break e;case Nr:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=an(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $i(t,e,n,r){return t=an(7,t,r,e),t.lanes=n,t}function gd(t,e,n,r){return t=an(22,t,r,e),t.elementType=uE,t.lanes=n,t.stateNode={isHidden:!1},t}function Yh(t,e,n){return t=an(6,t,null,e),t.lanes=n,t}function Kh(t,e,n){return e=an(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bh(0),this.expirationTimes=bh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xm(t,e,n,r,i,s,o,a,l){return t=new JC(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=an(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mm(s),t}function ZC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ps,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tk(t){if(!t)return di;t=t._reactInternals;e:{if(cs(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Wt(n))return t1(t,n,e)}return e}function nk(t,e,n,r,i,s,o,a,l){return t=Xm(n,r,!0,t,i,s,o,a,l),t.context=tk(null),n=t.current,r=Lt(),i=Zr(n),s=cr(r,i),s.callback=e??null,Xr(n,s,i),t.current.lanes=i,hl(t,i,r),zt(t,r),t}function yd(t,e,n,r){var i=e.current,s=Lt(),o=Zr(i);return n=tk(n),e.context===null?e.context=n:e.pendingContext=n,e=cr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xr(i,e,o),t!==null&&(wn(t,i,o,s),Nc(t,i,o)),o}function ku(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jm(t,e){_0(t,e),(t=t.alternate)&&_0(t,e)}function eD(){return null}var rk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zm(t){this._internalRoot=t}vd.prototype.render=Zm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));yd(t,e,null,null)};vd.prototype.unmount=Zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xi(function(){yd(null,t,null,null)}),e[mr]=null}};function vd(t){this._internalRoot=t}vd.prototype.unstable_scheduleHydration=function(t){if(t){var e=ME();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Or.length&&e!==0&&e<Or[n].priority;n++);Or.splice(n,0,t),n===0&&LE(t)}};function eg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function w0(){}function tD(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ku(o);s.call(u)}}var o=nk(e,r,t,0,null,!1,!1,"",w0);return t._reactRootContainer=o,t[mr]=o.current,ja(t.nodeType===8?t.parentNode:t),Xi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ku(l);a.call(u)}}var l=Xm(t,0,!1,null,null,!1,!1,"",w0);return t._reactRootContainer=l,t[mr]=l.current,ja(t.nodeType===8?t.parentNode:t),Xi(function(){yd(e,l,n,r)}),l}function wd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ku(o);a.call(l)}}yd(e,o,t,i)}else o=tD(n,e,t,i,r);return ku(o)}NE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=oa(e.pendingLanes);n!==0&&(_m(e,n|1),zt(e,ze()),!(de&6)&&(ao=ze()+500,xi()))}break;case 13:Xi(function(){var r=gr(t,1);if(r!==null){var i=Lt();wn(r,t,1,i)}}),Jm(t,1)}};wm=function(t){if(t.tag===13){var e=gr(t,134217728);if(e!==null){var n=Lt();wn(e,t,134217728,n)}Jm(t,134217728)}};AE=function(t){if(t.tag===13){var e=Zr(t),n=gr(t,e);if(n!==null){var r=Lt();wn(n,t,e,r)}Jm(t,e)}};ME=function(){return _e};OE=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};jf=function(t,e,n){switch(e){case"input":if(Rf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ud(r);if(!i)throw Error(W(90));hE(r),Rf(r,i)}}}break;case"textarea":pE(t,n);break;case"select":e=n.value,e!=null&&Ws(t,!!n.multiple,e,!1)}};EE=Km;kE=Xi;var nD={usingClientEntryPoint:!1,Events:[pl,Os,ud,_E,wE,Km]},Zo={findFiberByHostInstance:Li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rD={bundleType:Zo.bundleType,version:Zo.version,rendererPackageName:Zo.rendererPackageName,rendererConfig:Zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=IE(t),t===null?null:t.stateNode},findFiberByHostInstance:Zo.findFiberByHostInstance||eD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{od=dc.inject(rD),An=dc}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nD;en.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eg(e))throw Error(W(200));return ZC(t,e,null,n)};en.createRoot=function(t,e){if(!eg(t))throw Error(W(299));var n=!1,r="",i=rk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xm(t,1,!1,null,null,n,!1,r,i),t[mr]=e.current,ja(t.nodeType===8?t.parentNode:t),new Zm(e)};en.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=IE(e),t=t===null?null:t.stateNode,t};en.flushSync=function(t){return Xi(t)};en.hydrate=function(t,e,n){if(!_d(e))throw Error(W(200));return wd(null,t,e,!0,n)};en.hydrateRoot=function(t,e,n){if(!eg(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=rk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nk(e,null,t,1,n??null,i,!1,s,o),t[mr]=e.current,ja(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new vd(e)};en.render=function(t,e,n){if(!_d(e))throw Error(W(200));return wd(null,t,e,!1,n)};en.unmountComponentAtNode=function(t){if(!_d(t))throw Error(W(40));return t._reactRootContainer?(Xi(function(){wd(null,null,t,!1,function(){t._reactRootContainer=null,t[mr]=null})}),!0):!1};en.unstable_batchedUpdates=Km;en.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_d(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return wd(t,e,n,!1,r)};en.version="18.3.1-next-f1338f8080-20240426";function ik(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ik)}catch(t){console.error(t)}}ik(),iE.exports=en;var Ed=iE.exports;const iD=Hw(Ed);var sk,E0=Ed;sk=E0.createRoot,E0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ka(){return Ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ka.apply(this,arguments)}var zr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zr||(zr={}));const k0="popstate";function sD(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return yp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Tu(i)}return aD(e,n,null,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ok(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oD(){return Math.random().toString(36).substr(2,8)}function T0(t,e){return{usr:t.state,key:t.key,idx:e}}function yp(t,e,n,r){return n===void 0&&(n=null),Ka({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?So(e):e,{state:n,key:e&&e.key||r||oD()})}function Tu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function So(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function aD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=zr.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Ka({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=zr.Pop;let C=d(),E=C==null?null:C-u;u=C,l&&l({action:a,location:I.location,delta:E})}function g(C,E){a=zr.Push;let v=yp(I.location,C,E);u=d()+1;let T=T0(v,u),N=I.createHref(v);try{o.pushState(T,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(N)}s&&l&&l({action:a,location:I.location,delta:1})}function y(C,E){a=zr.Replace;let v=yp(I.location,C,E);u=d();let T=T0(v,u),N=I.createHref(v);o.replaceState(T,"",N),s&&l&&l({action:a,location:I.location,delta:0})}function w(C){let E=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof C=="string"?C:Tu(C);return v=v.replace(/ $/,"%20"),Qe(E,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,E)}let I={get action(){return a},get location(){return t(i,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(k0,f),l=C,()=>{i.removeEventListener(k0,f),l=null}},createHref(C){return e(i,C)},createURL:w,encodeLocation(C){let E=w(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:y,go(C){return o.go(C)}};return I}var x0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(x0||(x0={}));function lD(t,e,n){return n===void 0&&(n="/"),cD(t,e,n,!1)}function cD(t,e,n,r){let i=typeof e=="string"?So(e):e,s=tg(i.pathname||"/",n);if(s==null)return null;let o=ak(t);uD(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=ED(s);a=_D(o[l],u,r)}return a}function ak(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Qe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ti([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Qe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ak(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:yD(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of lk(s.path))i(s,o,l)}),e}function lk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=lk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function uD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dD=/^:[\w-]+$/,hD=3,fD=2,pD=1,mD=10,gD=-2,I0=t=>t==="*";function yD(t,e){let n=t.split("/"),r=n.length;return n.some(I0)&&(r+=gD),e&&(r+=fD),n.filter(i=>!I0(i)).reduce((i,s)=>i+(dD.test(s)?hD:s===""?pD:mD),r)}function vD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function _D(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=S0({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=S0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ti([s,f.pathname]),pathnameBase:ID(ti([s,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(s=ti([s,f.pathnameBase]))}return o}function S0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:g,isOptional:y}=d;if(g==="*"){let I=a[f]||"";o=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const w=a[f];return y&&!w?u[g]=void 0:u[g]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function wD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ok(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ED(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ok(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function kD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?So(t):t;return{pathname:n?n.startsWith("/")?n:TD(n,e):e,search:SD(r),hash:bD(i)}}function TD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ck(t,e){let n=xD(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function uk(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=So(t):(i=Ka({},t),Qe(!i.pathname||!i.pathname.includes("?"),qh("?","pathname","search",i)),Qe(!i.pathname||!i.pathname.includes("#"),qh("#","pathname","hash",i)),Qe(!i.search||!i.search.includes("#"),qh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}a=f>=0?e[f]:"/"}let l=kD(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const ti=t=>t.join("/").replace(/\/\/+/g,"/"),ID=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function CD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dk=["post","put","patch","delete"];new Set(dk);const DD=["get",...dk];new Set(DD);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qa(){return qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qa.apply(this,arguments)}const ng=O.createContext(null),PD=O.createContext(null),us=O.createContext(null),kd=O.createContext(null),Ii=O.createContext({outlet:null,matches:[],isDataRoute:!1}),hk=O.createContext(null);function RD(t,e){let{relative:n}=e===void 0?{}:e;gl()||Qe(!1);let{basename:r,navigator:i}=O.useContext(us),{hash:s,pathname:o,search:a}=mk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ti([r,o])),i.createHref({pathname:l,search:a,hash:s})}function gl(){return O.useContext(kd)!=null}function Td(){return gl()||Qe(!1),O.useContext(kd).location}function fk(t){O.useContext(us).static||O.useLayoutEffect(t)}function yl(){let{isDataRoute:t}=O.useContext(Ii);return t?zD():ND()}function ND(){gl()||Qe(!1);let t=O.useContext(ng),{basename:e,future:n,navigator:r}=O.useContext(us),{matches:i}=O.useContext(Ii),{pathname:s}=Td(),o=JSON.stringify(ck(i,n.v7_relativeSplatPath)),a=O.useRef(!1);return fk(()=>{a.current=!0}),O.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=uk(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ti([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}function pk(){let{matches:t}=O.useContext(Ii),e=t[t.length-1];return e?e.params:{}}function mk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(us),{matches:i}=O.useContext(Ii),{pathname:s}=Td(),o=JSON.stringify(ck(i,r.v7_relativeSplatPath));return O.useMemo(()=>uk(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function AD(t,e){return MD(t,e)}function MD(t,e,n,r){gl()||Qe(!1);let{navigator:i,static:s}=O.useContext(us),{matches:o}=O.useContext(Ii),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=Td(),f;if(e){var g;let E=typeof e=="string"?So(e):e;u==="/"||(g=E.pathname)!=null&&g.startsWith(u)||Qe(!1),f=E}else f=d;let y=f.pathname||"/",w=y;if(u!=="/"){let E=u.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(E.length).join("/")}let I=!s&&n&&n.matches&&n.matches.length>0?n.matches:lD(t,{pathname:w}),C=FD(I&&I.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:ti([u,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:ti([u,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&C?O.createElement(kd.Provider,{value:{location:qa({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:zr.Pop}},C):C}function OD(){let t=WD(),e=CD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,null)}const LD=O.createElement(OD,null);class VD extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(Ii.Provider,{value:this.props.routeContext},O.createElement(hk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jD(t){let{routeContext:e,match:n,children:r}=t,i=O.useContext(ng);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Ii.Provider,{value:e},r)}function FD(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Qe(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:g,errors:y}=n,w=f.route.loader&&g[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,g)=>{let y,w=!1,I=null,C=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,I=f.route.errorElement||LD,l&&(u<0&&g===0?(w=!0,C=null):u===g&&(w=!0,C=f.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,g+1)),v=()=>{let T;return y?T=I:w?T=C:f.route.Component?T=O.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,O.createElement(jD,{match:f,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?O.createElement(VD,{location:n.location,revalidation:n.revalidation,component:I,error:y,children:v(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):v()},null)}var gk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(gk||{}),xu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xu||{});function UD(t){let e=O.useContext(ng);return e||Qe(!1),e}function BD(t){let e=O.useContext(PD);return e||Qe(!1),e}function $D(t){let e=O.useContext(Ii);return e||Qe(!1),e}function yk(t){let e=$D(),n=e.matches[e.matches.length-1];return n.route.id||Qe(!1),n.route.id}function WD(){var t;let e=O.useContext(hk),n=BD(xu.UseRouteError),r=yk(xu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function zD(){let{router:t}=UD(gk.UseNavigateStable),e=yk(xu.UseNavigateStable),n=O.useRef(!1);return fk(()=>{n.current=!0}),O.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,qa({fromRouteId:e},s)))},[t,e])}function HD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Rr(t){Qe(!1)}function YD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=zr.Pop,navigator:s,static:o=!1,future:a}=t;gl()&&Qe(!1);let l=e.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:s,static:o,future:qa({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=So(r));let{pathname:d="/",search:f="",hash:g="",state:y=null,key:w="default"}=r,I=O.useMemo(()=>{let C=tg(d,l);return C==null?null:{location:{pathname:C,search:f,hash:g,state:y,key:w},navigationType:i}},[l,d,f,g,y,w,i]);return I==null?null:O.createElement(us.Provider,{value:u},O.createElement(kd.Provider,{children:n,value:I}))}function KD(t){let{children:e,location:n}=t;return AD(vp(e),n)}new Promise(()=>{});function vp(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(r,i)=>{if(!O.isValidElement(r))return;let s=[...e,i];if(r.type===O.Fragment){n.push.apply(n,vp(r.props.children,s));return}r.type!==Rr&&Qe(!1),!r.props.index||!r.props.children||Qe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=vp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_p.apply(this,arguments)}function qD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function QD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GD(t,e){return t.button===0&&(!e||e==="_self")&&!QD(t)}const XD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],JD="6";try{window.__reactRouterVersion=JD}catch{}const ZD="startTransition",b0=nE[ZD];function eP(t){let{basename:e,children:n,future:r,window:i}=t,s=O.useRef();s.current==null&&(s.current=sD({window:i,v5Compat:!0}));let o=s.current,[a,l]=O.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=O.useCallback(f=>{u&&b0?b0(()=>l(f)):l(f)},[l,u]);return O.useLayoutEffect(()=>o.listen(d),[o,d]),O.useEffect(()=>HD(r),[r]),O.createElement(YD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const tP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wp=O.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,g=qD(e,XD),{basename:y}=O.useContext(us),w,I=!1;if(typeof u=="string"&&nP.test(u)&&(w=u,tP))try{let T=new URL(window.location.href),N=u.startsWith("//")?new URL(T.protocol+u):new URL(u),j=tg(N.pathname,y);N.origin===T.origin&&j!=null?u=j+N.search+N.hash:I=!0}catch{}let C=RD(u,{relative:i}),E=rP(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function v(T){r&&r(T),T.defaultPrevented||E(T)}return O.createElement("a",_p({},g,{href:w||C,onClick:I||s?r:v,ref:n,target:l}))});var C0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(C0||(C0={}));var D0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(D0||(D0={}));function rP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=yl(),u=Td(),d=mk(t,{relative:o});return O.useCallback(f=>{if(GD(f,n)){f.preventDefault();let g=r!==void 0?r:Tu(u)===Tu(d);l(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}const iP=()=>{};var P0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},_k={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let g=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(g=64)),r.push(n[d],n[f],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new oP;const g=s<<2|a>>4;if(r.push(g),u!==64){const y=a<<4&240|u>>2;if(r.push(y),f!==64){const w=u<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aP=function(t){const e=vk(t);return _k.encodeByteArray(e,!0)},Iu=function(t){return aP(t).replace(/\./g,"")},wk=function(t){try{return _k.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=()=>lP().__FIREBASE_DEFAULTS__,uP=()=>{if(typeof process>"u"||typeof P0>"u")return;const t=P0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wk(t[1]);return e&&JSON.parse(e)},xd=()=>{try{return iP()||cP()||uP()||dP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ek=t=>{var e,n;return(n=(e=xd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kk=t=>{const e=Ek(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Tk=()=>{var t;return(t=xd())===null||t===void 0?void 0:t.config},xk=t=>{var e;return(e=xd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Iu(JSON.stringify(n)),Iu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function pP(){var t;const e=(t=xd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vP(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _P(){return!pP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wP(){try{return typeof indexedDB=="object"}catch{return!1}}function EP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="FirebaseError";class Kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kP,Object.setPrototypeOf(this,Kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vl.prototype.create)}}class vl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?TP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Kn(i,a,r)}}function TP(t,e){return t.replace(xP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const xP=/\{\$([^}]+)}/g;function IP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ji(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(R0(s)&&R0(o)){if(!Ji(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function R0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function la(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ca(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function SP(t,e){const n=new bP(t,e);return n.subscribe.bind(n)}class bP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");CP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qh),i.error===void 0&&(i.error=Qh),i.complete===void 0&&(i.complete=Qh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(t){return t&&t._delegate?t._delegate:t}class hi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RP(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mi){return this.instances.has(e)}getOptions(e=Mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mi){return this.component?this.component.multipleInstances?e:Mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PP(t){return t===Mi?void 0:t}function RP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const AP={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},MP=se.INFO,OP={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},LP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=OP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rg{constructor(e){this.name=e,this._logLevel=MP,this._logHandler=LP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const VP=(t,e)=>e.some(n=>t instanceof n);let N0,A0;function jP(){return N0||(N0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FP(){return A0||(A0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sk=new WeakMap,Ep=new WeakMap,bk=new WeakMap,Gh=new WeakMap,ig=new WeakMap;function UP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ni(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Sk.set(n,t)}).catch(()=>{}),ig.set(e,t),e}function BP(t){if(Ep.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ep.set(t,e)}let kp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ep.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ni(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $P(t){kp=t(kp)}function WP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xh(this),e,...n);return bk.set(r,e.sort?e.sort():[e]),ni(r)}:FP().includes(t)?function(...e){return t.apply(Xh(this),e),ni(Sk.get(this))}:function(...e){return ni(t.apply(Xh(this),e))}}function zP(t){return typeof t=="function"?WP(t):(t instanceof IDBTransaction&&BP(t),VP(t,jP())?new Proxy(t,kp):t)}function ni(t){if(t instanceof IDBRequest)return UP(t);if(Gh.has(t))return Gh.get(t);const e=zP(t);return e!==t&&(Gh.set(t,e),ig.set(e,t)),e}const Xh=t=>ig.get(t);function HP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ni(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ni(o.result),l.oldVersion,l.newVersion,ni(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const YP=["get","getKey","getAll","getAllKeys","count"],KP=["put","add","delete","clear"],Jh=new Map;function M0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jh.get(e))return Jh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=KP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YP.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Jh.set(e,s),s}$P(t=>({...t,get:(e,n,r)=>M0(e,n)||t.get(e,n,r),has:(e,n)=>!!M0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tp="@firebase/app",O0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new rg("@firebase/app"),GP="@firebase/app-compat",XP="@firebase/analytics-compat",JP="@firebase/analytics",ZP="@firebase/app-check-compat",eR="@firebase/app-check",tR="@firebase/auth",nR="@firebase/auth-compat",rR="@firebase/database",iR="@firebase/data-connect",sR="@firebase/database-compat",oR="@firebase/functions",aR="@firebase/functions-compat",lR="@firebase/installations",cR="@firebase/installations-compat",uR="@firebase/messaging",dR="@firebase/messaging-compat",hR="@firebase/performance",fR="@firebase/performance-compat",pR="@firebase/remote-config",mR="@firebase/remote-config-compat",gR="@firebase/storage",yR="@firebase/storage-compat",vR="@firebase/firestore",_R="@firebase/vertexai",wR="@firebase/firestore-compat",ER="firebase",kR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="[DEFAULT]",TR={[Tp]:"fire-core",[GP]:"fire-core-compat",[JP]:"fire-analytics",[XP]:"fire-analytics-compat",[eR]:"fire-app-check",[ZP]:"fire-app-check-compat",[tR]:"fire-auth",[nR]:"fire-auth-compat",[rR]:"fire-rtdb",[iR]:"fire-data-connect",[sR]:"fire-rtdb-compat",[oR]:"fire-fn",[aR]:"fire-fn-compat",[lR]:"fire-iid",[cR]:"fire-iid-compat",[uR]:"fire-fcm",[dR]:"fire-fcm-compat",[hR]:"fire-perf",[fR]:"fire-perf-compat",[pR]:"fire-rc",[mR]:"fire-rc-compat",[gR]:"fire-gcs",[yR]:"fire-gcs-compat",[vR]:"fire-fst",[wR]:"fire-fst-compat",[_R]:"fire-vertex","fire-js":"fire-js",[ER]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Map,xR=new Map,Ip=new Map;function L0(t,e){try{t.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zi(t){const e=t.name;if(Ip.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;Ip.set(e,t);for(const n of Su.values())L0(n,t);for(const n of xR.values())L0(n,t);return!0}function Id(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ri=new vl("app","Firebase",IR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=kR;function Ck(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:xp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ri.create("bad-app-name",{appName:String(i)});if(n||(n=Tk()),!n)throw ri.create("no-options");const s=Su.get(i);if(s){if(Ji(n,s.options)&&Ji(r,s.config))return s;throw ri.create("duplicate-app",{appName:i})}const o=new NP(i);for(const l of Ip.values())o.addComponent(l);const a=new SR(n,r,o);return Su.set(i,a),a}function sg(t=xp){const e=Su.get(t);if(!e&&t===xp&&Tk())return Ck();if(!e)throw ri.create("no-app",{appName:t});return e}function On(t,e,n){var r;let i=(r=TR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(a.join(" "));return}Zi(new hi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="firebase-heartbeat-database",CR=1,Qa="firebase-heartbeat-store";let Zh=null;function Dk(){return Zh||(Zh=HP(bR,CR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qa)}catch(n){console.warn(n)}}}}).catch(t=>{throw ri.create("idb-open",{originalErrorMessage:t.message})})),Zh}async function DR(t){try{const n=(await Dk()).transaction(Qa),r=await n.objectStore(Qa).get(Pk(t));return await n.done,r}catch(e){if(e instanceof Kn)vr.warn(e.message);else{const n=ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vr.warn(n.message)}}}async function V0(t,e){try{const r=(await Dk()).transaction(Qa,"readwrite");await r.objectStore(Qa).put(e,Pk(t)),await r.done}catch(n){if(n instanceof Kn)vr.warn(n.message);else{const r=ri.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vr.warn(r.message)}}}function Pk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=1024,RR=30;class NR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=j0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>RR){const o=OR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=j0(),{heartbeatsToSend:r,unsentEntries:i}=AR(this._heartbeatsCache.heartbeats),s=Iu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return vr.warn(n),""}}}function j0(){return new Date().toISOString().substring(0,10)}function AR(t,e=PR){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),F0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),F0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wP()?EP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return V0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return V0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function F0(t){return Iu(JSON.stringify({version:2,heartbeats:t})).length}function OR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t){Zi(new hi("platform-logger",e=>new qP(e),"PRIVATE")),Zi(new hi("heartbeat",e=>new NR(e),"PRIVATE")),On(Tp,O0,t),On(Tp,O0,"esm2017"),On("fire-js","")}LR("");var VR="firebase",jR="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On(VR,jR,"app");function og(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Rk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FR=Rk,Nk=new vl("auth","Firebase",Rk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=new rg("@firebase/auth");function UR(t,...e){bu.logLevel<=se.WARN&&bu.warn(`Auth (${ds}): ${t}`,...e)}function Fc(t,...e){bu.logLevel<=se.ERROR&&bu.error(`Auth (${ds}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t,...e){throw ag(t,...e)}function Ln(t,...e){return ag(t,...e)}function Ak(t,e,n){const r=Object.assign(Object.assign({},FR()),{[e]:n});return new vl("auth","Firebase",r).create(e,{appName:t.name})}function ur(t){return Ak(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ag(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Nk.create(t,...e)}function Z(t,e,...n){if(!t)throw ag(e,...n)}function or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fc(e),new Error(e)}function _r(t,e){t||or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function BR(){return U0()==="http:"||U0()==="https:"}function U0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BR()||gP()||"connection"in navigator)?navigator.onLine:!0}function WR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,_r(n>e,"Short delay should be less than long delay!"),this.isMobile=fP()||yP()}get(){return $R()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t,e){_r(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=new wl(3e4,6e4);function Si(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xr(t,e,n,r,i={}){return Ok(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=_l(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return mP()||(u.referrerPolicy="no-referrer"),Mk.fetch()(Lk(t,t.config.apiHost,n,a),u)})}async function Ok(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zR),e);try{const i=new KR(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw hc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw hc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw hc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw hc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ak(t,d,u);kn(t,d)}}catch(i){if(i instanceof Kn)throw i;kn(t,"network-request-failed",{message:String(i)})}}async function El(t,e,n,r,i={}){const s=await xr(t,e,n,r,i);return"mfaPendingCredential"in s&&kn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Lk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?lg(t.config,i):`${t.config.apiScheme}://${i}`}function YR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ln(this.auth,"network-request-failed")),HR.get())})}}function hc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ln(t,e,r);return i.customData._tokenResponse=n,i}function B0(t){return t!==void 0&&t.enterprise!==void 0}class qR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return YR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QR(t,e){return xr(t,"GET","/v2/recaptchaConfig",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(t,e){return xr(t,"POST","/v1/accounts:delete",e)}async function Vk(t,e){return xr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XR(t,e=!1){const n=st(t),r=await n.getIdToken(e),i=cg(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:xa(ef(i.auth_time)),issuedAtTime:xa(ef(i.iat)),expirationTime:xa(ef(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ef(t){return Number(t)*1e3}function cg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const i=wk(n);return i?JSON.parse(i):(Fc("Failed to decode base64 JWT payload"),null)}catch(i){return Fc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $0(t){const e=cg(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Kn&&JR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function JR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xa(this.lastLoginAt),this.creationTime=xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await lo(t,Vk(n,{idToken:r}));Z(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?jk(s.providerUserInfo):[],a=tN(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new bp(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function eN(t){const e=st(t);await Cu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jk(t){return t.map(e=>{var{providerId:n}=e,r=og(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(t,e){const n=await Ok(t,{},async()=>{const r=_l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Lk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Mk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rN(t,e){return xr(t,"POST","/v2/accounts:revokeToken",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=$0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await nN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Qs;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qs,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ar{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=og(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new bp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await lo(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XR(this,e)}reload(){return eN(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ar(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qt(this.auth.app))return Promise.reject(ur(this.auth));const e=await this.getIdToken();return await lo(this,GR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:N,isAnonymous:j,providerData:F,stsTokenManager:x}=n;Z(T&&x,e,"internal-error");const _=Qs.fromJSON(this.name,x);Z(typeof T=="string",e,"internal-error"),Dr(f,e.name),Dr(g,e.name),Z(typeof N=="boolean",e,"internal-error"),Z(typeof j=="boolean",e,"internal-error"),Dr(y,e.name),Dr(w,e.name),Dr(I,e.name),Dr(C,e.name),Dr(E,e.name),Dr(v,e.name);const b=new ar({uid:T,auth:e,email:g,emailVerified:N,displayName:f,isAnonymous:j,photoURL:w,phoneNumber:y,tenantId:I,stsTokenManager:_,createdAt:E,lastLoginAt:v});return F&&Array.isArray(F)&&(b.providerData=F.map(D=>Object.assign({},D))),C&&(b._redirectEventId=C),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Qs;i.updateFromServerResponse(n);const s=new ar({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Cu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Z(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?jk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Qs;a.updateFromIdToken(r);const l=new ar({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new bp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=new Map;function lr(t){_r(t instanceof Function,"Expected a class definition");let e=W0.get(t);return e?(_r(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,W0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Fk.type="NONE";const z0=Fk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t,e,n){return`firebase:${t}:${e}:${n}`}class Gs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Uc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Uc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ar._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Gs(lr(z0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||lr(z0);const o=Uc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const f=ar._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Gs(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Gs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Uk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hk(e))return"Blackberry";if(Yk(e))return"Webos";if(Bk(e))return"Safari";if((e.includes("chrome/")||$k(e))&&!e.includes("edge/"))return"Chrome";if(zk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Uk(t=Ct()){return/firefox\//i.test(t)}function Bk(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $k(t=Ct()){return/crios\//i.test(t)}function Wk(t=Ct()){return/iemobile/i.test(t)}function zk(t=Ct()){return/android/i.test(t)}function Hk(t=Ct()){return/blackberry/i.test(t)}function Yk(t=Ct()){return/webos/i.test(t)}function ug(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iN(t=Ct()){var e;return ug(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sN(){return vP()&&document.documentMode===10}function Kk(t=Ct()){return ug(t)||zk(t)||Yk(t)||Hk(t)||/windows phone/i.test(t)||Wk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t,e=[]){let n;switch(t){case"Browser":n=H0(Ct());break;case"Worker":n=`${H0(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ds}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(t,e={}){return xr(t,"GET","/v2/passwordPolicy",Si(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=6;class cN{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:lN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y0(this),this.idTokenSubscription=new Y0(this),this.beforeStateQueue=new oN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Gs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vk(this,{idToken:e}),r=await ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qt(this.app))return Promise.reject(ur(this));const n=e?st(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qt(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qt(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aN(this),n=new cN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await Gs.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&UR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hs(t){return st(t)}class Y0{constructor(e){this.auth=e,this.observer=null,this.addObserver=SP(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dN(t){Sd=t}function Qk(t){return Sd.loadJS(t)}function hN(){return Sd.recaptchaEnterpriseScript}function fN(){return Sd.gapiScript}function pN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class mN{constructor(){this.enterprise=new gN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yN="recaptcha-enterprise",Gk="NO_RECAPTCHA";class vN{constructor(e){this.type=yN,this.auth=hs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{QR(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new qR(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;B0(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Gk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mN().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&B0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=hN();l.length!==0&&(l+=a),Qk(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function K0(t,e,n,r=!1,i=!1){const s=new vN(t);let o;if(i)o=Gk;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Cp(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await K0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await K0(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t,e){const n=Id(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ji(s,e??{}))return i;kn(i,"already-initialized")}return n.initialize({options:e})}function wN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function EN(t,e,n){const r=hs(t);Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Xk(e),{host:o,port:a}=kN(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Z(Ji(u,r.config.emulator)&&Ji(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,TN()}function Xk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kN(t){const e=Xk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:q0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:q0(o)}}}function q0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function xN(t,e){return xr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(t,e){return El(t,"POST","/v1/accounts:signInWithPassword",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(t,e){return El(t,"POST","/v1/accounts:signInWithEmailLink",Si(t,e))}async function bN(t,e){return El(t,"POST","/v1/accounts:signInWithEmailLink",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends dg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ga(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ga(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cp(e,n,"signInWithPassword",IN);case"emailLink":return SN(e,{email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cp(e,r,"signUpPassword",xN);case"emailLink":return bN(e,{idToken:n,email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xs(t,e){return El(t,"POST","/v1/accounts:signInWithIdp",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="http://localhost";class es extends dg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=og(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new es(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Xs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xs(e,n)}buildRequest(){const e={requestUri:CN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_l(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PN(t){const e=la(ca(t)).link,n=e?la(ca(e)).deep_link_id:null,r=la(ca(t)).deep_link_id;return(r?la(ca(r)).link:null)||r||n||e||t}class hg{constructor(e){var n,r,i,s,o,a;const l=la(ca(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=DN((i=l.mode)!==null&&i!==void 0?i:null);Z(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=PN(e);try{return new hg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.providerId=bo.PROVIDER_ID}static credential(e,n){return Ga._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hg.parseLink(n);return Z(r,"argument-error"),Ga._fromEmailAndCode(e,r.code,r.tenantId)}}bo.PROVIDER_ID="password";bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Jk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends kl{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return es._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends kl{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends kl{constructor(){super("twitter.com")}static credential(e,n){return es._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ur.credential(n,r)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(t,e){return El(t,"POST","/v1/accounts:signUp",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ar._fromIdTokenResponse(e,r,i),o=Q0(r);return new ts({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Q0(r);return new ts({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Q0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends Kn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Du.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Du(e,n,r,i)}}function Zk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Du._fromErrorAndOperation(t,s,e,r):s})}async function NN(t,e,n=!1){const r=await lo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ts._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(t,e,n=!1){const{auth:r}=t;if(qt(r.app))return Promise.reject(ur(r));const i="reauthenticate";try{const s=await lo(t,Zk(r,i,e,t),n);Z(s.idToken,r,"internal-error");const o=cg(s.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),ts._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&kn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eT(t,e,n=!1){if(qt(t.app))return Promise.reject(ur(t));const r="signIn",i=await Zk(t,r,e),s=await ts._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function MN(t,e){return eT(hs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tT(t){const e=hs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ON(t,e,n){if(qt(t.app))return Promise.reject(ur(t));const r=hs(t),o=await Cp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RN).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&tT(t),l}),a=await ts._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function LN(t,e,n){return qt(t.app)?Promise.reject(ur(t)):MN(st(t),bo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tT(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(t,e){return xr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=st(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await lo(r,VN(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function FN(t,e,n,r){return st(t).onIdTokenChanged(e,n,r)}function UN(t,e,n){return st(t).beforeAuthStateChanged(e,n)}function BN(t,e,n,r){return st(t).onAuthStateChanged(e,n,r)}function $N(t){return st(t).signOut()}const Pu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pu,"1"),this.storage.removeItem(Pu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=1e3,zN=10;class rT extends nT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);sN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},WN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rT.type="LOCAL";const HN=rT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT extends nT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iT.type="SESSION";const sT=iT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new bd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await YN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=fg("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return window}function qN(t){Vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function QN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function XN(){return oT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="firebaseLocalStorageDb",JN=1,Ru="firebaseLocalStorage",lT="fbase_key";class Tl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cd(t,e){return t.transaction([Ru],e?"readwrite":"readonly").objectStore(Ru)}function ZN(){const t=indexedDB.deleteDatabase(aT);return new Tl(t).toPromise()}function Dp(){const t=indexedDB.open(aT,JN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ru,{keyPath:lT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ru)?e(r):(r.close(),await ZN(),e(await Dp()))})})}async function G0(t,e,n){const r=Cd(t,!0).put({[lT]:e,value:n});return new Tl(r).toPromise()}async function eA(t,e){const n=Cd(t,!1).get(e),r=await new Tl(n).toPromise();return r===void 0?null:r.value}function X0(t,e){const n=Cd(t,!0).delete(e);return new Tl(n).toPromise()}const tA=800,nA=3;class cT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bd._getInstance(XN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QN(),!this.activeServiceWorker)return;this.sender=new KN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dp();return await G0(e,Pu,"1"),await X0(e,Pu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>G0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>X0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Cd(i,!1).getAll();return new Tl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cT.type="LOCAL";const rA=cT;new wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t,e){return e?lr(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg extends dg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sA(t){return eT(t.auth,new pg(t),t.bypassAuthState)}function oA(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),AN(n,new pg(t),t.bypassAuthState)}async function aA(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),NN(n,new pg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sA;case"linkViaPopup":case"linkViaRedirect":return aA;case"reauthViaPopup":case"reauthViaRedirect":return oA;default:kn(this.auth,"internal-error")}}resolve(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=new wl(2e3,1e4);class $s extends uT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const e=fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lA.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="pendingRedirect",Bc=new Map;class uA extends uT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bc.get(this.auth._key());if(!e){try{const r=await dA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bc.set(this.auth._key(),e)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dA(t,e){const n=pA(e),r=fA(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function hA(t,e){Bc.set(t._key(),e)}function fA(t){return lr(t._redirectPersistence)}function pA(t){return Uc(cA,t.config.apiKey,t.name)}async function mA(t,e,n=!1){if(qt(t.app))return Promise.reject(ur(t));const r=hs(t),i=iA(r,e),o=await new uA(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=10*60*1e3;class yA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ln(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gA&&this.cachedEventUids.clear(),this.cachedEventUids.has(J0(e))}saveEventToCache(e){this.cachedEventUids.add(J0(e)),this.lastProcessedEventTime=Date.now()}}function J0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _A(t,e={}){return xr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EA=/^https?/;async function kA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _A(t);for(const n of e)try{if(TA(n))return}catch{}kn(t,"unauthorized-domain")}function TA(t){const e=Sp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!EA.test(n))return!1;if(wA.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=new wl(3e4,6e4);function Z0(){const t=Vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IA(t){return new Promise((e,n)=>{var r,i,s;function o(){Z0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Z0(),n(Ln(t,"network-request-failed"))},timeout:xA.get()})}if(!((i=(r=Vn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Vn().gapi)===null||s===void 0)&&s.load)o();else{const a=pN("iframefcb");return Vn()[a]=()=>{gapi.load?o():n(Ln(t,"network-request-failed"))},Qk(`${fN()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw $c=null,e})}let $c=null;function SA(t){return $c=$c||IA(t),$c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new wl(5e3,15e3),CA="__/auth/iframe",DA="emulator/auth/iframe",PA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NA(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?lg(e,DA):`https://${t.config.authDomain}/${CA}`,r={apiKey:e.apiKey,appName:t.name,v:ds},i=RA.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${_l(r).slice(1)}`}async function AA(t){const e=await SA(t),n=Vn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:NA(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PA,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ln(t,"network-request-failed"),a=Vn().setTimeout(()=>{s(o)},bA.get());function l(){Vn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OA=500,LA=600,VA="_blank",jA="http://localhost";class e_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FA(t,e,n,r=OA,i=LA){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},MA),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ct().toLowerCase();n&&(a=$k(u)?VA:n),Uk(u)&&(e=e||jA,l.scrollbars="yes");const d=Object.entries(l).reduce((g,[y,w])=>`${g}${y}=${w},`,"");if(iN(u)&&a!=="_self")return UA(e||"",a),new e_(null);const f=window.open(e||"",a,d);Z(f,t,"popup-blocked");try{f.focus()}catch{}return new e_(f)}function UA(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="__/auth/handler",$A="emulator/auth/handler",WA=encodeURIComponent("fac");async function t_(t,e,n,r,i,s){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ds,eventId:i};if(e instanceof Jk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",IP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof kl){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${WA}=${encodeURIComponent(l)}`:"";return`${zA(t)}?${_l(a).slice(1)}${u}`}function zA({config:t}){return t.emulator?lg(t,$A):`https://${t.authDomain}/${BA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="webStorageSupport";class HA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sT,this._completeRedirectFn=mA,this._overrideRedirectResult=hA}async _openPopup(e,n,r,i){var s;_r((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await t_(e,n,r,Sp(),i);return FA(e,o,fg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await t_(e,n,r,Sp(),i);return qN(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(_r(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await AA(e),r=new yA(e);return n.register("authEvent",i=>(Z(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tf,{type:tf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[tf];o!==void 0&&n(!!o),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Kk()||Bk()||ug()}}const YA=HA;var n_="@firebase/auth",r_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QA(t){Zi(new hi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qk(t)},u=new uN(r,i,s,l);return wN(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zi(new hi("auth-internal",e=>{const n=hs(e.getProvider("auth").getImmediate());return(r=>new KA(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(n_,r_,qA(t)),On(n_,r_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=5*60,XA=xk("authIdTokenMaxAge")||GA;let i_=null;const JA=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>XA)return;const i=n==null?void 0:n.token;i_!==i&&(i_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ZA(t=sg()){const e=Id(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_N(t,{popupRedirectResolver:YA,persistence:[rA,HN,sT]}),r=xk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=JA(s.toString());UN(n,o,()=>o(n.currentUser)),FN(n,a=>o(a))}}const i=Ek("auth");return i&&EN(n,`http://${i}`),n}function e2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ln("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",e2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QA("Browser");var s_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ii,hT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,_){function b(){}b.prototype=_.prototype,x.D=_.prototype,x.prototype=new b,x.prototype.constructor=x,x.C=function(D,R,A){for(var P=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)P[ae-2]=arguments[ae];return _.prototype[R].apply(D,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,_,b){b||(b=0);var D=Array(16);if(typeof _=="string")for(var R=0;16>R;++R)D[R]=_.charCodeAt(b++)|_.charCodeAt(b++)<<8|_.charCodeAt(b++)<<16|_.charCodeAt(b++)<<24;else for(R=0;16>R;++R)D[R]=_[b++]|_[b++]<<8|_[b++]<<16|_[b++]<<24;_=x.g[0],b=x.g[1],R=x.g[2];var A=x.g[3],P=_+(A^b&(R^A))+D[0]+3614090360&4294967295;_=b+(P<<7&4294967295|P>>>25),P=A+(R^_&(b^R))+D[1]+3905402710&4294967295,A=_+(P<<12&4294967295|P>>>20),P=R+(b^A&(_^b))+D[2]+606105819&4294967295,R=A+(P<<17&4294967295|P>>>15),P=b+(_^R&(A^_))+D[3]+3250441966&4294967295,b=R+(P<<22&4294967295|P>>>10),P=_+(A^b&(R^A))+D[4]+4118548399&4294967295,_=b+(P<<7&4294967295|P>>>25),P=A+(R^_&(b^R))+D[5]+1200080426&4294967295,A=_+(P<<12&4294967295|P>>>20),P=R+(b^A&(_^b))+D[6]+2821735955&4294967295,R=A+(P<<17&4294967295|P>>>15),P=b+(_^R&(A^_))+D[7]+4249261313&4294967295,b=R+(P<<22&4294967295|P>>>10),P=_+(A^b&(R^A))+D[8]+1770035416&4294967295,_=b+(P<<7&4294967295|P>>>25),P=A+(R^_&(b^R))+D[9]+2336552879&4294967295,A=_+(P<<12&4294967295|P>>>20),P=R+(b^A&(_^b))+D[10]+4294925233&4294967295,R=A+(P<<17&4294967295|P>>>15),P=b+(_^R&(A^_))+D[11]+2304563134&4294967295,b=R+(P<<22&4294967295|P>>>10),P=_+(A^b&(R^A))+D[12]+1804603682&4294967295,_=b+(P<<7&4294967295|P>>>25),P=A+(R^_&(b^R))+D[13]+4254626195&4294967295,A=_+(P<<12&4294967295|P>>>20),P=R+(b^A&(_^b))+D[14]+2792965006&4294967295,R=A+(P<<17&4294967295|P>>>15),P=b+(_^R&(A^_))+D[15]+1236535329&4294967295,b=R+(P<<22&4294967295|P>>>10),P=_+(R^A&(b^R))+D[1]+4129170786&4294967295,_=b+(P<<5&4294967295|P>>>27),P=A+(b^R&(_^b))+D[6]+3225465664&4294967295,A=_+(P<<9&4294967295|P>>>23),P=R+(_^b&(A^_))+D[11]+643717713&4294967295,R=A+(P<<14&4294967295|P>>>18),P=b+(A^_&(R^A))+D[0]+3921069994&4294967295,b=R+(P<<20&4294967295|P>>>12),P=_+(R^A&(b^R))+D[5]+3593408605&4294967295,_=b+(P<<5&4294967295|P>>>27),P=A+(b^R&(_^b))+D[10]+38016083&4294967295,A=_+(P<<9&4294967295|P>>>23),P=R+(_^b&(A^_))+D[15]+3634488961&4294967295,R=A+(P<<14&4294967295|P>>>18),P=b+(A^_&(R^A))+D[4]+3889429448&4294967295,b=R+(P<<20&4294967295|P>>>12),P=_+(R^A&(b^R))+D[9]+568446438&4294967295,_=b+(P<<5&4294967295|P>>>27),P=A+(b^R&(_^b))+D[14]+3275163606&4294967295,A=_+(P<<9&4294967295|P>>>23),P=R+(_^b&(A^_))+D[3]+4107603335&4294967295,R=A+(P<<14&4294967295|P>>>18),P=b+(A^_&(R^A))+D[8]+1163531501&4294967295,b=R+(P<<20&4294967295|P>>>12),P=_+(R^A&(b^R))+D[13]+2850285829&4294967295,_=b+(P<<5&4294967295|P>>>27),P=A+(b^R&(_^b))+D[2]+4243563512&4294967295,A=_+(P<<9&4294967295|P>>>23),P=R+(_^b&(A^_))+D[7]+1735328473&4294967295,R=A+(P<<14&4294967295|P>>>18),P=b+(A^_&(R^A))+D[12]+2368359562&4294967295,b=R+(P<<20&4294967295|P>>>12),P=_+(b^R^A)+D[5]+4294588738&4294967295,_=b+(P<<4&4294967295|P>>>28),P=A+(_^b^R)+D[8]+2272392833&4294967295,A=_+(P<<11&4294967295|P>>>21),P=R+(A^_^b)+D[11]+1839030562&4294967295,R=A+(P<<16&4294967295|P>>>16),P=b+(R^A^_)+D[14]+4259657740&4294967295,b=R+(P<<23&4294967295|P>>>9),P=_+(b^R^A)+D[1]+2763975236&4294967295,_=b+(P<<4&4294967295|P>>>28),P=A+(_^b^R)+D[4]+1272893353&4294967295,A=_+(P<<11&4294967295|P>>>21),P=R+(A^_^b)+D[7]+4139469664&4294967295,R=A+(P<<16&4294967295|P>>>16),P=b+(R^A^_)+D[10]+3200236656&4294967295,b=R+(P<<23&4294967295|P>>>9),P=_+(b^R^A)+D[13]+681279174&4294967295,_=b+(P<<4&4294967295|P>>>28),P=A+(_^b^R)+D[0]+3936430074&4294967295,A=_+(P<<11&4294967295|P>>>21),P=R+(A^_^b)+D[3]+3572445317&4294967295,R=A+(P<<16&4294967295|P>>>16),P=b+(R^A^_)+D[6]+76029189&4294967295,b=R+(P<<23&4294967295|P>>>9),P=_+(b^R^A)+D[9]+3654602809&4294967295,_=b+(P<<4&4294967295|P>>>28),P=A+(_^b^R)+D[12]+3873151461&4294967295,A=_+(P<<11&4294967295|P>>>21),P=R+(A^_^b)+D[15]+530742520&4294967295,R=A+(P<<16&4294967295|P>>>16),P=b+(R^A^_)+D[2]+3299628645&4294967295,b=R+(P<<23&4294967295|P>>>9),P=_+(R^(b|~A))+D[0]+4096336452&4294967295,_=b+(P<<6&4294967295|P>>>26),P=A+(b^(_|~R))+D[7]+1126891415&4294967295,A=_+(P<<10&4294967295|P>>>22),P=R+(_^(A|~b))+D[14]+2878612391&4294967295,R=A+(P<<15&4294967295|P>>>17),P=b+(A^(R|~_))+D[5]+4237533241&4294967295,b=R+(P<<21&4294967295|P>>>11),P=_+(R^(b|~A))+D[12]+1700485571&4294967295,_=b+(P<<6&4294967295|P>>>26),P=A+(b^(_|~R))+D[3]+2399980690&4294967295,A=_+(P<<10&4294967295|P>>>22),P=R+(_^(A|~b))+D[10]+4293915773&4294967295,R=A+(P<<15&4294967295|P>>>17),P=b+(A^(R|~_))+D[1]+2240044497&4294967295,b=R+(P<<21&4294967295|P>>>11),P=_+(R^(b|~A))+D[8]+1873313359&4294967295,_=b+(P<<6&4294967295|P>>>26),P=A+(b^(_|~R))+D[15]+4264355552&4294967295,A=_+(P<<10&4294967295|P>>>22),P=R+(_^(A|~b))+D[6]+2734768916&4294967295,R=A+(P<<15&4294967295|P>>>17),P=b+(A^(R|~_))+D[13]+1309151649&4294967295,b=R+(P<<21&4294967295|P>>>11),P=_+(R^(b|~A))+D[4]+4149444226&4294967295,_=b+(P<<6&4294967295|P>>>26),P=A+(b^(_|~R))+D[11]+3174756917&4294967295,A=_+(P<<10&4294967295|P>>>22),P=R+(_^(A|~b))+D[2]+718787259&4294967295,R=A+(P<<15&4294967295|P>>>17),P=b+(A^(R|~_))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+_&4294967295,x.g[1]=x.g[1]+(R+(P<<21&4294967295|P>>>11))&4294967295,x.g[2]=x.g[2]+R&4294967295,x.g[3]=x.g[3]+A&4294967295}r.prototype.u=function(x,_){_===void 0&&(_=x.length);for(var b=_-this.blockSize,D=this.B,R=this.h,A=0;A<_;){if(R==0)for(;A<=b;)i(this,x,A),A+=this.blockSize;if(typeof x=="string"){for(;A<_;)if(D[R++]=x.charCodeAt(A++),R==this.blockSize){i(this,D),R=0;break}}else for(;A<_;)if(D[R++]=x[A++],R==this.blockSize){i(this,D),R=0;break}}this.h=R,this.o+=_},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var _=1;_<x.length-8;++_)x[_]=0;var b=8*this.o;for(_=x.length-8;_<x.length;++_)x[_]=b&255,b/=256;for(this.u(x),x=Array(16),_=b=0;4>_;++_)for(var D=0;32>D;D+=8)x[b++]=this.g[_]>>>D&255;return x};function s(x,_){var b=a;return Object.prototype.hasOwnProperty.call(b,x)?b[x]:b[x]=_(x)}function o(x,_){this.h=_;for(var b=[],D=!0,R=x.length-1;0<=R;R--){var A=x[R]|0;D&&A==_||(b[R]=A,D=!1)}this.g=b}var a={};function l(x){return-128<=x&&128>x?s(x,function(_){return new o([_|0],0>_?-1:0)}):new o([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return f;if(0>x)return C(u(-x));for(var _=[],b=1,D=0;x>=b;D++)_[D]=x/b|0,b*=4294967296;return new o(_,0)}function d(x,_){if(x.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(x.charAt(0)=="-")return C(d(x.substring(1),_));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(_,8)),D=f,R=0;R<x.length;R+=8){var A=Math.min(8,x.length-R),P=parseInt(x.substring(R,R+A),_);8>A?(A=u(Math.pow(_,A)),D=D.j(A).add(u(P))):(D=D.j(b),D=D.add(u(P)))}return D}var f=l(0),g=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(I(this))return-C(this).m();for(var x=0,_=1,b=0;b<this.g.length;b++){var D=this.i(b);x+=(0<=D?D:4294967296+D)*_,_*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(w(this))return"0";if(I(this))return"-"+C(this).toString(x);for(var _=u(Math.pow(x,6)),b=this,D="";;){var R=N(b,_).g;b=E(b,R.j(_));var A=((0<b.g.length?b.g[0]:b.h)>>>0).toString(x);if(b=R,w(b))return A+D;for(;6>A.length;)A="0"+A;D=A+D}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function w(x){if(x.h!=0)return!1;for(var _=0;_<x.g.length;_++)if(x.g[_]!=0)return!1;return!0}function I(x){return x.h==-1}t.l=function(x){return x=E(this,x),I(x)?-1:w(x)?0:1};function C(x){for(var _=x.g.length,b=[],D=0;D<_;D++)b[D]=~x.g[D];return new o(b,~x.h).add(g)}t.abs=function(){return I(this)?C(this):this},t.add=function(x){for(var _=Math.max(this.g.length,x.g.length),b=[],D=0,R=0;R<=_;R++){var A=D+(this.i(R)&65535)+(x.i(R)&65535),P=(A>>>16)+(this.i(R)>>>16)+(x.i(R)>>>16);D=P>>>16,A&=65535,P&=65535,b[R]=P<<16|A}return new o(b,b[b.length-1]&-2147483648?-1:0)};function E(x,_){return x.add(C(_))}t.j=function(x){if(w(this)||w(x))return f;if(I(this))return I(x)?C(this).j(C(x)):C(C(this).j(x));if(I(x))return C(this.j(C(x)));if(0>this.l(y)&&0>x.l(y))return u(this.m()*x.m());for(var _=this.g.length+x.g.length,b=[],D=0;D<2*_;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(var R=0;R<x.g.length;R++){var A=this.i(D)>>>16,P=this.i(D)&65535,ae=x.i(R)>>>16,Ge=x.i(R)&65535;b[2*D+2*R]+=P*Ge,v(b,2*D+2*R),b[2*D+2*R+1]+=A*Ge,v(b,2*D+2*R+1),b[2*D+2*R+1]+=P*ae,v(b,2*D+2*R+1),b[2*D+2*R+2]+=A*ae,v(b,2*D+2*R+2)}for(D=0;D<_;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=_;D<2*_;D++)b[D]=0;return new o(b,0)};function v(x,_){for(;(x[_]&65535)!=x[_];)x[_+1]+=x[_]>>>16,x[_]&=65535,_++}function T(x,_){this.g=x,this.h=_}function N(x,_){if(w(_))throw Error("division by zero");if(w(x))return new T(f,f);if(I(x))return _=N(C(x),_),new T(C(_.g),C(_.h));if(I(_))return _=N(x,C(_)),new T(C(_.g),_.h);if(30<x.g.length){if(I(x)||I(_))throw Error("slowDivide_ only works with positive integers.");for(var b=g,D=_;0>=D.l(x);)b=j(b),D=j(D);var R=F(b,1),A=F(D,1);for(D=F(D,2),b=F(b,2);!w(D);){var P=A.add(D);0>=P.l(x)&&(R=R.add(b),A=P),D=F(D,1),b=F(b,1)}return _=E(x,R.j(_)),new T(R,_)}for(R=f;0<=x.l(_);){for(b=Math.max(1,Math.floor(x.m()/_.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),A=u(b),P=A.j(_);I(P)||0<P.l(x);)b-=D,A=u(b),P=A.j(_);w(A)&&(A=g),R=R.add(A),x=E(x,P)}return new T(R,x)}t.A=function(x){return N(this,x).h},t.and=function(x){for(var _=Math.max(this.g.length,x.g.length),b=[],D=0;D<_;D++)b[D]=this.i(D)&x.i(D);return new o(b,this.h&x.h)},t.or=function(x){for(var _=Math.max(this.g.length,x.g.length),b=[],D=0;D<_;D++)b[D]=this.i(D)|x.i(D);return new o(b,this.h|x.h)},t.xor=function(x){for(var _=Math.max(this.g.length,x.g.length),b=[],D=0;D<_;D++)b[D]=this.i(D)^x.i(D);return new o(b,this.h^x.h)};function j(x){for(var _=x.g.length+1,b=[],D=0;D<_;D++)b[D]=x.i(D)<<1|x.i(D-1)>>>31;return new o(b,x.h)}function F(x,_){var b=_>>5;_%=32;for(var D=x.g.length-b,R=[],A=0;A<D;A++)R[A]=0<_?x.i(A+b)>>>_|x.i(A+b+1)<<32-_:x.i(A+b);return new o(R,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ii=o}).apply(typeof s_<"u"?s_:typeof self<"u"?self:typeof window<"u"?window:{});var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fT,ua,pT,Wc,Pp,mT,gT,yT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,h,m){return c==Array.prototype||c==Object.prototype||(c[h]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fc=="object"&&fc];for(var h=0;h<c.length;++h){var m=c[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(c,h){if(h)e:{var m=r;c=c.split(".");for(var k=0;k<c.length-1;k++){var M=c[k];if(!(M in m))break e;m=m[M]}c=c[c.length-1],k=m[c],h=h(k),h!=k&&h!=null&&e(m,c,{configurable:!0,writable:!0,value:h})}}function s(c,h){c instanceof String&&(c+="");var m=0,k=!1,M={next:function(){if(!k&&m<c.length){var V=m++;return{value:h(V,c[V]),done:!1}}return k=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(c){return c||function(){return s(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var h=typeof c;return h=h!="object"?h:c?Array.isArray(c)?"array":h:"null",h=="array"||h=="object"&&typeof c.length=="number"}function u(c){var h=typeof c;return h=="object"&&c!=null||h=="function"}function d(c,h,m){return c.call.apply(c.bind,arguments)}function f(c,h,m){if(!c)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,k),c.apply(h,M)}}return function(){return c.apply(h,arguments)}}function g(c,h,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function y(c,h){var m=Array.prototype.slice.call(arguments,1);return function(){var k=m.slice();return k.push.apply(k,arguments),c.apply(this,k)}}function w(c,h){function m(){}m.prototype=h.prototype,c.aa=h.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(k,M,V){for(var z=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)z[Ee-2]=arguments[Ee];return h.prototype[M].apply(k,z)}}function I(c){const h=c.length;if(0<h){const m=Array(h);for(let k=0;k<h;k++)m[k]=c[k];return m}return[]}function C(c,h){for(let m=1;m<arguments.length;m++){const k=arguments[m];if(l(k)){const M=c.length||0,V=k.length||0;c.length=M+V;for(let z=0;z<V;z++)c[M+z]=k[z]}else c.push(k)}}class E{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function v(c){return/^[\s\xa0]*$/.test(c)}function T(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function N(c){return N[" "](c),c}N[" "]=function(){};var j=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function F(c,h,m){for(const k in c)h.call(m,c[k],k,c)}function x(c,h){for(const m in c)h.call(void 0,c[m],m,c)}function _(c){const h={};for(const m in c)h[m]=c[m];return h}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,h){let m,k;for(let M=1;M<arguments.length;M++){k=arguments[M];for(m in k)c[m]=k[m];for(let V=0;V<b.length;V++)m=b[V],Object.prototype.hasOwnProperty.call(k,m)&&(c[m]=k[m])}}function R(c){var h=1;c=c.split(":");const m=[];for(;0<h&&c.length;)m.push(c.shift()),h--;return c.length&&m.push(c.join(":")),m}function A(c){a.setTimeout(()=>{throw c},0)}function P(){var c=Q;let h=null;return c.g&&(h=c.g,c.g=c.g.next,c.g||(c.h=null),h.next=null),h}class ae{constructor(){this.h=this.g=null}add(h,m){const k=Ge.get();k.set(h,m),this.h?this.h.next=k:this.g=k,this.h=k}}var Ge=new E(()=>new xe,c=>c.reset());class xe{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,B=!1,Q=new ae,J=()=>{const c=a.Promise.resolve(void 0);ke=()=>{c.then(Pe)}};var Pe=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(m){A(m)}var h=Ge;h.j(c),100>h.h&&(h.h++,c.next=h.g,h.g=c)}B=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $e(c,h){this.type=c,this.g=this.target=h,this.defaultPrevented=!1}$e.prototype.h=function(){this.defaultPrevented=!0};var Qn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,h=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return c}();function Gn(c,h){if($e.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,k=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=h,h=c.relatedTarget){if(j){e:{try{N(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else m=="mouseover"?h=c.fromElement:m=="mouseout"&&(h=c.toElement);this.relatedTarget=h,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Xn[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Gn.aa.h.call(this)}}w(Gn,$e);var Xn={2:"touch",3:"pen",4:"mouse"};Gn.prototype.h=function(){Gn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Jn="closure_listenable_"+(1e6*Math.random()|0),ZI=0;function eS(c,h,m,k,M){this.listener=c,this.proxy=null,this.src=h,this.type=m,this.capture=!!k,this.ha=M,this.key=++ZI,this.da=this.fa=!1}function Rl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Nl(c){this.src=c,this.g={},this.h=0}Nl.prototype.add=function(c,h,m,k,M){var V=c.toString();c=this.g[V],c||(c=this.g[V]=[],this.h++);var z=eh(c,h,k,M);return-1<z?(h=c[z],m||(h.fa=!1)):(h=new eS(h,this.src,V,!!k,M),h.fa=m,c.push(h)),h};function Zd(c,h){var m=h.type;if(m in c.g){var k=c.g[m],M=Array.prototype.indexOf.call(k,h,void 0),V;(V=0<=M)&&Array.prototype.splice.call(k,M,1),V&&(Rl(h),c.g[m].length==0&&(delete c.g[m],c.h--))}}function eh(c,h,m,k){for(var M=0;M<c.length;++M){var V=c[M];if(!V.da&&V.listener==h&&V.capture==!!m&&V.ha==k)return M}return-1}var th="closure_lm_"+(1e6*Math.random()|0),nh={};function py(c,h,m,k,M){if(Array.isArray(h)){for(var V=0;V<h.length;V++)py(c,h[V],m,k,M);return null}return m=yy(m),c&&c[Jn]?c.K(h,m,u(k)?!!k.capture:!!k,M):tS(c,h,m,!1,k,M)}function tS(c,h,m,k,M,V){if(!h)throw Error("Invalid event type");var z=u(M)?!!M.capture:!!M,Ee=ih(c);if(Ee||(c[th]=Ee=new Nl(c)),m=Ee.add(h,m,k,z,V),m.proxy)return m;if(k=nS(),m.proxy=k,k.src=c,k.listener=m,c.addEventListener)Qn||(M=z),M===void 0&&(M=!1),c.addEventListener(h.toString(),k,M);else if(c.attachEvent)c.attachEvent(gy(h.toString()),k);else if(c.addListener&&c.removeListener)c.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return m}function nS(){function c(m){return h.call(c.src,c.listener,m)}const h=rS;return c}function my(c,h,m,k,M){if(Array.isArray(h))for(var V=0;V<h.length;V++)my(c,h[V],m,k,M);else k=u(k)?!!k.capture:!!k,m=yy(m),c&&c[Jn]?(c=c.i,h=String(h).toString(),h in c.g&&(V=c.g[h],m=eh(V,m,k,M),-1<m&&(Rl(V[m]),Array.prototype.splice.call(V,m,1),V.length==0&&(delete c.g[h],c.h--)))):c&&(c=ih(c))&&(h=c.g[h.toString()],c=-1,h&&(c=eh(h,m,k,M)),(m=-1<c?h[c]:null)&&rh(m))}function rh(c){if(typeof c!="number"&&c&&!c.da){var h=c.src;if(h&&h[Jn])Zd(h.i,c);else{var m=c.type,k=c.proxy;h.removeEventListener?h.removeEventListener(m,k,c.capture):h.detachEvent?h.detachEvent(gy(m),k):h.addListener&&h.removeListener&&h.removeListener(k),(m=ih(h))?(Zd(m,c),m.h==0&&(m.src=null,h[th]=null)):Rl(c)}}}function gy(c){return c in nh?nh[c]:nh[c]="on"+c}function rS(c,h){if(c.da)c=!0;else{h=new Gn(h,this);var m=c.listener,k=c.ha||c.src;c.fa&&rh(c),c=m.call(k,h)}return c}function ih(c){return c=c[th],c instanceof Nl?c:null}var sh="__closure_events_fn_"+(1e9*Math.random()>>>0);function yy(c){return typeof c=="function"?c:(c[sh]||(c[sh]=function(h){return c.handleEvent(h)}),c[sh])}function vt(){we.call(this),this.i=new Nl(this),this.M=this,this.F=null}w(vt,we),vt.prototype[Jn]=!0,vt.prototype.removeEventListener=function(c,h,m,k){my(this,c,h,m,k)};function Dt(c,h){var m,k=c.F;if(k)for(m=[];k;k=k.F)m.push(k);if(c=c.M,k=h.type||h,typeof h=="string")h=new $e(h,c);else if(h instanceof $e)h.target=h.target||c;else{var M=h;h=new $e(k,c),D(h,M)}if(M=!0,m)for(var V=m.length-1;0<=V;V--){var z=h.g=m[V];M=Al(z,k,!0,h)&&M}if(z=h.g=c,M=Al(z,k,!0,h)&&M,M=Al(z,k,!1,h)&&M,m)for(V=0;V<m.length;V++)z=h.g=m[V],M=Al(z,k,!1,h)&&M}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var c=this.i,h;for(h in c.g){for(var m=c.g[h],k=0;k<m.length;k++)Rl(m[k]);delete c.g[h],c.h--}}this.F=null},vt.prototype.K=function(c,h,m,k){return this.i.add(String(c),h,!1,m,k)},vt.prototype.L=function(c,h,m,k){return this.i.add(String(c),h,!0,m,k)};function Al(c,h,m,k){if(h=c.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,V=0;V<h.length;++V){var z=h[V];if(z&&!z.da&&z.capture==m){var Ee=z.listener,ut=z.ha||z.src;z.fa&&Zd(c.i,z),M=Ee.call(ut,k)!==!1&&M}}return M&&!k.defaultPrevented}function vy(c,h,m){if(typeof c=="function")m&&(c=g(c,m));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(c,h||0)}function _y(c){c.g=vy(()=>{c.g=null,c.i&&(c.i=!1,_y(c))},c.l);const h=c.h;c.h=null,c.m.apply(null,h)}class iS extends we{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:_y(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ao(c){we.call(this),this.h=c,this.g={}}w(Ao,we);var wy=[];function Ey(c){F(c.g,function(h,m){this.g.hasOwnProperty(m)&&rh(h)},c),c.g={}}Ao.prototype.N=function(){Ao.aa.N.call(this),Ey(this)},Ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oh=a.JSON.stringify,sS=a.JSON.parse,oS=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ah(){}ah.prototype.h=null;function ky(c){return c.h||(c.h=c.i())}function Ty(){}var Mo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lh(){$e.call(this,"d")}w(lh,$e);function ch(){$e.call(this,"c")}w(ch,$e);var Ci={},xy=null;function Ml(){return xy=xy||new vt}Ci.La="serverreachability";function Iy(c){$e.call(this,Ci.La,c)}w(Iy,$e);function Oo(c){const h=Ml();Dt(h,new Iy(h))}Ci.STAT_EVENT="statevent";function Sy(c,h){$e.call(this,Ci.STAT_EVENT,c),this.stat=h}w(Sy,$e);function Pt(c){const h=Ml();Dt(h,new Sy(h,c))}Ci.Ma="timingevent";function by(c,h){$e.call(this,Ci.Ma,c),this.size=h}w(by,$e);function Lo(c,h){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},h)}function Vo(){this.g=!0}Vo.prototype.xa=function(){this.g=!1};function aS(c,h,m,k,M,V){c.info(function(){if(c.g)if(V)for(var z="",Ee=V.split("&"),ut=0;ut<Ee.length;ut++){var he=Ee[ut].split("=");if(1<he.length){var _t=he[0];he=he[1];var wt=_t.split("_");z=2<=wt.length&&wt[1]=="type"?z+(_t+"="+he+"&"):z+(_t+"=redacted&")}}else z=null;else z=V;return"XMLHTTP REQ ("+k+") [attempt "+M+"]: "+h+`
`+m+`
`+z})}function lS(c,h,m,k,M,V,z){c.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+M+"]: "+h+`
`+m+`
`+V+" "+z})}function _s(c,h,m,k){c.info(function(){return"XMLHTTP TEXT ("+h+"): "+uS(c,m)+(k?" "+k:"")})}function cS(c,h){c.info(function(){return"TIMEOUT: "+h})}Vo.prototype.info=function(){};function uS(c,h){if(!c.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var k=m[c];if(!(2>k.length)){var M=k[1];if(Array.isArray(M)&&!(1>M.length)){var V=M[0];if(V!="noop"&&V!="stop"&&V!="close")for(var z=1;z<M.length;z++)M[z]=""}}}}return oh(m)}catch{return h}}var Ol={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},uh;function Ll(){}w(Ll,ah),Ll.prototype.g=function(){return new XMLHttpRequest},Ll.prototype.i=function(){return{}},uh=new Ll;function Ir(c,h,m,k){this.j=c,this.i=h,this.l=m,this.R=k||1,this.U=new Ao(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dy}function Dy(){this.i=null,this.g="",this.h=!1}var Py={},dh={};function hh(c,h,m){c.L=1,c.v=Ul(Zn(h)),c.m=m,c.P=!0,Ry(c,null)}function Ry(c,h){c.F=Date.now(),Vl(c),c.A=Zn(c.v);var m=c.A,k=c.R;Array.isArray(k)||(k=[String(k)]),Hy(m.i,"t",k),c.C=0,m=c.j.J,c.h=new Dy,c.g=cv(c.j,m?h:null,!c.m),0<c.O&&(c.M=new iS(g(c.Y,c,c.g),c.O)),h=c.U,m=c.g,k=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(wy[0]=M.toString()),M=wy);for(var V=0;V<M.length;V++){var z=py(m,M[V],k||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,h)):(c.u="GET",c.g.ea(c.A,c.u,null,h)),Oo(),aS(c.i,c.u,c.A,c.l,c.R,c.m)}Ir.prototype.ca=function(c){c=c.target;const h=this.M;h&&er(c)==3?h.j():this.Y(c)},Ir.prototype.Y=function(c){try{if(c==this.g)e:{const wt=er(this.g);var h=this.g.Ba();const ks=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Jy(this.g)))){this.J||wt!=4||h==7||(h==8||0>=ks?Oo(3):Oo(2)),fh(this);var m=this.g.Z();this.X=m;t:if(Ny(this)){var k=Jy(this.g);c="";var M=k.length,V=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Di(this),jo(this);var z="";break t}this.h.i=new a.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,c+=this.h.i.decode(k[h],{stream:!(V&&h==M-1)});k.length=0,this.h.g+=c,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=m==200,lS(this.i,this.u,this.A,this.l,this.R,wt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,ut=this.g;if((Ee=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ee)){var he=Ee;break t}}he=null}if(m=he)_s(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ph(this,m);else{this.o=!1,this.s=3,Pt(12),Di(this),jo(this);break e}}if(this.P){m=!0;let fn;for(;!this.J&&this.C<z.length;)if(fn=dS(this,z),fn==dh){wt==4&&(this.s=4,Pt(14),m=!1),_s(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Py){this.s=4,Pt(15),_s(this.i,this.l,z,"[Invalid Chunk]"),m=!1;break}else _s(this.i,this.l,fn,null),ph(this,fn);if(Ny(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||z.length!=0||this.h.h||(this.s=1,Pt(16),m=!1),this.o=this.o&&m,!m)_s(this.i,this.l,z,"[Invalid Chunked Response]"),Di(this),jo(this);else if(0<z.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),wh(_t),_t.M=!0,Pt(11))}}else _s(this.i,this.l,z,null),ph(this,z);wt==4&&Di(this),this.o&&!this.J&&(wt==4?sv(this.j,this):(this.o=!1,Vl(this)))}else CS(this.g),m==400&&0<z.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Di(this),jo(this)}}}catch{}finally{}};function Ny(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function dS(c,h){var m=c.C,k=h.indexOf(`
`,m);return k==-1?dh:(m=Number(h.substring(m,k)),isNaN(m)?Py:(k+=1,k+m>h.length?dh:(h=h.slice(k,k+m),c.C=k+m,h)))}Ir.prototype.cancel=function(){this.J=!0,Di(this)};function Vl(c){c.S=Date.now()+c.I,Ay(c,c.I)}function Ay(c,h){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Lo(g(c.ba,c),h)}function fh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ir.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(cS(this.i,this.A),this.L!=2&&(Oo(),Pt(17)),Di(this),this.s=2,jo(this)):Ay(this,this.S-c)};function jo(c){c.j.G==0||c.J||sv(c.j,c)}function Di(c){fh(c);var h=c.M;h&&typeof h.ma=="function"&&h.ma(),c.M=null,Ey(c.U),c.g&&(h=c.g,c.g=null,h.abort(),h.ma())}function ph(c,h){try{var m=c.j;if(m.G!=0&&(m.g==c||mh(m.h,c))){if(!c.K&&mh(m.h,c)&&m.G==3){try{var k=m.Da.g.parse(h)}catch{k=null}if(Array.isArray(k)&&k.length==3){var M=k;if(M[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Yl(m),zl(m);else break e;_h(m),Pt(18)}}else m.za=M[1],0<m.za-m.T&&37500>M[2]&&m.F&&m.v==0&&!m.C&&(m.C=Lo(g(m.Za,m),6e3));if(1>=Ly(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Ri(m,11)}else if((c.K||m.g==c)&&Yl(m),!v(h))for(M=m.Da.g.parse(h),h=0;h<M.length;h++){let he=M[h];if(m.T=he[0],he=he[1],m.G==2)if(he[0]=="c"){m.K=he[1],m.ia=he[2];const _t=he[3];_t!=null&&(m.la=_t,m.j.info("VER="+m.la));const wt=he[4];wt!=null&&(m.Aa=wt,m.j.info("SVER="+m.Aa));const ks=he[5];ks!=null&&typeof ks=="number"&&0<ks&&(k=1.5*ks,m.L=k,m.j.info("backChannelRequestTimeoutMs_="+k)),k=m;const fn=c.g;if(fn){const ql=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ql){var V=k.h;V.g||ql.indexOf("spdy")==-1&&ql.indexOf("quic")==-1&&ql.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(gh(V,V.h),V.h=null))}if(k.D){const Eh=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Eh&&(k.ya=Eh,Ie(k.I,k.D,Eh))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),k=m;var z=c;if(k.qa=lv(k,k.J?k.ia:null,k.W),z.K){Vy(k.h,z);var Ee=z,ut=k.L;ut&&(Ee.I=ut),Ee.B&&(fh(Ee),Vl(Ee)),k.g=z}else rv(k);0<m.i.length&&Hl(m)}else he[0]!="stop"&&he[0]!="close"||Ri(m,7);else m.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?Ri(m,7):vh(m):he[0]!="noop"&&m.l&&m.l.ta(he),m.v=0)}}Oo(4)}catch{}}var hS=class{constructor(c,h){this.g=c,this.map=h}};function My(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oy(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ly(c){return c.h?1:c.g?c.g.size:0}function mh(c,h){return c.h?c.h==h:c.g?c.g.has(h):!1}function gh(c,h){c.g?c.g.add(h):c.h=h}function Vy(c,h){c.h&&c.h==h?c.h=null:c.g&&c.g.has(h)&&c.g.delete(h)}My.prototype.cancel=function(){if(this.i=jy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jy(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let h=c.i;for(const m of c.g.values())h=h.concat(m.D);return h}return I(c.i)}function fS(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var h=[],m=c.length,k=0;k<m;k++)h.push(c[k]);return h}h=[],m=0;for(k in c)h[m++]=c[k];return h}function pS(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var h=[];c=c.length;for(var m=0;m<c;m++)h.push(m);return h}h=[],m=0;for(const k in c)h[m++]=k;return h}}}function Fy(c,h){if(c.forEach&&typeof c.forEach=="function")c.forEach(h,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,h,void 0);else for(var m=pS(c),k=fS(c),M=k.length,V=0;V<M;V++)h.call(void 0,k[V],m&&m[V],c)}var Uy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mS(c,h){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var k=c[m].indexOf("="),M=null;if(0<=k){var V=c[m].substring(0,k);M=c[m].substring(k+1)}else V=c[m];h(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Pi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Pi){this.h=c.h,jl(this,c.j),this.o=c.o,this.g=c.g,Fl(this,c.s),this.l=c.l;var h=c.i,m=new Bo;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),By(this,m),this.m=c.m}else c&&(h=String(c).match(Uy))?(this.h=!1,jl(this,h[1]||"",!0),this.o=Fo(h[2]||""),this.g=Fo(h[3]||"",!0),Fl(this,h[4]),this.l=Fo(h[5]||"",!0),By(this,h[6]||"",!0),this.m=Fo(h[7]||"")):(this.h=!1,this.i=new Bo(null,this.h))}Pi.prototype.toString=function(){var c=[],h=this.j;h&&c.push(Uo(h,$y,!0),":");var m=this.g;return(m||h=="file")&&(c.push("//"),(h=this.o)&&c.push(Uo(h,$y,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(Uo(m,m.charAt(0)=="/"?vS:yS,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",Uo(m,wS)),c.join("")};function Zn(c){return new Pi(c)}function jl(c,h,m){c.j=m?Fo(h,!0):h,c.j&&(c.j=c.j.replace(/:$/,""))}function Fl(c,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);c.s=h}else c.s=null}function By(c,h,m){h instanceof Bo?(c.i=h,ES(c.i,c.h)):(m||(h=Uo(h,_S)),c.i=new Bo(h,c.h))}function Ie(c,h,m){c.i.set(h,m)}function Ul(c){return Ie(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Fo(c,h){return c?h?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Uo(c,h,m){return typeof c=="string"?(c=encodeURI(c).replace(h,gS),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gS(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $y=/[#\/\?@]/g,yS=/[#\?:]/g,vS=/[#\?]/g,_S=/[#\?@]/g,wS=/#/g;function Bo(c,h){this.h=this.g=null,this.i=c||null,this.j=!!h}function Sr(c){c.g||(c.g=new Map,c.h=0,c.i&&mS(c.i,function(h,m){c.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=Bo.prototype,t.add=function(c,h){Sr(this),this.i=null,c=ws(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(h),this.h+=1,this};function Wy(c,h){Sr(c),h=ws(c,h),c.g.has(h)&&(c.i=null,c.h-=c.g.get(h).length,c.g.delete(h))}function zy(c,h){return Sr(c),h=ws(c,h),c.g.has(h)}t.forEach=function(c,h){Sr(this),this.g.forEach(function(m,k){m.forEach(function(M){c.call(h,M,k,this)},this)},this)},t.na=function(){Sr(this);const c=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let k=0;k<h.length;k++){const M=c[k];for(let V=0;V<M.length;V++)m.push(h[k])}return m},t.V=function(c){Sr(this);let h=[];if(typeof c=="string")zy(this,c)&&(h=h.concat(this.g.get(ws(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)h=h.concat(c[m])}return h},t.set=function(c,h){return Sr(this),this.i=null,c=ws(this,c),zy(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[h]),this.h+=1,this},t.get=function(c,h){return c?(c=this.V(c),0<c.length?String(c[0]):h):h};function Hy(c,h,m){Wy(c,h),0<m.length&&(c.i=null,c.g.set(ws(c,h),I(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var k=h[m];const V=encodeURIComponent(String(k)),z=this.V(k);for(k=0;k<z.length;k++){var M=V;z[k]!==""&&(M+="="+encodeURIComponent(String(z[k]))),c.push(M)}}return this.i=c.join("&")};function ws(c,h){return h=String(h),c.j&&(h=h.toLowerCase()),h}function ES(c,h){h&&!c.j&&(Sr(c),c.i=null,c.g.forEach(function(m,k){var M=k.toLowerCase();k!=M&&(Wy(this,k),Hy(this,M,m))},c)),c.j=h}function kS(c,h){const m=new Vo;if(a.Image){const k=new Image;k.onload=y(br,m,"TestLoadImage: loaded",!0,h,k),k.onerror=y(br,m,"TestLoadImage: error",!1,h,k),k.onabort=y(br,m,"TestLoadImage: abort",!1,h,k),k.ontimeout=y(br,m,"TestLoadImage: timeout",!1,h,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=c}else h(!1)}function TS(c,h){const m=new Vo,k=new AbortController,M=setTimeout(()=>{k.abort(),br(m,"TestPingServer: timeout",!1,h)},1e4);fetch(c,{signal:k.signal}).then(V=>{clearTimeout(M),V.ok?br(m,"TestPingServer: ok",!0,h):br(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),br(m,"TestPingServer: error",!1,h)})}function br(c,h,m,k,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),k(m)}catch{}}function xS(){this.g=new oS}function IS(c,h,m){const k=m||"";try{Fy(c,function(M,V){let z=M;u(M)&&(z=oh(M)),h.push(k+V+"="+encodeURIComponent(z))})}catch(M){throw h.push(k+"type="+encodeURIComponent("_badmap")),M}}function Bl(c){this.l=c.Ub||null,this.j=c.eb||!1}w(Bl,ah),Bl.prototype.g=function(){return new $l(this.l,this.j)},Bl.prototype.i=function(c){return function(){return c}}({});function $l(c,h){vt.call(this),this.D=c,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w($l,vt),t=$l.prototype,t.open=function(c,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=h,this.readyState=1,Wo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(h.body=c),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$o(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wo(this)),this.g&&(this.readyState=3,Wo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yy(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yy(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var h=c.value?c.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!c.done}))&&(this.response=this.responseText+=h)}c.done?$o(this):Wo(this),this.readyState==3&&Yy(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,$o(this))},t.Qa=function(c){this.g&&(this.response=c,$o(this))},t.ga=function(){this.g&&$o(this)};function $o(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wo(c)}t.setRequestHeader=function(c,h){this.u.append(c,h)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=h.next();return c.join(`\r
`)};function Wo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($l.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ky(c){let h="";return F(c,function(m,k){h+=k,h+=":",h+=m,h+=`\r
`}),h}function yh(c,h,m){e:{for(k in m){var k=!1;break e}k=!0}k||(m=Ky(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):Ie(c,h,m))}function Le(c){vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Le,vt);var SS=/^https?$/i,bS=["POST","PUT"];t=Le.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,h,m,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);h=h?h.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():uh.g(),this.v=this.o?ky(this.o):ky(uh),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(c),!0),this.B=!1}catch(V){qy(this,V);return}if(c=m||"",m=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var M in k)m.set(M,k[M]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const V of k.keys())m.set(V,k.get(V));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(m.keys()).find(V=>V.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(bS,h,void 0))||k||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,z]of m)this.g.setRequestHeader(V,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xy(this),this.u=!0,this.g.send(c),this.u=!1}catch(V){qy(this,V)}};function qy(c,h){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=h,c.m=5,Qy(c),Wl(c)}function Qy(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Dt(this,"complete"),Dt(this,"abort"),Wl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wl(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gy(this):this.bb())},t.bb=function(){Gy(this)};function Gy(c){if(c.h&&typeof o<"u"&&(!c.v[1]||er(c)!=4||c.Z()!=2)){if(c.u&&er(c)==4)vy(c.Ea,0,c);else if(Dt(c,"readystatechange"),er(c)==4){c.h=!1;try{const z=c.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var k;if(k=z===0){var M=String(c.D).match(Uy)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),k=!SS.test(M?M.toLowerCase():"")}m=k}if(m)Dt(c,"complete"),Dt(c,"success");else{c.m=6;try{var V=2<er(c)?c.g.statusText:""}catch{V=""}c.l=V+" ["+c.Z()+"]",Qy(c)}}finally{Wl(c)}}}}function Wl(c,h){if(c.g){Xy(c);const m=c.g,k=c.v[0]?()=>{}:null;c.g=null,c.v=null,h||Dt(c,"ready");try{m.onreadystatechange=k}catch{}}}function Xy(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function er(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var h=this.g.responseText;return c&&h.indexOf(c)==0&&(h=h.substring(c.length)),sS(h)}};function Jy(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function CS(c){const h={};c=(c.g&&2<=er(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<c.length;k++){if(v(c[k]))continue;var m=R(c[k]);const M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const V=h[M]||[];h[M]=V,V.push(m)}x(h,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zo(c,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||h}function Zy(c){this.Aa=0,this.i=[],this.j=new Vo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zo("baseRetryDelayMs",5e3,c),this.cb=zo("retryDelaySeedMs",1e4,c),this.Wa=zo("forwardChannelMaxRetries",2,c),this.wa=zo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new My(c&&c.concurrentRequestLimit),this.Da=new xS,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Zy.prototype,t.la=8,t.G=1,t.connect=function(c,h,m,k){Pt(0),this.W=c,this.H=h||{},m&&k!==void 0&&(this.H.OSID=m,this.H.OAID=k),this.F=this.X,this.I=lv(this,null,this.W),Hl(this)};function vh(c){if(ev(c),c.G==3){var h=c.U++,m=Zn(c.I);if(Ie(m,"SID",c.K),Ie(m,"RID",h),Ie(m,"TYPE","terminate"),Ho(c,m),h=new Ir(c,c.j,h),h.L=2,h.v=Ul(Zn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=cv(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Vl(h)}av(c)}function zl(c){c.g&&(wh(c),c.g.cancel(),c.g=null)}function ev(c){zl(c),c.u&&(a.clearTimeout(c.u),c.u=null),Yl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Hl(c){if(!Oy(c.h)&&!c.s){c.s=!0;var h=c.Ga;ke||J(),B||(ke(),B=!0),Q.add(h,c),c.B=0}}function DS(c,h){return Ly(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=h.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Lo(g(c.Ga,c,h),ov(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new Ir(this,this.j,c);let V=this.o;if(this.S&&(V?(V=_(V),D(V,this.S)):V=this.S),this.m!==null||this.O||(M.H=V,V=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var k=this.i[m];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(h+=k,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=nv(this,M,h),m=Zn(this.I),Ie(m,"RID",c),Ie(m,"CVER",22),this.D&&Ie(m,"X-HTTP-Session-Id",this.D),Ho(this,m),V&&(this.O?h="headers="+encodeURIComponent(String(Ky(V)))+"&"+h:this.m&&yh(m,this.m,V)),gh(this.h,M),this.Ua&&Ie(m,"TYPE","init"),this.P?(Ie(m,"$req",h),Ie(m,"SID","null"),M.T=!0,hh(M,m,null)):hh(M,m,h),this.G=2}}else this.G==3&&(c?tv(this,c):this.i.length==0||Oy(this.h)||tv(this))};function tv(c,h){var m;h?m=h.l:m=c.U++;const k=Zn(c.I);Ie(k,"SID",c.K),Ie(k,"RID",m),Ie(k,"AID",c.T),Ho(c,k),c.m&&c.o&&yh(k,c.m,c.o),m=new Ir(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),h&&(c.i=h.D.concat(c.i)),h=nv(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),gh(c.h,m),hh(m,k,h)}function Ho(c,h){c.H&&F(c.H,function(m,k){Ie(h,k,m)}),c.l&&Fy({},function(m,k){Ie(h,k,m)})}function nv(c,h,m){m=Math.min(c.i.length,m);var k=c.l?g(c.l.Na,c.l,c):null;e:{var M=c.i;let V=-1;for(;;){const z=["count="+m];V==-1?0<m?(V=M[0].g,z.push("ofs="+V)):V=0:z.push("ofs="+V);let Ee=!0;for(let ut=0;ut<m;ut++){let he=M[ut].g;const _t=M[ut].map;if(he-=V,0>he)V=Math.max(0,M[ut].g-100),Ee=!1;else try{IS(_t,z,"req"+he+"_")}catch{k&&k(_t)}}if(Ee){k=z.join("&");break e}}}return c=c.i.splice(0,m),h.D=c,k}function rv(c){if(!c.g&&!c.u){c.Y=1;var h=c.Fa;ke||J(),B||(ke(),B=!0),Q.add(h,c),c.v=0}}function _h(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Lo(g(c.Fa,c),ov(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,iv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Lo(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),zl(this),iv(this))};function wh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function iv(c){c.g=new Ir(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var h=Zn(c.qa);Ie(h,"RID","rpc"),Ie(h,"SID",c.K),Ie(h,"AID",c.T),Ie(h,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ie(h,"TO",c.ja),Ie(h,"TYPE","xmlhttp"),Ho(c,h),c.m&&c.o&&yh(h,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=Ul(Zn(h)),m.m=null,m.P=!0,Ry(m,c)}t.Za=function(){this.C!=null&&(this.C=null,zl(this),_h(this),Pt(19))};function Yl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function sv(c,h){var m=null;if(c.g==h){Yl(c),wh(c),c.g=null;var k=2}else if(mh(c.h,h))m=h.D,Vy(c.h,h),k=1;else return;if(c.G!=0){if(h.o)if(k==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var M=c.B;k=Ml(),Dt(k,new by(k,m)),Hl(c)}else rv(c);else if(M=h.s,M==3||M==0&&0<h.X||!(k==1&&DS(c,h)||k==2&&_h(c)))switch(m&&0<m.length&&(h=c.h,h.i=h.i.concat(m)),M){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function ov(c,h){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*h}function Ri(c,h){if(c.j.info("Error code "+h),h==2){var m=g(c.fb,c),k=c.Xa;const M=!k;k=new Pi(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||jl(k,"https"),Ul(k),M?kS(k.toString(),m):TS(k.toString(),m)}else Pt(2);c.G=0,c.l&&c.l.sa(h),av(c),ev(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function av(c){if(c.G=0,c.ka=[],c.l){const h=jy(c.h);(h.length!=0||c.i.length!=0)&&(C(c.ka,h),C(c.ka,c.i),c.h.i.length=0,I(c.i),c.i.length=0),c.l.ra()}}function lv(c,h,m){var k=m instanceof Pi?Zn(m):new Pi(m);if(k.g!="")h&&(k.g=h+"."+k.g),Fl(k,k.s);else{var M=a.location;k=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var V=new Pi(null);k&&jl(V,k),h&&(V.g=h),M&&Fl(V,M),m&&(V.l=m),k=V}return m=c.D,h=c.ya,m&&h&&Ie(k,m,h),Ie(k,"VER",c.la),Ho(c,k),k}function cv(c,h,m){if(h&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=c.Ca&&!c.pa?new Le(new Bl({eb:m})):new Le(c.pa),h.Ha(c.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uv(){}t=uv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Kl(){}Kl.prototype.g=function(c,h){return new Ht(c,h)};function Ht(c,h){vt.call(this),this.g=new Zy(h),this.l=c,this.h=h&&h.messageUrlParams||null,c=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(c?c["X-WebChannel-Content-Type"]=h.messageContentType:c={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(c?c["X-WebChannel-Client-Profile"]=h.va:c={"X-WebChannel-Client-Profile":h.va}),this.g.S=c,(c=h&&h.Sb)&&!v(c)&&(this.g.m=c),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!v(h)&&(this.g.D=h,c=this.h,c!==null&&h in c&&(c=this.h,h in c&&delete c[h])),this.j=new Es(this)}w(Ht,vt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){vh(this.g)},Ht.prototype.o=function(c){var h=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=oh(c),c=m);h.i.push(new hS(h.Ya++,c)),h.G==3&&Hl(h)},Ht.prototype.N=function(){this.g.l=null,delete this.j,vh(this.g),delete this.g,Ht.aa.N.call(this)};function dv(c){lh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var h=c.__sm__;if(h){e:{for(const m in h){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,h=h!==null&&c in h?h[c]:void 0),this.data=h}else this.data=c}w(dv,lh);function hv(){ch.call(this),this.status=1}w(hv,ch);function Es(c){this.g=c}w(Es,uv),Es.prototype.ua=function(){Dt(this.g,"a")},Es.prototype.ta=function(c){Dt(this.g,new dv(c))},Es.prototype.sa=function(c){Dt(this.g,new hv)},Es.prototype.ra=function(){Dt(this.g,"b")},Kl.prototype.createWebChannel=Kl.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,yT=function(){return new Kl},gT=function(){return Ml()},mT=Ci,Pp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ol.NO_ERROR=0,Ol.TIMEOUT=8,Ol.HTTP_ERROR=6,Wc=Ol,Cy.COMPLETE="complete",pT=Cy,Ty.EventType=Mo,Mo.OPEN="a",Mo.CLOSE="b",Mo.ERROR="c",Mo.MESSAGE="d",vt.prototype.listen=vt.prototype.K,ua=Ty,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,fT=Le}).apply(typeof fc<"u"?fc:typeof self<"u"?self:typeof window<"u"?window:{});const o_="@firebase/firestore",a_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new rg("@firebase/firestore");function Is(){return ns.logLevel}function Y(t,...e){if(ns.logLevel<=se.DEBUG){const n=e.map(mg);ns.debug(`Firestore (${Co}): ${t}`,...n)}}function wr(t,...e){if(ns.logLevel<=se.ERROR){const n=e.map(mg);ns.error(`Firestore (${Co}): ${t}`,...n)}}function co(t,...e){if(ns.logLevel<=se.WARN){const n=e.map(mg);ns.warn(`Firestore (${Co}): ${t}`,...n)}}function mg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: `+t;throw wr(e),new Error(e)}function me(t,e){t||ee()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}}class n2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r2{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){me(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new si;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new si,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new si)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string"),new vT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string"),new xt(e)}}class i2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class s2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new i2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o2{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,qt(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){me(this.o===void 0);const r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new l_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string"),this.R=n.token,new l_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=a2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function uo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=-62135596800,u_=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*u_);return new et(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<c_)throw new G($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u_}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-c_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new et(0,0))}static max(){return new te(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="__name__";class Sn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Sn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Sn.isNumericId(e),i=Sn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Sn.extractNumericId(e).compare(Sn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ii.fromString(e.substring(4,e.length-2))}}class je extends Sn{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new je(n)}static emptyPath(){return new je([])}}const l2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Sn{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return l2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d_}static keyField(){return new ft([d_])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new G($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new G($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new G($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(je.fromString(e))}static fromName(e){return new X(je.fromString(e).popFirst(5))}static empty(){return new X(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=-1;function c2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new fi(i,X.empty(),e)}function u2(t){return new fi(t.readTime,t.key,Xa)}class fi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fi(te.min(),X.empty(),Xa)}static max(){return new fi(te.max(),X.empty(),Xa)}}function d2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==h2)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function p2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Po(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Dd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=-1;function Pd(t){return t==null}function Nu(t){return t===0&&1/t==-1/0}function m2(t){return typeof t=="number"&&Number.isInteger(t)&&!Nu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="";function g2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=h_(e)),e=y2(t.get(n),e);return h_(e)}function y2(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case wT:n+="";break;default:n+=s}}return n}function h_(t){return t+wT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ET(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pc(this.root,e,this.comparator,!0)}}class pc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ht.RED,this.left=i??ht.EMPTY,this.right=s??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ht(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new p_(this.data.getIterator())}getIteratorFrom(e){return new p_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tt(this.comparator);return n.data=e,n}}class p_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new vn([])}unionWith(e){let n=new tt(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new kT("Invalid base64 string: "+s):s}}(e);return new yt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const v2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(t){if(me(!!t),typeof t=="string"){let e=0;const n=v2.exec(t);if(me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mi(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="server_timestamp",xT="__type__",IT="__previous_value__",ST="__local_write_time__";function yg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[xT])===null||n===void 0?void 0:n.stringValue)===TT}function Rd(t){const e=t.mapValue.fields[IT];return yg(e)?Rd(e):e}function Ja(t){const e=pi(t.mapValue.fields[ST].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}const Au="(default)";class Za{constructor(e,n){this.projectId=e,this.database=n||Au}static empty(){return new Za("","")}get isDefaultDatabase(){return this.database===Au}isEqual(e){return e instanceof Za&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="__type__",CT="__max__",mc={mapValue:{fields:{__type__:{stringValue:CT}}}},DT="__vector__",Mu="value";function gi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yg(t)?4:E2(t)?9007199254740991:w2(t)?10:11:ee()}function zn(t,e){if(t===e)return!0;const n=gi(t);if(n!==gi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ja(t).isEqual(Ja(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=pi(i.timestampValue),a=pi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return mi(i.bytesValue).isEqual(mi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return We(i.geoPointValue.latitude)===We(s.geoPointValue.latitude)&&We(i.geoPointValue.longitude)===We(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return We(i.integerValue)===We(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=We(i.doubleValue),a=We(s.doubleValue);return o===a?Nu(o)===Nu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return uo(t.arrayValue.values||[],e.arrayValue.values||[],zn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(f_(o)!==f_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!zn(o[l],a[l])))return!1;return!0}(t,e);default:return ee()}}function el(t,e){return(t.values||[]).find(n=>zn(n,e))!==void 0}function ho(t,e){if(t===e)return 0;const n=gi(t),r=gi(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=We(s.integerValue||s.doubleValue),l=We(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return m_(t.timestampValue,e.timestampValue);case 4:return m_(Ja(t),Ja(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(s,o){const a=mi(s),l=mi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=le(a[u],l[u]);if(d!==0)return d}return le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=le(We(s.latitude),We(o.latitude));return a!==0?a:le(We(s.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return g_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const f=s.fields||{},g=o.fields||{},y=(a=f[Mu])===null||a===void 0?void 0:a.arrayValue,w=(l=g[Mu])===null||l===void 0?void 0:l.arrayValue,I=le(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return I!==0?I:g_(y,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===mc.mapValue&&o===mc.mapValue)return 0;if(s===mc.mapValue)return 1;if(o===mc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const g=le(l[f],d[f]);if(g!==0)return g;const y=ho(a[l[f]],u[d[f]]);if(y!==0)return y}return le(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ee()}}function m_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=pi(t),r=pi(e),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function g_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ho(n[i],r[i]);if(s)return s}return le(n.length,r.length)}function fo(t){return Rp(t)}function Rp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=pi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return mi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Rp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Rp(n.fields[o])}`;return i+"}"}(t.mapValue):ee()}function zc(t){switch(gi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rd(t);return e?16+zc(e):16;case 5:return 2*t.stringValue.length;case 6:return mi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+zc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return fs(r.fields,(s,o)=>{i+=s.length+zc(o)}),i}(t.mapValue);default:throw ee()}}function Np(t){return!!t&&"integerValue"in t}function vg(t){return!!t&&"arrayValue"in t}function y_(t){return!!t&&"nullValue"in t}function v_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hc(t){return!!t&&"mapValue"in t}function w2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[bT])===null||n===void 0?void 0:n.stringValue)===DT}function Ia(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ia(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ia(t.arrayValue.values[n]);return e}return Object.assign({},t)}function E2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===CT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ia(n)}setAll(e){let n=ft.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ia(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Hc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new on(Ia(this.value))}}function PT(t){const e=[];return fs(t.fields,(n,r)=>{const i=new ft([n]);if(Hc(r)){const s=PT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new St(e,0,te.min(),te.min(),te.min(),on.empty(),0)}static newFoundDocument(e,n,r,i){return new St(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new St(e,2,n,te.min(),te.min(),on.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,te.min(),te.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this.position=e,this.inclusive=n}}function __(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=ho(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function w_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n="asc"){this.field=e,this.dir=n}}function k2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RT=class{};class Je extends RT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new x2(e,n,r):n==="array-contains"?new b2(e,r):n==="in"?new C2(e,r):n==="not-in"?new D2(e,r):n==="array-contains-any"?new P2(e,r):new Je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new I2(e,r):new S2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ho(n,this.value)):n!==null&&gi(this.value)===gi(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends RT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Hn(e,n)}matches(e){return NT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function NT(t){return t.op==="and"}function AT(t){return T2(t)&&NT(t)}function T2(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function Ap(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+fo(t.value);if(AT(t))return t.filters.map(e=>Ap(e)).join(",");{const e=t.filters.map(n=>Ap(n)).join(",");return`${t.op}(${e})`}}function MT(t,e){return t instanceof Je?function(r,i){return i instanceof Je&&r.op===i.op&&r.field.isEqual(i.field)&&zn(r.value,i.value)}(t,e):t instanceof Hn?function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&MT(o,i.filters[a]),!0):!1}(t,e):void ee()}function OT(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`}(t):t instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(OT).join(" ,")+"}"}(t):"Filter"}class x2 extends Je{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class I2 extends Je{constructor(e,n){super(e,"in",n),this.keys=LT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class S2 extends Je{constructor(e,n){super(e,"not-in",n),this.keys=LT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class b2 extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vg(n)&&el(n.arrayValue,this.value)}}class C2 extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&el(this.value.arrayValue,n)}}class D2 extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(el(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!el(this.value.arrayValue,n)}}class P2 extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>el(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function E_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new R2(t,e,n,r,i,s,o)}function _g(t){const e=ne(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ap(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fo(r)).join(",")),e.le=n}return e.le}function wg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!k2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!w_(t.startAt,e.startAt)&&w_(t.endAt,e.endAt)}function Mp(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function N2(t,e,n,r,i,s,o,a){return new Nd(t,e,n,r,i,s,o,a)}function Eg(t){return new Nd(t)}function k_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function A2(t){return t.collectionGroup!==null}function Sa(t){const e=ne(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tt(ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new Lu(s,r))}),n.has(ft.keyField().canonicalString())||e.he.push(new Lu(ft.keyField(),r))}return e.he}function jn(t){const e=ne(t);return e.Pe||(e.Pe=M2(e,Sa(t))),e.Pe}function M2(t,e){if(t.limitType==="F")return E_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Lu(i.field,s)});const n=t.endAt?new Ou(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ou(t.startAt.position,t.startAt.inclusive):null;return E_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Op(t,e,n){return new Nd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ad(t,e){return wg(jn(t),jn(e))&&t.limitType===e.limitType}function VT(t){return`${_g(jn(t))}|lt:${t.limitType}`}function Ss(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>OT(i)).join(", ")}]`),Pd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fo(i)).join(",")),`Target(${r})`}(jn(t))}; limitType=${t.limitType})`}function Md(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Sa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=__(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Sa(r),i)||r.endAt&&!function(o,a,l){const u=__(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Sa(r),i))}(t,e)}function O2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jT(t){return(e,n)=>{let r=!1;for(const i of Sa(t)){const s=L2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function L2(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ho(l,u):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return ET(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new Oe(X.comparator);function Er(){return V2}const FT=new Oe(X.comparator);function da(...t){let e=FT;for(const n of t)e=e.insert(n.key,n);return e}function UT(t){let e=FT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fi(){return ba()}function BT(){return ba()}function ba(){return new ps(t=>t.toString(),(t,e)=>t.isEqual(e))}const j2=new Oe(X.comparator),F2=new tt(X.comparator);function oe(...t){let e=F2;for(const n of t)e=e.add(n);return e}const U2=new tt(le);function B2(){return U2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nu(e)?"-0":e}}function $T(t){return{integerValue:""+t}}function $2(t,e){return m2(e)?$T(e):kg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this._=void 0}}function W2(t,e,n){return t instanceof Vu?function(i,s){const o={fields:{[xT]:{stringValue:TT},[ST]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&yg(s)&&(s=Rd(s)),s&&(o.fields[IT]=s),{mapValue:o}}(n,e):t instanceof tl?zT(t,e):t instanceof nl?HT(t,e):function(i,s){const o=WT(i,s),a=T_(o)+T_(i.Ie);return Np(o)&&Np(i.Ie)?$T(a):kg(i.serializer,a)}(t,e)}function z2(t,e,n){return t instanceof tl?zT(t,e):t instanceof nl?HT(t,e):n}function WT(t,e){return t instanceof ju?function(r){return Np(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Vu extends Od{}class tl extends Od{constructor(e){super(),this.elements=e}}function zT(t,e){const n=YT(e);for(const r of t.elements)n.some(i=>zn(i,r))||n.push(r);return{arrayValue:{values:n}}}class nl extends Od{constructor(e){super(),this.elements=e}}function HT(t,e){let n=YT(e);for(const r of t.elements)n=n.filter(i=>!zn(i,r));return{arrayValue:{values:n}}}class ju extends Od{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function T_(t){return We(t.integerValue||t.doubleValue)}function YT(t){return vg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function H2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof tl&&i instanceof tl||r instanceof nl&&i instanceof nl?uo(r.elements,i.elements,zn):r instanceof ju&&i instanceof ju?zn(r.Ie,i.Ie):r instanceof Vu&&i instanceof Vu}(t.transform,e.transform)}class Y2{constructor(e,n){this.version=e,this.transformResults=n}}class dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ld{}function KT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new QT(t.key,dr.none()):new xl(t.key,t.data,dr.none());{const n=t.data,r=on.empty();let i=new tt(ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ms(t.key,r,new vn(i.toArray()),dr.none())}}function K2(t,e,n){t instanceof xl?function(i,s,o){const a=i.value.clone(),l=I_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ms?function(i,s,o){if(!Yc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=I_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(qT(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ca(t,e,n,r){return t instanceof xl?function(s,o,a,l){if(!Yc(s.precondition,o))return a;const u=s.value.clone(),d=S_(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ms?function(s,o,a,l){if(!Yc(s.precondition,o))return a;const u=S_(s.fieldTransforms,l,o),d=o.data;return d.setAll(qT(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Yc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function q2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=WT(r.transform,i||null);s!=null&&(n===null&&(n=on.empty()),n.set(r.field,s))}return n||null}function x_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&uo(r,i,(s,o)=>H2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xl extends Ld{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ms extends Ld{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function qT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function I_(t,e,n){const r=new Map;me(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,z2(o,a,n[i]))}return r}function S_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,W2(s,o,e))}return r}class QT extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q2 extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&K2(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ca(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ca(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=KT(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,(n,r)=>x_(n,r))&&uo(this.baseMutations,e.baseMutations,(n,r)=>x_(n,r))}}class Tg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){me(e.mutations.length===r.length);let i=function(){return j2}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Tg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,ue;function Z2(t){switch(t){case $.OK:return ee();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ee()}}function GT(t){if(t===void 0)return wr("GRPC error has no .code"),$.UNKNOWN;switch(t){case Ke.OK:return $.OK;case Ke.CANCELLED:return $.CANCELLED;case Ke.UNKNOWN:return $.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return $.INTERNAL;case Ke.UNAVAILABLE:return $.UNAVAILABLE;case Ke.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ke.NOT_FOUND:return $.NOT_FOUND;case Ke.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ke.ABORTED:return $.ABORTED;case Ke.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ke.DATA_LOSS:return $.DATA_LOSS;default:return ee()}}(ue=Ke||(Ke={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=new ii([4294967295,4294967295],0);function b_(t){const e=eM().encode(t),n=new hT;return n.update(e),new Uint8Array(n.digest())}function C_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ii([n,r],0),new ii([i,s],0)]}class xg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ha(`Invalid padding: ${n}`);if(r<0)throw new ha(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ha(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ha(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ii.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(ii.fromNumber(r)));return i.compare(tM)===1&&(i=new ii([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=b_(e),[r,i]=C_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new xg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=b_(e),[r,i]=C_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Il.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vd(te.min(),i,new Oe(le),Er(),oe())}}class Il{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Il(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class XT{constructor(e,n){this.targetId=e,this.ge=n}}class JT{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class D_{constructor(){this.pe=0,this.ye=P_(),this.we=yt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=oe(),n=oe(),r=oe();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new Il(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=P_()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,me(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class nM{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Er(),this.$e=gc(),this.Ke=gc(),this.Ue=new Oe(le)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const s=i.target;if(Mp(s))if(r===0){const o=new X(s.path);this.ze(n,o,St.newNoDocument(o,te.min()))}else me(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,u)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=mi(r).toUint8Array()}catch(l){if(l instanceof kT)return co("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new xg(o,i,s)}catch(l){return co(l instanceof ha?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,s,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&Mp(a.target)){const l=new X(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,St.newNoDocument(l,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=oe();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new Vd(e,n,this.Ue,this.Qe,r);return this.Qe=Er(),this.$e=gc(),this.Ke=gc(),this.Ue=new Oe(le),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new D_,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new tt(le),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new tt(le),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new D_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function gc(){return new Oe(X.comparator)}function P_(){return new Oe(X.comparator)}const rM={asc:"ASCENDING",desc:"DESCENDING"},iM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sM={and:"AND",or:"OR"};class oM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lp(t,e){return t.useProto3Json||Pd(e)?e:{value:e}}function Fu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aM(t,e){return Fu(t,e.toTimestamp())}function Fn(t){return me(!!t),te.fromTimestamp(function(n){const r=pi(n);return new et(r.seconds,r.nanos)}(t))}function Ig(t,e){return Vp(t,e).canonicalString()}function Vp(t,e){const n=function(i){return new je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ex(t){const e=je.fromString(t);return me(sx(e)),e}function jp(t,e){return Ig(t.databaseId,e.path)}function nf(t,e){const n=ex(e);if(n.get(1)!==t.databaseId.projectId)throw new G($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(nx(n))}function tx(t,e){return Ig(t.databaseId,e)}function lM(t){const e=ex(t);return e.length===4?je.emptyPath():nx(e)}function Fp(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nx(t){return me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function R_(t,e,n){return{name:jp(t,e),fields:n.value.mapValue.fields}}function cM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(me(d===void 0||typeof d=="string"),yt.fromBase64String(d||"")):(me(d===void 0||d instanceof Buffer||d instanceof Uint8Array),yt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?$.UNKNOWN:GT(u.code);return new G(d,u.message||"")}(o);n=new JT(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=nf(t,r.document.name),s=Fn(r.document.updateTime),o=r.document.createTime?Fn(r.document.createTime):te.min(),a=new on({mapValue:{fields:r.document.fields}}),l=St.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Kc(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=nf(t,r.document),s=r.readTime?Fn(r.readTime):te.min(),o=St.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Kc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=nf(t,r.document),s=r.removedTargetIds||[];n=new Kc([],s,i,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new J2(i,s),a=r.targetId;n=new XT(a,o)}}return n}function uM(t,e){let n;if(e instanceof xl)n={update:R_(t,e.key,e.value)};else if(e instanceof QT)n={delete:jp(t,e.key)};else if(e instanceof ms)n={update:R_(t,e.key,e.data),updateMask:_M(e.fieldMask)};else{if(!(e instanceof Q2))return ee();n={verify:jp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Vu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof tl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ju)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:aM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee()}(t,e.precondition)),n}function dM(t,e){return t&&t.length>0?(me(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Fn(i.updateTime):Fn(s);return o.isEqual(te.min())&&(o=Fn(s)),new Y2(o,i.transformResults||[])}(n,e))):[]}function hM(t,e){return{documents:[tx(t,e.path)]}}function fM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tx(t,i);const s=function(u){if(u.length!==0)return ix(Hn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:bs(g.field),direction:gM(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Lp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:n,parent:i}}function pM(t){let e=lM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){me(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const g=rx(f);return g instanceof Hn&&AT(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(w){return new Lu(Cs(w.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Pd(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(f){const g=!!f.before,y=f.values||[];return new Ou(y,g)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const g=!f.before,y=f.values||[];return new Ou(y,g)}(n.endAt)),N2(e,i,o,s,a,"F",l,u)}function mM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cs(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cs(n.unaryFilter.field);return Je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Cs(n.unaryFilter.field);return Je.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Cs(n.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return Je.create(Cs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(r=>rx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function gM(t){return rM[t]}function yM(t){return iM[t]}function vM(t){return sM[t]}function bs(t){return{fieldPath:t.canonicalString()}}function Cs(t){return ft.fromServerFormat(t.fieldPath)}function ix(t){return t instanceof Je?function(n){if(n.op==="=="){if(v_(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NAN"}};if(y_(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(v_(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NOT_NAN"}};if(y_(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bs(n.field),op:yM(n.op),value:n.value}}}(t):t instanceof Hn?function(n){const r=n.getFilters().map(i=>ix(i));return r.length===1?r[0]:{compositeFilter:{op:vM(n.op),filters:r}}}(t):ee()}function _M(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n,r,i,s=te.min(),o=te.min(),a=yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.Tt=e}}function EM(t){const e=pM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.Tn=new TM}addToCollectionParentIndex(e,n){return this.Tn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(fi.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(fi.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class TM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tt(je.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tt(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ox=41943040;class Ft{static withCacheSize(e){return new Ft(e,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ft.DEFAULT_COLLECTION_PERCENTILE=10,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ft.DEFAULT=new Ft(ox,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ft.DISABLED=new Ft(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new po(0)}static Un(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="LruGarbageCollector",xM=1048576;function M_([t,e],[n,r]){const i=le(t,n);return i===0?le(e,r):i}class IM{constructor(e){this.Hn=e,this.buffer=new tt(M_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();M_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Y(A_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Po(n)?Y(A_,"Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.er(3e5)})}}class bM{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Dd.ae);const r=new IM(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(N_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Is()<=se.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function CM(t,e){return new bM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.changes=new ps(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ca(r.mutation,i,vn.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=Fi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=da();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Er();const o=ba(),a=function(){return ba()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ms)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Ca(d.mutation,u,d.mutation.getFieldMask(),et.now())):o.set(u.key,vn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new PM(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ba();let i=new Oe((o,a)=>o-a),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||vn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||oe()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=BT();d.forEach(g=>{if(!s.has(g)){const y=KT(n.get(g),r.get(g));y!==null&&f.set(g,y),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):A2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Fi());let a=Xa,l=s;return o.next(u=>U.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{l=l.insert(d,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,oe())).next(d=>({batchId:a,changes:UT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=da();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=da();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const u=function(f,g){return new Nd(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,St.newInvalidDocument(d)))});let a=da();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Ca(d.mutation,u,vn.empty(),et.now()),Md(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return U.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Fn(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:EM(i.bundledQuery),readTime:Fn(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.overlays=new Oe(X.comparator),this.Rr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fi();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Fi(),s=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Fi(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Fi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return U.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new X2(n,r));let s=this.Rr.get(n);s===void 0&&(s=oe(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this.Vr=new tt(nt.mr),this.gr=new tt(nt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new nt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new nt(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){const n=new X(new je([])),r=new nt(n,e),i=new nt(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new X(new je([])),r=new nt(n,e),i=new nt(n,e+1);let s=oe();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new nt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return X.comparator(e.key,n.key)||le(e.Cr,n.Cr)}static pr(e,n){return le(e.Cr,n.Cr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new tt(nt.mr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new G2(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new nt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?gg:this.Fr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nt(n,0),i=new nt(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const a=this.Or(o.Cr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tt(le);return n.forEach(i=>{const s=new nt(i,0),o=new nt(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),U.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;X.isDocumentKey(s)||(s=s.child(""));const o=new nt(new X(s),0);let a=new tt(le);return this.Mr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Cr)),!0)},o),U.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){me(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return U.forEach(n.mutations,i=>{const s=new nt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new nt(n,0),i=this.Mr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.kr=e,this.docs=function(){return new Oe(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=Er();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():St.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Er();const o=n.path,a=new X(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||d2(u2(d),r)<=0||(i.has(d.key)||Md(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee()}qr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new VM(this)}getSize(e){return U.resolve(this.size)}}class VM extends DM{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.persistence=e,this.Qr=new ps(n=>_g(n),wg),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Sg,this.targetCount=0,this.Ur=po.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),U.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new po(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.zn(n),U.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Dd(0),this.zr=!1,this.zr=!0,this.jr=new MM,this.referenceDelegate=e(this),this.Hr=new jM(this),this.indexManager=new kM,this.remoteDocumentCache=function(i){return new LM(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new wM(n),this.Yr=new NM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new OM(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new FM(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return U.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class FM extends f2{constructor(e){super(),this.currentSequenceNumber=e}}class bg{constructor(e){this.persistence=e,this.ti=new Sg,this.ni=null}static ri(e){return new bg(e)}get ii(){if(this.ni)return this.ni;throw ee()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),U.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.ii,r=>{const i=X.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return U.or([()=>U.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Uu{constructor(e,n){this.persistence=e,this.oi=new ps(r=>g2(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=CM(this,n)}static ri(e,n){return new Uu(e,n)}Zr(){}Xr(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return U.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,s.removeEntry(o,te.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),U.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zc(e.data.value)),n}ar(e,n,r){return U.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Cg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return _P()?8:p2(Ct())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new UM;return this._s(e,n,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(Is()<=se.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Ss(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),U.resolve()):(Is()<=se.DEBUG&&Y("QueryEngine","Query:",Ss(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Is()<=se.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Ss(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(n))):U.resolve())}rs(e,n){if(k_(n))return U.resolve(null);let r=jn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Op(n,null,"F"),r=jn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.cs(n,a);return this.ls(n,u,o,l.readTime)?this.rs(e,Op(n,null,"F")):this.hs(e,u,n,l)}))})))}ss(e,n,r,i){return k_(n)||i.isEqual(te.min())?U.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(n,s);return this.ls(n,o,r,i)?U.resolve(null):(Is()<=se.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ss(n)),this.hs(e,o,n,c2(i,Xa)).next(a=>a))})}cs(e,n){let r=new tt(jT(e));return n.forEach((i,s)=>{Md(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return Is()<=se.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Ss(n)),this.ns.getDocumentsMatchingQuery(e,n,fi.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="LocalStore",$M=3e8;class WM{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Oe(le),this.Is=new ps(s=>_g(s),wg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RM(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function zM(t,e,n,r){return new WM(t,e,n,r)}async function lx(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=oe();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Rs:u,removedBatchIds:o,addedBatchIds:a}))})})}function HM(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,g=f.keys();let y=U.resolve();return g.forEach(w=>{y=y.next(()=>d.getEntry(l,w)).next(I=>{const C=u.docVersions.get(w);me(C!==null),I.version.compareTo(C)<0&&(f.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),d.addEntry(I)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function cx(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function YM(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((d,f)=>{const g=i.get(f);if(!g)return;a.push(n.Hr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(s,d.addedDocuments,f)));let y=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(yt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(f,y),function(I,C,E){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=$M?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,y,d)&&a.push(n.Hr.updateTargetData(s,y))});let l=Er(),u=oe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(KM(s,o,e.documentUpdates).next(d=>{l=d.Vs,u=d.fs})),!r.isEqual(te.min())){const d=n.Hr.getLastRemoteSnapshotVersion(s).next(f=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ts=i,s))}function KM(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Er();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y(Dg,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Vs:o,fs:i}})}function qM(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=gg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function QM(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new Hr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Up(t,e,n){const r=ne(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Po(o))throw o;Y(Dg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function O_(t,e,n){const r=ne(t);let i=te.min(),s=oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=ne(l),g=f.Is.get(d);return g!==void 0?U.resolve(f.Ts.get(g)):f.Hr.getTargetData(u,d)}(r,o,jn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:oe())).next(a=>(GM(r,O2(e),a),{documents:a,gs:s})))}function GM(t,e,n){let r=t.Es.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}class L_{constructor(){this.activeTargetIds=B2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XM{constructor(){this.ho=new L_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new L_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="ConnectivityMonitor";class j_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Y(V_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Y(V_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc=null;function Bp(){return yc===null?yc=function(){return 268435456+Math.round(2147483648*Math.random())}():yc++,"0x"+yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="RestConnection",ZM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Au?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,n,r,i,s){const o=Bp(),a=this.So(e,n.toUriEncodedString());Y(rf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,s),this.vo(e,a,l,r).then(u=>(Y(rf,`Received RPC '${e}' ${o}: `,u),u),u=>{throw co(rf,`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}Co(e,n,r,i,s,o){return this.bo(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Co}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,n){const r=ZM[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class nO extends eO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=Bp();return new Promise((o,a)=>{const l=new fT;l.setWithCredentials(!0),l.listenOnce(pT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Wc.NO_ERROR:const d=l.getResponseJson();Y(Tt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Wc.TIMEOUT:Y(Tt,`RPC '${e}' ${s} timed out`),a(new G($.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const f=l.getStatus();if(Y(Tt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const w=function(C){const E=C.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(E)>=0?E:$.UNKNOWN}(y.status);a(new G(w,y.message))}else a(new G($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new G($.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{Y(Tt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Y(Tt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Wo(e,n,r){const i=Bp(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yT(),a=gT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Y(Tt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let g=!1,y=!1;const w=new tO({Fo:C=>{y?Y(Tt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(g||(Y(Tt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),Y(Tt,`RPC '${e}' stream ${i} sending:`,C),f.send(C))},Mo:()=>f.close()}),I=(C,E,v)=>{C.listen(E,T=>{try{v(T)}catch(N){setTimeout(()=>{throw N},0)}})};return I(f,ua.EventType.OPEN,()=>{y||(Y(Tt,`RPC '${e}' stream ${i} transport opened.`),w.Qo())}),I(f,ua.EventType.CLOSE,()=>{y||(y=!0,Y(Tt,`RPC '${e}' stream ${i} transport closed`),w.Ko())}),I(f,ua.EventType.ERROR,C=>{y||(y=!0,co(Tt,`RPC '${e}' stream ${i} transport errored:`,C),w.Ko(new G($.UNAVAILABLE,"The operation could not be completed")))}),I(f,ua.EventType.MESSAGE,C=>{var E;if(!y){const v=C.data[0];me(!!v);const T=v,N=(T==null?void 0:T.error)||((E=T[0])===null||E===void 0?void 0:E.error);if(N){Y(Tt,`RPC '${e}' stream ${i} received error:`,N);const j=N.status;let F=function(b){const D=Ke[b];if(D!==void 0)return GT(D)}(j),x=N.message;F===void 0&&(F=$.INTERNAL,x="Unknown error status: "+j+" with message "+N.message),y=!0,w.Ko(new G(F,x)),f.close()}else Y(Tt,`RPC '${e}' stream ${i} received:`,v),w.Uo(v)}}),I(a,mT.STAT_EVENT,C=>{C.stat===Pp.PROXY?Y(Tt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Pp.NOPROXY&&Y(Tt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}function sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t){return new oM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="PersistentStream";class dx{constructor(e,n,r,i,s,o,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ux(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(wr(n.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new G($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Y(F_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Y(F_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rO extends dx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=cM(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Fn(o.readTime):te.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Fp(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Mp(l)?{documents:hM(s,l)}:{query:fM(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ZT(s,o.resumeToken);const u=Lp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=Fu(s,o.snapshotVersion.toTimestamp());const u=Lp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=mM(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Fp(this.serializer),n.removeTarget=e,this.I_(n)}}class iO extends dx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return me(!!e.streamToken),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=dM(e.writeResults,e.commitTime),r=Fn(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Fp(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>uM(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{}class oO extends sO{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new G($.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.bo(e,Vp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G($.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,Vp(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G($.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class aO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(wr(n),this.N_=!1):Y("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="RemoteStore";class lO{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{gs(this)&&(Y(rs,"Restarting streams for network reachability change."),await async function(l){const u=ne(l);u.W_.add(4),await Sl(u),u.j_.set("Unknown"),u.W_.delete(4),await Fd(u)}(this))})}),this.j_=new aO(r,i)}}async function Fd(t){if(gs(t))for(const e of t.G_)await e(!0)}async function Sl(t){for(const e of t.G_)await e(!1)}function hx(t,e){const n=ne(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Ag(n)?Ng(n):Ro(n).c_()&&Rg(n,e))}function Pg(t,e){const n=ne(t),r=Ro(n);n.U_.delete(e),r.c_()&&fx(n,e),n.U_.size===0&&(r.c_()?r.P_():gs(n)&&n.j_.set("Unknown"))}function Rg(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(t).y_(e)}function fx(t,e){t.H_.Ne(e),Ro(t).w_(e)}function Ng(t){t.H_=new nM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Ro(t).start(),t.j_.B_()}function Ag(t){return gs(t)&&!Ro(t).u_()&&t.U_.size>0}function gs(t){return ne(t).W_.size===0}function px(t){t.H_=void 0}async function cO(t){t.j_.set("Online")}async function uO(t){t.U_.forEach((e,n)=>{Rg(t,e)})}async function dO(t,e){px(t),Ag(t)?(t.j_.q_(e),Ng(t)):t.j_.set("Unknown")}async function hO(t,e,n){if(t.j_.set("Online"),e instanceof JT&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.U_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.U_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){Y(rs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bu(t,r)}else if(e instanceof Kc?t.H_.We(e):e instanceof XT?t.H_.Ze(e):t.H_.je(e),!n.isEqual(te.min()))try{const r=await cx(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.U_.get(u);d&&s.U_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.U_.get(l);if(!d)return;s.U_.set(l,d.withResumeToken(yt.EMPTY_BYTE_STRING,d.snapshotVersion)),fx(s,l);const f=new Hr(d.target,l,u,d.sequenceNumber);Rg(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(rs,"Failed to raise snapshot:",r),await Bu(t,r)}}async function Bu(t,e,n){if(!Po(e))throw e;t.W_.add(1),await Sl(t),t.j_.set("Offline"),n||(n=()=>cx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(rs,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Fd(t)})}function mx(t,e){return e().catch(n=>Bu(t,n,e))}async function Ud(t){const e=ne(t),n=yi(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:gg;for(;fO(e);)try{const i=await qM(e.localStore,r);if(i===null){e.K_.length===0&&n.P_();break}r=i.batchId,pO(e,i)}catch(i){await Bu(e,i)}gx(e)&&yx(e)}function fO(t){return gs(t)&&t.K_.length<10}function pO(t,e){t.K_.push(e);const n=yi(t);n.c_()&&n.b_&&n.S_(e.mutations)}function gx(t){return gs(t)&&!yi(t).u_()&&t.K_.length>0}function yx(t){yi(t).start()}async function mO(t){yi(t).C_()}async function gO(t){const e=yi(t);for(const n of t.K_)e.S_(n.mutations)}async function yO(t,e,n){const r=t.K_.shift(),i=Tg.from(r,e,n);await mx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ud(t)}async function vO(t,e){e&&yi(t).b_&&await async function(r,i){if(function(o){return Z2(o)&&o!==$.ABORTED}(i.code)){const s=r.K_.shift();yi(r).h_(),await mx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ud(r)}}(t,e),gx(t)&&yx(t)}async function U_(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),Y(rs,"RemoteStore received new credentials");const r=gs(n);n.W_.add(3),await Sl(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Fd(n)}async function _O(t,e){const n=ne(t);e?(n.W_.delete(2),await Fd(n)):e||(n.W_.add(2),await Sl(n),n.j_.set("Unknown"))}function Ro(t){return t.J_||(t.J_=function(n,r,i){const s=ne(n);return s.M_(),new rO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:cO.bind(null,t),No:uO.bind(null,t),Lo:dO.bind(null,t),p_:hO.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Ag(t)?Ng(t):t.j_.set("Unknown")):(await t.J_.stop(),px(t))})),t.J_}function yi(t){return t.Y_||(t.Y_=function(n,r,i){const s=ne(n);return s.M_(),new iO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:mO.bind(null,t),Lo:vO.bind(null,t),D_:gO.bind(null,t),v_:yO.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Ud(t)):(await t.Y_.stop(),t.K_.length>0&&(Y(rs,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Mg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Og(t,e){if(wr("AsyncQueue",`${e}: ${t}`),Po(t))return new G($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{static emptySet(e){return new Js(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=da(),this.sortedSet=new Oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Js;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(){this.Z_=new Oe(X.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ee():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class mo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new mo(e,n,Js.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class EO{constructor(){this.queries=$_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=ne(n),s=i.queries;i.queries=$_(),s.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new G($.ABORTED,"Firestore shutting down"))}}function $_(){return new ps(t=>VT(t),Ad)}async function kO(t,e){const n=ne(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new wO,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Og(o,`Initialization of query '${Ss(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&Lg(n)}async function TO(t,e){const n=ne(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xO(t,e){const n=ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&Lg(n)}function IO(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(e)}function Lg(t){t.ia.forEach(e=>{e.next()})}var $p,W_;(W_=$p||($p={}))._a="default",W_.Cache="cache";class SO{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new mo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==$p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.key=e}}class _x{constructor(e){this.key=e}}class bO{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=oe(),this.mutatedKeys=oe(),this.ya=jT(e),this.wa=new Js(this.ya)}get ba(){return this.fa}Sa(e,n){const r=n?n.Da:new B_,i=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const g=i.get(d),y=Md(this.query,f)?f:null,w=!!g&&this.mutatedKeys.has(g.key),I=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let C=!1;g&&y?g.data.isEqual(y.data)?w!==I&&(r.track({type:3,doc:y}),C=!0):this.va(g,y)||(r.track({type:2,doc:y}),C=!0,(l&&this.ya(y,l)>0||u&&this.ya(y,u)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),C=!0):g&&!y&&(r.track({type:1,doc:g}),C=!0,(l||u)&&(a=!0)),C&&(y?(o=o.add(y),s=I?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((d,f)=>function(y,w){const I=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return I(y)-I(w)}(d.type,f.type)||this.ya(d.doc,f.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,u=l!==this.ga;return this.ga=l,o.length!==0||u?{snapshot:new mo(this.query,e.wa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new B_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=oe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new _x(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new vx(r))}),n}Oa(e){this.fa=e.gs,this.pa=oe();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return mo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Vg="SyncEngine";class CO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DO{constructor(e){this.key=e,this.Ba=!1}}class PO{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new ps(a=>VT(a),Ad),this.qa=new Map,this.Qa=new Set,this.$a=new Oe(X.comparator),this.Ka=new Map,this.Ua=new Sg,this.Wa={},this.Ga=new Map,this.za=po.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function RO(t,e,n=!0){const r=Ix(t);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await wx(r,e,n,!0),i}async function NO(t,e){const n=Ix(t);await wx(n,e,!0,!1)}async function wx(t,e,n,r){const i=await QM(t.localStore,jn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await AO(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&hx(t.remoteStore,i),a}async function AO(t,e,n,r,i){t.Ha=(f,g,y)=>async function(I,C,E,v){let T=C.view.Sa(E);T.ls&&(T=await O_(I.localStore,C.query,!1).then(({documents:x})=>C.view.Sa(x,T)));const N=v&&v.targetChanges.get(C.targetId),j=v&&v.targetMismatches.get(C.targetId)!=null,F=C.view.applyChanges(T,I.isPrimaryClient,N,j);return H_(I,C.targetId,F.Ma),F.snapshot}(t,f,g,y);const s=await O_(t.localStore,e,!0),o=new bO(e,s.gs),a=o.Sa(s.documents),l=Il.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);H_(t,n,u.Ma);const d=new CO(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),u.snapshot}async function MO(t,e,n){const r=ne(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!Ad(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Up(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Pg(r.remoteStore,i.targetId),Wp(r,i.targetId)}).catch(Do)):(Wp(r,i.targetId),await Up(r.localStore,i.targetId,!0))}async function OO(t,e){const n=ne(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Pg(n.remoteStore,r.targetId))}async function LO(t,e,n){const r=WO(t);try{const i=await function(o,a){const l=ne(o),u=et.now(),d=a.reduce((y,w)=>y.add(w.key),oe());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=Er(),I=oe();return l.ds.getEntries(y,d).next(C=>{w=C,w.forEach((E,v)=>{v.isValidDocument()||(I=I.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,w)).next(C=>{f=C;const E=[];for(const v of a){const T=q2(v,f.get(v.key).overlayedDocument);T!=null&&E.push(new ms(v.key,T,PT(T.value.mapValue),dr.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,E,a)}).next(C=>{g=C;const E=C.applyToLocalDocumentSet(f,I);return l.documentOverlayCache.saveOverlays(y,C.batchId,E)})}).then(()=>({batchId:g.batchId,changes:UT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Wa[o.currentUser.toKey()];u||(u=new Oe(le)),u=u.insert(a,l),o.Wa[o.currentUser.toKey()]=u}(r,i.batchId,n),await bl(r,i.changes),await Ud(r.remoteStore)}catch(i){const s=Og(i,"Failed to persist write");n.reject(s)}}async function Ex(t,e){const n=ne(t);try{const r=await YM(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ka.get(s);o&&(me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?me(o.Ba):i.removedDocuments.size>0&&(me(o.Ba),o.Ba=!1))}),await bl(n,r,e)}catch(r){await Do(r)}}function z_(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ne(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const g of f.ta)g.sa(a)&&(u=!0)}),u&&Lg(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VO(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ka.get(e),s=i&&i.key;if(s){let o=new Oe(X.comparator);o=o.insert(s,St.newNoDocument(s,te.min()));const a=oe().add(s),l=new Vd(te.min(),new Map,new Oe(le),o,a);await Ex(r,l),r.$a=r.$a.remove(s),r.Ka.delete(e),jg(r)}else await Up(r.localStore,e,!1).then(()=>Wp(r,e,n)).catch(Do)}async function jO(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await HM(n.localStore,e);Tx(n,r,null),kx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bl(n,i)}catch(i){await Do(i)}}async function FO(t,e,n){const r=ne(t);try{const i=await function(o,a){const l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(me(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);Tx(r,e,n),kx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bl(r,i)}catch(i){await Do(i)}}function kx(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function Tx(t,e,n){const r=ne(t);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Wp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(r=>{t.Ua.containsKey(r)||xx(t,r)})}function xx(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Pg(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),jg(t))}function H_(t,e,n){for(const r of n)r instanceof vx?(t.Ua.addReference(r.key,e),UO(t,r)):r instanceof _x?(Y(Vg,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||xx(t,r.key)):ee()}function UO(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(Y(Vg,"New document in limbo: "+n),t.Qa.add(r),jg(t))}function jg(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new X(je.fromString(e)),r=t.za.next();t.Ka.set(r,new DO(n)),t.$a=t.$a.insert(n,r),hx(t.remoteStore,new Hr(jn(Eg(n.path)),r,"TargetPurposeLimboResolution",Dd.ae))}}async function bl(t,e,n){const r=ne(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Cg.Yi(l.targetId,u);s.push(f)}}))}),await Promise.all(o),r.La.p_(i),await async function(l,u){const d=ne(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(u,g=>U.forEach(g.Hi,y=>d.persistence.referenceDelegate.addReference(f,g.targetId,y)).next(()=>U.forEach(g.Ji,y=>d.persistence.referenceDelegate.removeReference(f,g.targetId,y)))))}catch(f){if(!Po(f))throw f;Y(Dg,"Failed to update sequence numbers: "+f)}for(const f of u){const g=f.targetId;if(!f.fromCache){const y=d.Ts.get(g),w=y.snapshotVersion,I=y.withLastLimboFreeSnapshotVersion(w);d.Ts=d.Ts.insert(g,I)}}}(r.localStore,s))}async function BO(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){Y(Vg,"User change. New user:",e.toKey());const r=await lx(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new G($.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bl(n,r.Rs)}}function $O(t,e){const n=ne(t),r=n.Ka.get(e);if(r&&r.Ba)return oe().add(r.key);{let i=oe();const s=n.qa.get(e);if(!s)return i;for(const o of s){const a=n.ka.get(o);i=i.unionWith(a.view.ba)}return i}}function Ix(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ex.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$O.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VO.bind(null,e),e.La.p_=xO.bind(null,e.eventManager),e.La.Ja=IO.bind(null,e.eventManager),e}function WO(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FO.bind(null,e),e}class $u{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return zM(this.persistence,new BM,e.initialUser,this.serializer)}Xa(e){return new ax(bg.ri,this.serializer)}Za(e){return new XM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$u.provider={build:()=>new $u};class zO extends $u{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){me(this.persistence.referenceDelegate instanceof Uu);const r=this.persistence.referenceDelegate.garbageCollector;return new SM(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Ft.withCacheSize(this.cacheSizeBytes):Ft.DEFAULT;return new ax(r=>Uu.ri(r,n),this.serializer)}}class zp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BO.bind(null,this.syncEngine),await _O(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EO}()}createDatastore(e){const n=jd(e.databaseInfo.databaseId),r=function(s){return new nO(s)}(e.databaseInfo);return function(s,o,a,l){return new oO(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new lO(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>z_(this.syncEngine,n,0),function(){return j_.D()?new j_:new JM}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const f=new PO(i,s,o,a,l,u);return d&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ne(i);Y(rs,"RemoteStore shutting down."),s.W_.add(5),await Sl(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zp.provider={build:()=>new zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="FirestoreClient";class YO{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xt.UNAUTHENTICATED,this.clientId=_T.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Y(vi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(vi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Og(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function of(t,e){t.asyncQueue.verifyOperationInProgress(),Y(vi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await lx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Y_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KO(t);Y(vi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>U_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>U_(e.remoteStore,i)),t._onlineComponents=e}async function KO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(vi,"Using user provided OfflineComponentProvider");try{await of(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await of(t,new $u)}}else Y(vi,"Using default OfflineComponentProvider"),await of(t,new zO(void 0));return t._offlineComponents}async function Sx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(vi,"Using user provided OnlineComponentProvider"),await Y_(t,t._uninitializedComponentsProvider._online)):(Y(vi,"Using default OnlineComponentProvider"),await Y_(t,new zp))),t._onlineComponents}function qO(t){return Sx(t).then(e=>e.syncEngine)}async function QO(t){const e=await Sx(t),n=e.eventManager;return n.onListen=RO.bind(null,e.syncEngine),n.onUnlisten=MO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OO.bind(null,e.syncEngine),n}function GO(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new HO({next:g=>{d.su(),o.enqueueAndForget(()=>TO(s,f));const y=g.docs.has(a);!y&&g.fromCache?u.reject(new G($.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&l&&l.source==="server"?u.reject(new G($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new SO(Eg(a.path),d,{includeMetadataChanges:!0,Ta:!0});return kO(s,f)}(await QO(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t,e,n){if(!n)throw new G($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JO(t,e,n,r){if(e===!0&&r===!0)throw new G($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function q_(t){if(!X.isDocumentKey(t))throw new G($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Fg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function rl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fg(t);throw new G($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="firestore.googleapis.com",Q_=!0;class G_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cx,this.ssl=Q_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Q_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ox;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xM)throw new G($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ug{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t2;switch(r.type){case"firstParty":return new s2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=K_.get(n);r&&(Y("ComponentProvider","Removing Datastore"),K_.delete(n),r.terminate())}(this),Promise.resolve()}}function ZO(t,e,n,r={}){var i;const s=(t=rl(t,Ug))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==Cx&&s.host!==a&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!Ji(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=xt.MOCK_USER;else{u=Ik(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new G($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new xt(f)}t._authCredentials=new n2(new vT(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bg(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class il extends Bg{constructor(e,n,r){super(e,n,Eg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new X(e))}withConverter(e){return new il(this.firestore,e,this._path)}}function Bd(t,e,...n){if(t=st(t),arguments.length===1&&(e=_T.newId()),XO("doc","path",e),t instanceof Ug){const r=je.fromString(e,...n);return q_(r),new cn(t,null,new X(r))}{if(!(t instanceof cn||t instanceof il))throw new G($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return q_(r),new cn(t.firestore,t instanceof il?t.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="AsyncQueue";class J_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ux(this,"async_queue_retry"),this.bu=()=>{const r=sf();r&&Y(X_,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const n=sf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=sf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new si;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Po(e))throw e;Y(X_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw wr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=Mg.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class $g extends Ug{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new J_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J_(e),this._firestoreClient=void 0,await e}}}function eL(t,e){const n=typeof t=="object"?t:sg(),r=typeof t=="string"?t:Au,i=Id(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=kk("firestore");s&&ZO(i,...s)}return i}function Dx(t){if(t._terminated)throw new G($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tL(t),t._firestoreClient}function tL(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new _2(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,bx(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new YO(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new go(yt.fromBase64String(e))}catch(n){throw new G($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new go(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=/^__.*__$/;class rL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new xl(e,this.data,n,this.fieldTransforms)}}function Rx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class Yg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Yg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Wu(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Rx(this.Lu)&&nL.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class iL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jd(e)}ju(e,n,r,i=!1){return new Yg({Lu:e,methodName:n,zu:r,path:ft.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sL(t){const e=t._freezeSettings(),n=jd(t._databaseId);return new iL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oL(t,e,n,r,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);Ox("Data must be an object, but it was:",o,r);const a=Ax(r,o);let l,u;if(s.merge)l=new vn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const g=aL(e,f,n);if(!o.contains(g))throw new G($.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);cL(d,g)||d.push(g)}l=new vn(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new rL(new on(a),l,u)}function Nx(t,e){if(Mx(t=st(t)))return Ox("Unsupported field value:",e,t),Ax(t,e);if(t instanceof Px)return function(r,i){if(!Rx(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Nx(a,i.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=st(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=et.fromDate(r);return{timestampValue:Fu(i.serializer,s)}}if(r instanceof et){const s=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fu(i.serializer,s)}}if(r instanceof zg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof go)return{bytesValue:ZT(i.serializer,r._byteString)};if(r instanceof cn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ig(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Hg)return function(o,a){return{mapValue:{fields:{[bT]:{stringValue:DT},[Mu]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return kg(a.serializer,u)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Fg(r)}`)}(t,e)}function Ax(t,e){const n={};return ET(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(t,(r,i)=>{const s=Nx(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Mx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof zg||t instanceof go||t instanceof cn||t instanceof Px||t instanceof Hg)}function Ox(t,e,n){if(!Mx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Fg(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function aL(t,e,n){if((e=st(e))instanceof Wg)return e._internalPath;if(typeof e=="string")return Lx(t,e);throw Wu("Field path arguments must be of type string or ",t,!1,void 0,n)}const lL=new RegExp("[~\\*/\\[\\]]");function Lx(t,e,n){if(e.search(lL)>=0)throw Wu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wg(...e.split("."))._internalPath}catch{throw Wu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new G($.INVALID_ARGUMENT,a+t+l)}function cL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uL extends Vx{data(){return super.data()}}function jx(t,e){return typeof e=="string"?Lx(t,e):e instanceof Wg?e._internalPath:e._delegate._internalPath}class dL{convertValue(e,n="none"){switch(gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Mu].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>We(o.doubleValue));return new Hg(s)}convertGeoPoint(e){return new zg(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ja(e));default:return null}}convertTimestamp(e){const n=pi(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);me(sx(r));const i=new Za(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(n)||wr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fx extends Vx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pL(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pL extends Fx{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t){t=rl(t,cn);const e=rl(t.firestore,$g);return GO(Dx(e),t._key).then(n=>yL(e,t,n))}class mL extends dL{constructor(e){super(),this.firestore=e}convertBytes(e){return new go(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function Bx(t,e,n){t=rl(t,cn);const r=rl(t.firestore,$g),i=hL(t.converter,e);return gL(r,[oL(sL(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,dr.none())])}function gL(t,e){return function(r,i){const s=new si;return r.asyncQueue.enqueueAndForget(async()=>LO(await qO(r),i,s)),s.promise}(Dx(t),e)}function yL(t,e,n){const r=n.docs.get(e._key),i=new mL(t);return new Fx(t,i,e._key,r,new fL(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Co=i})(ds),Zi(new hi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new $g(new r2(r.getProvider("auth-internal")),new o2(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new G($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Za(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),On(o_,a_,e),On(o_,a_,"esm2017")})();const vL={apiKey:"AIzaSyB--D7pQrmIgl5e6QZm8TRoc-9NEuZ6BKU",authDomain:"lazyowner-7571d.firebaseapp.com",databaseURL:"https://lazyowner-7571d-default-rtdb.firebaseio.com",projectId:"lazyowner-7571d",storageBucket:"lazyowner-7571d.firebasestorage.app",messagingSenderId:"361474077422",appId:"1:361474077422:web:e3c7c5075bd11ae8cf79ff",measurementId:"G-RTNJ2KRB5Y"},$x=Ck(vL),oi=ZA($x),$d=eL($x),_L={user:null,loading:!0,signIn:async()=>{},signUp:async()=>{}},Kg=O.createContext(_L),wL=({children:t})=>{const[e,n]=O.useState(null),[r,i]=O.useState(!0);O.useEffect(()=>BN(oi,l=>{n(l),i(!1)}),[]);const s=async(a,l)=>{try{await LN(oi,a,l)}catch(u){throw console.error("Error signing in:",u),u}},o=async(a,l,u)=>{try{const d=await ON(oi,a,l);await Bx(Bd($d,"users",d.user.uid),{uid:d.user.uid,username:u,email:a}),await jN(d.user,{displayName:u}),console.log("User created:",d.user,"with username:",u)}catch(d){throw console.error("Error signing up:",d),d}};return p.jsx(Kg.Provider,{value:{user:e,loading:r,signIn:s,signUp:o},children:!r&&t})},Wx=()=>O.useContext(Kg);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(t,e)=>{const n=O.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>O.createElement("svg",{ref:d,...EL,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${kL(t)}`,a].join(" "),...u},[...e.map(([f,g])=>O.createElement(f,g)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=ce("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=ce("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=ce("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=ce("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=ce("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=ce("Guitar",[["path",{d:"m20 7 1.7-1.7a1 1 0 0 0 0-1.4l-1.6-1.6a1 1 0 0 0-1.4 0L17 4v3Z",key:"15ixgv"}],["path",{d:"m17 7-5.1 5.1",key:"l9guh7"}],["circle",{cx:"11.5",cy:"12.5",r:".5",fill:"currentColor",key:"16onso"}],["path",{d:"M6 12a2 2 0 0 0 1.8-1.2l.4-.9C8.7 8.8 9.8 8 11 8c2.8 0 5 2.2 5 5 0 1.2-.8 2.3-1.9 2.8l-.9.4A2 2 0 0 0 12 18a4 4 0 0 1-4 4c-3.3 0-6-2.7-6-6a4 4 0 0 1 4-4",key:"x9fguj"}],["path",{d:"m6 16 2 2",key:"16qmzd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=ce("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=ce("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=ce("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=ce("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=ce("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=ce("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=ce("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=ce("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=ce("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=ce("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=ce("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xx=({size:t="sm",animated:e=!1})=>{const n=`
    relative
    ${t==="lg"?"w-24 h-24":"w-8 h-8"}
    ${e?"animate-spin-slow":""}
  `,r=`
    absolute
    inset-0
    bg-indigo-500
    rounded-full
    blur-lg
    opacity-50
    ${e?"animate-pulse":""}
  `,i=`
    absolute
    inset-0
    ${t==="lg"?"p-3":"p-1"}
    text-white
    transform
    ${e?"hover:scale-110":""}
    transition-transform
    duration-300
    z-20
  `,s=`
    absolute
    inset-0
    border-4
    border-indigo-600
    rounded-full
    transform
    rotate-45
    ${e?"animate-pulse-fast":""}
    z-10
  `;return p.jsxs("div",{className:n,children:[p.jsx("div",{className:r}),p.jsx("div",{className:s}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600 to-indigo-800 rounded-full shadow-lg z-0"}),p.jsx(ys,{className:i,fill:"currentColor",size:t==="lg"?72:24,strokeWidth:2,absoluteStrokeWidth:!0})]})},$L=[{id:"Hip-Hop Artist",name:"Hip-Hop Artist",icon:OL,color:"bg-purple-500"},{id:"Singer",name:"Singer",icon:qx,color:"bg-blue-500"},{id:"DJ",name:"DJ",icon:DL,color:"bg-green-500"},{id:"Instrumentalists",name:"Instrumentalists",icon:CL,color:"bg-pink-500"}],WL=[{id:1,name:"John Smith",category:"Musicians",image:"https://images.unsplash.com/photo-1510915361894-db8b60106cb1?auto=format&fit=crop&w=800",price:"$1000/hour"},{id:2,name:"Emma Davis",category:"Actors",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=800",price:"$1500/hour"},{id:3,name:"Michael Jordan",category:"Athletes",image:"https://images.unsplash.com/photo-1539571696357-5a69c17a67c6?auto=format&fit=crop&w=800",price:"$2000/hour"}],zL=[{title:"Browse & Discover",description:"Explore profiles of top artists, bands, and entertainers.",icon:Qx,color:"bg-blue-500"},{title:"Book & Customize",description:"Select your favorite star and personalize the booking.",icon:zx,color:"bg-green-500"},{title:"Secure Payment",description:"Pay safely through our platform.",icon:IL,color:"bg-purple-500"},{title:"Enjoy the Experience",description:"Sit back and enjoy an unforgettable event.",icon:ys,color:"bg-pink-500"}],HL=[{title:"Verified Artists & Secure Payments",description:"All artists are verified and payments are protected.",icon:jL,color:"bg-indigo-500"},{title:"Fast & Easy Booking",description:"Book your favorite artist in minutes.",icon:Hx,color:"bg-green-500"},{title:"Customizable Experiences",description:"Personalize your event exactly how you want it.",icon:UL,color:"bg-purple-500"},{title:"Exclusive Talent",description:"Access to top-tier artists for any occasion.",icon:qg,color:"bg-blue-500"}],YL=[{name:"Sarah Johnson",event:"Wedding Reception",rating:5,comment:"Amazing experience! The booking process was smooth and the artist exceeded our expectations.",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=400"},{name:"David Chen",event:"Corporate Event",rating:5,comment:"Professional service from start to finish. Will definitely use StarConnect again!",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&w=400"}],KL=[{question:"How do I book an artist?",answer:"Simply browse our catalog, select your preferred artist, choose your date and time, and complete the booking process through our secure platform."},{question:"What if an artist cancels?",answer:"We offer full refunds for artist cancellations and will help you find a suitable replacement immediately."},{question:"How do artists get paid?",answer:"Artists receive payment through our secure platform after the event is successfully completed."}],qL=()=>{const t=yl();return p.jsxs("div",{className:"text-gray-900 dark:text-gray-100",children:[p.jsxs("section",{className:"relative h-[600px] flex items-center justify-center text-white overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(https://images.unsplash.com/photo-1492684223066-81342ee5ff30?auto=format&fit=crop&w=1920)"},children:p.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60"})}),p.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto px-4",children:[p.jsx("div",{className:"mb-8 flex justify-center",children:p.jsx(Xx,{size:"lg",animated:!0})}),p.jsx("h1",{className:"text-5xl font-bold mb-6 animate-fade-in",children:"Experience Unforgettable Moments with Your Favorite Rock Stars"}),p.jsx("p",{className:"text-xl mb-8 animate-fade-in-delay",children:"Book personalized experiences."}),p.jsxs("div",{className:"flex justify-center gap-4 animate-fade-in-delay-2",children:[p.jsx("button",{onClick:()=>t("/book-star"),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-lg font-semibold transition transform hover:scale-105",children:"Book a Star"}),p.jsx("button",{onClick:()=>t("/register-star"),className:"bg-white hover:bg-gray-100 text-indigo-600 px-8 py-3 rounded-lg font-semibold transition transform hover:scale-105",children:"Register as a Star"})]})]})]}),p.jsx("section",{className:"py-16 bg-gray-50 dark:bg-gray-800",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:"Browse by Category"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:$L.map(e=>p.jsxs("div",{onClick:()=>t(`/category/${e.id}`),className:"bg-white dark:bg-gray-700 rounded-xl shadow-md p-6 cursor-pointer transform hover:scale-105 transition",children:[p.jsx("div",{className:`${e.color} w-12 h-12 rounded-lg flex items-center justify-center mb-4`,children:p.jsx(e.icon,{className:"w-6 h-6 text-white"})}),p.jsx("h3",{className:"text-xl font-semibold dark:text-white",children:e.name})]},e.id))})]})}),p.jsx("section",{className:"py-16 dark:bg-gray-900",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:"Featured Stars"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:WL.map(e=>p.jsxs("div",{onClick:()=>t(`/star/${e.id}`),className:"bg-white dark:bg-gray-700 rounded-xl shadow-md overflow-hidden cursor-pointer transform hover:scale-105 transition",children:[p.jsx("img",{src:e.image,alt:e.name,className:"w-full h-48 object-cover"}),p.jsxs("div",{className:"p-6",children:[p.jsx("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:e.name}),p.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:e.category}),p.jsx("p",{className:"text-indigo-600 dark:text-indigo-400 font-semibold",children:e.price})]})]},e.id))})]})}),p.jsx("section",{className:"py-16 bg-white dark:bg-gray-900",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:"How It Works"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:zL.map((e,n)=>p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:`${e.color} w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4`,children:p.jsx(e.icon,{className:"w-8 h-8 text-white"})}),p.jsx("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:e.title}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e.description})]},n))})]})}),p.jsx("section",{className:"py-16 bg-gray-50 dark:bg-gray-800",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:"Why Choose StarConnect?"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:HL.map((e,n)=>p.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl shadow-md p-6",children:[p.jsx("div",{className:`${e.color} w-12 h-12 rounded-lg flex items-center justify-center mb-4`,children:p.jsx(e.icon,{className:"w-6 h-6 text-white"})}),p.jsx("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:e.title}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e.description})]},n))})]})}),p.jsx("section",{className:"py-16 bg-white dark:bg-gray-900",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:"What Our Customers Say"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:YL.map((e,n)=>p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-6 shadow-md",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("img",{src:e.image,alt:e.name,className:"w-12 h-12 rounded-full mr-4"}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold dark:text-white",children:e.name}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e.event})]})]}),p.jsx("div",{className:"flex mb-2",children:[...Array(e.rating)].map((r,i)=>p.jsx(ys,{className:"w-5 h-5 text-yellow-400 fill-current"},i))}),p.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:e.comment})]},n))})]})}),p.jsx("section",{className:"py-16 bg-gray-50 dark:bg-gray-800",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:"Frequently Asked Questions"}),p.jsx("div",{className:"max-w-3xl mx-auto",children:KL.map((e,n)=>p.jsxs("div",{className:"mb-6 bg-white dark:bg-gray-700 rounded-lg shadow-md p-6",children:[p.jsx("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:e.question}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e.answer})]},n))})]})})]})},QL=()=>{const{categoryId:t}=pk(),e=yl(),n=[{id:1,name:"John Smith",category:"Musicians",image:"https://images.unsplash.com/photo-1510915361894-db8b60106cb1?auto=format&fit=crop&w=800",price:"$1000/hour",rating:4.8,reviews:156,specialties:["Live Performance","Guitar","Vocals"]},{id:2,name:"Emma Davis",category:"Musicians",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=800",price:"$1500/hour",rating:4.9,reviews:203,specialties:["Piano","Songwriting","Voice Training"]}],r={musicians:{title:"Musicians",description:"Book talented musicians for your events, private performances, or virtual concerts.",image:"https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?auto=format&fit=crop&w=1920"},actors:{title:"Actors",description:"Connect with professional actors for events, workshops, or personalized performances.",image:"https://images.unsplash.com/photo-1598387993441-a364f854c3e1?auto=format&fit=crop&w=1920"}}[t]||{title:"Category Not Found",description:"Please select a valid category",image:"https://images.unsplash.com/photo-1492684223066-81342ee5ff30?auto=format&fit=crop&w=1920"};return p.jsxs("div",{className:"text-gray-900 dark:text-gray-100",children:[p.jsxs("div",{className:"relative h-[300px] flex items-center justify-center text-white",children:[p.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${r.image})`},children:p.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60"})}),p.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto px-4",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:r.title}),p.jsx("p",{className:"text-lg",children:r.description})]})]}),p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[p.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[p.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition",children:[p.jsx(Yx,{className:"w-5 h-5"}),"Price Range"]}),p.jsx("button",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition",children:"Rating (4+)"}),p.jsx("button",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition",children:"Available Today"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(i=>p.jsxs("div",{onClick:()=>e(`/star/${i.id}`),className:"bg-white dark:bg-gray-700 rounded-xl shadow-md overflow-hidden cursor-pointer transform hover:scale-105 transition",children:[p.jsx("img",{src:i.image,alt:i.name,className:"w-full h-48 object-cover"}),p.jsxs("div",{className:"p-6",children:[p.jsx("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:i.name}),p.jsxs("div",{className:"flex items-center mb-3",children:[p.jsx(ys,{className:"w-5 h-5 text-yellow-400"}),p.jsx("span",{className:"ml-1",children:i.rating}),p.jsxs("span",{className:"text-gray-400 dark:text-gray-400 ml-1",children:["(",i.reviews," reviews)"]})]}),p.jsx("div",{className:"mb-4",children:p.jsx("div",{className:"flex flex-wrap gap-2",children:i.specialties.map((s,o)=>p.jsx("span",{className:"bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-200 px-2 py-1 rounded-full text-sm",children:s},o))})}),p.jsx("p",{className:"text-indigo-600 dark:text-indigo-400 font-semibold",children:i.price})]})]},i.id))})]})]})};function Jx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Jx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Jx(t))&&(r&&(r+=" "),r+=e);return r}function is(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function K(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function sl(t){if(!is(t)&&typeof t!="number")return!1;const e=K(t);return!isNaN(Number(e))}const GL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},XL=(t,e,n)=>{let r;const i=GL[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function cf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const JL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ZL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},e4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},t4={date:cf({formats:JL,defaultWidth:"full"}),time:cf({formats:ZL,defaultWidth:"full"}),dateTime:cf({formats:e4,defaultWidth:"full"})},n4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},r4=(t,e,n,r)=>n4[t];function ea(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const i4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},s4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},o4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},a4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},c4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},u4=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},d4={ordinalNumber:u4,era:ea({values:i4,defaultWidth:"wide"}),quarter:ea({values:s4,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ea({values:o4,defaultWidth:"wide"}),day:ea({values:a4,defaultWidth:"wide"}),dayPeriod:ea({values:l4,defaultWidth:"wide",formattingValues:c4,defaultFormattingWidth:"wide"})};function ta(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?f4(a,f=>f.test(o)):h4(a,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function h4(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function f4(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function p4(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const m4=/^(\d+)(th|st|nd|rd)?/i,g4=/\d+/i,y4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},v4={any:[/^b/i,/^(a|c)/i]},_4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},w4={any:[/1/i,/2/i,/3/i,/4/i]},E4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},k4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},T4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},x4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},I4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},S4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},b4={ordinalNumber:p4({matchPattern:m4,parsePattern:g4,valueCallback:t=>parseInt(t,10)}),era:ta({matchPatterns:y4,defaultMatchWidth:"wide",parsePatterns:v4,defaultParseWidth:"any"}),quarter:ta({matchPatterns:_4,defaultMatchWidth:"wide",parsePatterns:w4,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ta({matchPatterns:E4,defaultMatchWidth:"wide",parsePatterns:k4,defaultParseWidth:"any"}),day:ta({matchPatterns:T4,defaultMatchWidth:"wide",parsePatterns:x4,defaultParseWidth:"any"}),dayPeriod:ta({matchPatterns:I4,defaultMatchWidth:"any",parsePatterns:S4,defaultParseWidth:"any"})},Zx={code:"en-US",formatDistance:XL,formatLong:t4,formatRelative:r4,localize:d4,match:b4,options:{weekStartsOn:0,firstWeekContainsDate:1}};let C4={};function vs(){return C4}const eI=6048e5,D4=864e5,Wd=6e4,zd=36e5,P4=1e3;function Un(t){const e=K(t);return e.setHours(0,0,0,0),e}function Hu(t){const e=K(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ol(t,e){const n=Un(t),r=Un(e),i=+n-Hu(n),s=+r-Hu(r);return Math.round((i-s)/D4)}function ye(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Hd(t){const e=K(t),n=ye(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function R4(t){const e=K(t);return ol(e,Hd(e))+1}function kr(t,e){var a,l,u,d;const n=vs(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=K(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function yo(t){return kr(t,{weekStartsOn:1})}function tI(t){const e=K(t),n=e.getFullYear(),r=ye(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=yo(r),s=ye(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=yo(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function N4(t){const e=tI(t),n=ye(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),yo(n)}function Qg(t){const e=K(t),n=+yo(e)-+N4(e);return Math.round(n/eI)+1}function Gg(t,e){var d,f,g,y;const n=K(t),r=n.getFullYear(),i=vs(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(g=i.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,o=ye(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=kr(o,e),l=ye(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=kr(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function A4(t,e){var a,l,u,d;const n=vs(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=Gg(t,e),s=ye(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),kr(s,e)}function nI(t,e){const n=K(t),r=+kr(n,e)-+A4(n,e);return Math.round(r/eI)+1}function ge(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Pr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ge(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ge(n+1,2)},d(t,e){return ge(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ge(t.getHours()%12||12,e.length)},H(t,e){return ge(t.getHours(),e.length)},m(t,e){return ge(t.getMinutes(),e.length)},s(t,e){return ge(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return ge(i,e.length)}},xs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tw={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Pr.y(t,e)},Y:function(t,e,n,r){const i=Gg(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return ge(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):ge(s,e.length)},R:function(t,e){const n=tI(t);return ge(n,e.length)},u:function(t,e){const n=t.getFullYear();return ge(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ge(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ge(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Pr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ge(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=nI(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):ge(i,e.length)},I:function(t,e,n){const r=Qg(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ge(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Pr.d(t,e)},D:function(t,e,n){const r=R4(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ge(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ge(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ge(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return ge(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=xs.noon:r===0?i=xs.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=xs.evening:r>=12?i=xs.afternoon:r>=4?i=xs.morning:i=xs.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Pr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Pr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ge(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ge(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Pr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Pr.s(t,e)},S:function(t,e){return Pr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return rw(r);case"XXXX":case"XX":return Oi(r);case"XXXXX":case"XXX":default:return Oi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return rw(r);case"xxxx":case"xx":return Oi(r);case"xxxxx":case"xxx":default:return Oi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+nw(r,":");case"OOOO":default:return"GMT"+Oi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+nw(r,":");case"zzzz":default:return"GMT"+Oi(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ge(r,e.length)},T:function(t,e,n){const r=t.getTime();return ge(r,e.length)}};function nw(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+ge(s,2)}function rw(t,e){return t%60===0?(t>0?"-":"+")+ge(Math.abs(t)/60,2):Oi(t,e)}function Oi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=ge(Math.trunc(r/60),2),s=ge(r%60,2);return n+i+e+s}const iw=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},rI=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},M4=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return iw(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",iw(r,e)).replace("{{time}}",rI(i,e))},Yu={p:rI,P:M4},O4=/^D+$/,L4=/^Y+$/,V4=["D","DD","YY","YYYY"];function iI(t){return O4.test(t)}function sI(t){return L4.test(t)}function Kp(t,e,n){const r=j4(t,e,n);if(console.warn(r),V4.includes(t))throw new RangeError(r)}function j4(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const F4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,U4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,B4=/^'([^]*?)'?$/,$4=/''/g,W4=/[a-zA-Z]/;function sw(t,e,n){var d,f,g,y,w,I,C,E;const r=vs(),i=(n==null?void 0:n.locale)??r.locale??Zx,s=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(g=r.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((I=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:I.weekStartsOn)??r.weekStartsOn??((E=(C=r.locale)==null?void 0:C.options)==null?void 0:E.weekStartsOn)??0,a=K(t);if(!sl(a))throw new RangeError("Invalid time value");let l=e.match(U4).map(v=>{const T=v[0];if(T==="p"||T==="P"){const N=Yu[T];return N(v,i.formatLong)}return v}).join("").match(F4).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const T=v[0];if(T==="'")return{isToken:!1,value:z4(v)};if(tw[T])return{isToken:!0,value:v};if(T.match(W4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(v=>{if(!v.isToken)return v.value;const T=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&sI(T)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&iI(T))&&Kp(T,e,String(t));const N=tw[T[0]];return N(a,T,i.localize,u)}).join("")}function z4(t){const e=t.match(B4);return e?e[1].replace($4,"'"):t}function Xg(t,e){const n=+K(t);return ye(t,n+e)}function qp(t,e){return Xg(t,e*Wd)}function H4(t,e){return Xg(t,e*zd)}function bi(t,e){const n=K(t);return isNaN(e)?ye(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Ku(t,e){const n=e*7;return bi(t,n)}function Tn(t,e){const n=K(t);if(isNaN(e))return ye(t,NaN);if(!e)return n;const r=n.getDate(),i=ye(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function Jg(t,e){const n=e*3;return Tn(t,n)}function hr(t,e){return Tn(t,e*12)}function Y4(t,e){return bi(t,-e)}function ow(t,e){return Ku(t,-e)}function vo(t,e){return Tn(t,-e)}function oI(t,e){return Jg(t,-e)}function _o(t,e){return hr(t,-e)}function fr(t){return K(t).getSeconds()}function Bn(t){return K(t).getMinutes()}function $n(t){return K(t).getHours()}function K4(t){return K(t).getDay()}function aw(t){return K(t).getDate()}function Mt(t){return K(t).getMonth()}function Wi(t){const e=K(t);return Math.trunc(e.getMonth()/3)+1}function re(t){return K(t).getFullYear()}function Qp(t){return K(t).getTime()}function qc(t,e){const n=K(t);return n.setSeconds(e),n}function Qc(t,e){const n=K(t);return n.setMinutes(e),n}function Gc(t,e){const n=K(t);return n.setHours(e),n}function q4(t){const e=K(t),n=e.getFullYear(),r=e.getMonth(),i=ye(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function At(t,e){const n=K(t),r=n.getFullYear(),i=n.getDate(),s=ye(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=q4(s);return n.setMonth(e,Math.min(i,o)),n}function Ds(t,e){const n=K(t),r=Math.trunc(n.getMonth()/3)+1,i=e-r;return At(n,n.getMonth()+i*3)}function bn(t,e){const n=K(t);return isNaN(+n)?ye(t,NaN):(n.setFullYear(e),n)}function lw(t){let e;return t.forEach(n=>{const r=K(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function cw(t){let e;return t.forEach(function(n){const r=K(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function qu(t,e){const n=K(t),r=K(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function Qu(t,e){const n=K(t),r=K(e);return n.getFullYear()-r.getFullYear()}function Gu(t,e){const n=K(t),r=K(e),i=n.getFullYear()-r.getFullYear(),s=Wi(n)-Wi(r);return i*4+s}function aI(t){const e=K(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Gp(t){const e=K(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function Xp(t){const e=K(t);return e.setHours(23,59,59,999),e}function Q4(t,e){var a,l;const n=vs(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,i=K(t),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function G4(t){const e=K(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function lI(t){const e=K(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function X4(t,e){const n=K(t),r=K(e);return+n==+r}function J4(t,e){const n=Un(t),r=Un(e);return+n==+r}function Z4(t,e){const n=K(t),r=K(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function eV(t,e){const n=K(t),r=K(e);return n.getFullYear()===r.getFullYear()}function tV(t,e){const n=Gp(t),r=Gp(e);return+n==+r}function _i(t,e){const n=K(t),r=K(e);return n.getTime()>r.getTime()}function ss(t,e){const n=K(t),r=K(e);return+n<+r}function al(t,e){const n=+K(t),[r,i]=[+K(e.start),+K(e.end)].sort((s,o)=>s-o);return n>=r&&n<=i}function nV(){return Object.assign({},vs())}function rV(t,e){const n=e instanceof Date?ye(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const iV=10;class cI{constructor(){H(this,"subPriority",0)}validate(e,n){return!0}}class sV extends cI{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class oV extends cI{constructor(){super(...arguments);H(this,"priority",iV);H(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:ye(n,rV(n,Date))}}class pe{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new sV(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class aV extends pe{constructor(){super(...arguments);H(this,"priority",140);H(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const He={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Pn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ye(t,e){return t&&{value:e(t.value),rest:t.rest}}function Ne(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Rn(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*zd+s*Wd+o*P4),rest:e.slice(n[0].length)}}function uI(t){return Ne(He.anyDigitsSigned,t)}function Fe(t,e){switch(t){case 1:return Ne(He.singleDigit,e);case 2:return Ne(He.twoDigits,e);case 3:return Ne(He.threeDigits,e);case 4:return Ne(He.fourDigits,e);default:return Ne(new RegExp("^\\d{1,"+t+"}"),e)}}function Xu(t,e){switch(t){case 1:return Ne(He.singleDigitSigned,e);case 2:return Ne(He.twoDigitsSigned,e);case 3:return Ne(He.threeDigitsSigned,e);case 4:return Ne(He.fourDigitsSigned,e);default:return Ne(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Zg(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function dI(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function hI(t){return t%400===0||t%4===0&&t%100!==0}class lV extends pe{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Ye(Fe(4,n),s);case"yo":return Ye(i.ordinalNumber(n,{unit:"year"}),s);default:return Ye(Fe(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const a=dI(i.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class cV extends pe{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Ye(Fe(4,n),s);case"Yo":return Ye(i.ordinalNumber(n,{unit:"year"}),s);default:return Ye(Fe(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=Gg(n,s);if(i.isTwoDigitYear){const l=dI(i.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),kr(n,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),kr(n,s)}}class uV extends pe{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Xu(r==="R"?4:r.length,n)}set(n,r,i){const s=ye(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),yo(s)}}class dV extends pe{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Xu(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class hV extends pe{constructor(){super(...arguments);H(this,"priority",120);H(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Fe(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class fV extends pe{constructor(){super(...arguments);H(this,"priority",120);H(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Fe(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class pV extends pe{constructor(){super(...arguments);H(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);H(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return Ye(Ne(He.month,n),s);case"MM":return Ye(Fe(2,n),s);case"Mo":return Ye(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class mV extends pe{constructor(){super(...arguments);H(this,"priority",110);H(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return Ye(Ne(He.month,n),s);case"LL":return Ye(Fe(2,n),s);case"Lo":return Ye(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function gV(t,e,n){const r=K(t),i=nI(r,n)-e;return r.setDate(r.getDate()-i*7),r}class yV extends pe{constructor(){super(...arguments);H(this,"priority",100);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Ne(He.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Fe(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return kr(gV(n,i,s),s)}}function vV(t,e){const n=K(t),r=Qg(n)-e;return n.setDate(n.getDate()-r*7),n}class _V extends pe{constructor(){super(...arguments);H(this,"priority",100);H(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Ne(He.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Fe(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return yo(vV(n,i))}}const wV=[31,28,31,30,31,30,31,31,30,31,30,31],EV=[31,29,31,30,31,30,31,31,30,31,30,31];class kV extends pe{constructor(){super(...arguments);H(this,"priority",90);H(this,"subPriority",1);H(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Ne(He.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Fe(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=hI(i),o=n.getMonth();return s?r>=1&&r<=EV[o]:r>=1&&r<=wV[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class TV extends pe{constructor(){super(...arguments);H(this,"priority",90);H(this,"subpriority",1);H(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Ne(He.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Fe(r.length,n)}}validate(n,r){const i=n.getFullYear();return hI(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function ey(t,e,n){var f,g,y,w;const r=vs(),i=(n==null?void 0:n.weekStartsOn)??((g=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((w=(y=r.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??0,s=K(t),o=s.getDay(),l=(e%7+7)%7,u=7-i,d=e<0||e>6?e-(o+u)%7:(l+u)%7-(o+u)%7;return bi(s,d)}class xV extends pe{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=ey(n,i,s),n.setHours(0,0,0,0),n}}class IV extends pe{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Ye(Fe(r.length,n),o);case"eo":return Ye(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=ey(n,i,s),n.setHours(0,0,0,0),n}}class SV extends pe{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Ye(Fe(r.length,n),o);case"co":return Ye(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=ey(n,i,s),n.setHours(0,0,0,0),n}}function bV(t){let n=K(t).getDay();return n===0&&(n=7),n}function CV(t,e){const n=K(t),r=bV(n),i=e-r;return bi(n,i)}class DV extends pe{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return Fe(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Ye(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return Ye(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Ye(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Ye(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=CV(n,i),n.setHours(0,0,0,0),n}}class PV extends pe{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Zg(i),0,0,0),n}}class RV extends pe{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Zg(i),0,0,0),n}}class NV extends pe{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Zg(i),0,0,0),n}}class AV extends pe{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Ne(He.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Fe(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class MV extends pe{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Ne(He.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Fe(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class OV extends pe{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Ne(He.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Fe(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class LV extends pe{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Ne(He.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Fe(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class VV extends pe{constructor(){super(...arguments);H(this,"priority",60);H(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Ne(He.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Fe(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class jV extends pe{constructor(){super(...arguments);H(this,"priority",50);H(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Ne(He.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Fe(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class FV extends pe{constructor(){super(...arguments);H(this,"priority",30);H(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return Ye(Fe(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class UV extends pe{constructor(){super(...arguments);H(this,"priority",10);H(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Rn(Pn.basicOptionalMinutes,n);case"XX":return Rn(Pn.basic,n);case"XXXX":return Rn(Pn.basicOptionalSeconds,n);case"XXXXX":return Rn(Pn.extendedOptionalSeconds,n);case"XXX":default:return Rn(Pn.extended,n)}}set(n,r,i){return r.timestampIsSet?n:ye(n,n.getTime()-Hu(n)-i)}}class BV extends pe{constructor(){super(...arguments);H(this,"priority",10);H(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Rn(Pn.basicOptionalMinutes,n);case"xx":return Rn(Pn.basic,n);case"xxxx":return Rn(Pn.basicOptionalSeconds,n);case"xxxxx":return Rn(Pn.extendedOptionalSeconds,n);case"xxx":default:return Rn(Pn.extended,n)}}set(n,r,i){return r.timestampIsSet?n:ye(n,n.getTime()-Hu(n)-i)}}class $V extends pe{constructor(){super(...arguments);H(this,"priority",40);H(this,"incompatibleTokens","*")}parse(n){return uI(n)}set(n,r,i){return[ye(n,i*1e3),{timestampIsSet:!0}]}}class WV extends pe{constructor(){super(...arguments);H(this,"priority",20);H(this,"incompatibleTokens","*")}parse(n){return uI(n)}set(n,r,i){return[ye(n,i),{timestampIsSet:!0}]}}const zV={G:new aV,y:new lV,Y:new cV,R:new uV,u:new dV,Q:new hV,q:new fV,M:new pV,L:new mV,w:new yV,I:new _V,d:new kV,D:new TV,E:new xV,e:new IV,c:new SV,i:new DV,a:new PV,b:new RV,B:new NV,h:new AV,H:new MV,K:new OV,k:new LV,m:new VV,s:new jV,S:new FV,X:new UV,x:new BV,t:new $V,T:new WV},HV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,YV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KV=/^'([^]*?)'?$/,qV=/''/g,QV=/\S/,GV=/[a-zA-Z]/;function uf(t,e,n,r){var I,C,E,v,T,N,j,F;const i=nV(),s=(r==null?void 0:r.locale)??i.locale??Zx,o=(r==null?void 0:r.firstWeekContainsDate)??((C=(I=r==null?void 0:r.locale)==null?void 0:I.options)==null?void 0:C.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(E=i.locale)==null?void 0:E.options)==null?void 0:v.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((N=(T=r==null?void 0:r.locale)==null?void 0:T.options)==null?void 0:N.weekStartsOn)??i.weekStartsOn??((F=(j=i.locale)==null?void 0:j.options)==null?void 0:F.weekStartsOn)??0;if(e==="")return t===""?K(n):ye(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:s},u=[new oV],d=e.match(YV).map(x=>{const _=x[0];if(_ in Yu){const b=Yu[_];return b(x,s.formatLong)}return x}).join("").match(HV),f=[];for(let x of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&sI(x)&&Kp(x,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&iI(x)&&Kp(x,e,t);const _=x[0],b=zV[_];if(b){const{incompatibleTokens:D}=b;if(Array.isArray(D)){const A=f.find(P=>D.includes(P.token)||P.token===_);if(A)throw new RangeError(`The format string mustn't contain \`${A.fullToken}\` and \`${x}\` at the same time`)}else if(b.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${x}\` and any other token at the same time`);f.push({token:_,fullToken:x});const R=b.run(t,x,s.match,l);if(!R)return ye(n,NaN);u.push(R.setter),t=R.rest}else{if(_.match(GV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if(x==="''"?x="'":_==="'"&&(x=XV(x)),t.indexOf(x)===0)t=t.slice(x.length);else return ye(n,NaN)}}if(t.length>0&&QV.test(t))return ye(n,NaN);const g=u.map(x=>x.priority).sort((x,_)=>_-x).filter((x,_,b)=>b.indexOf(x)===_).map(x=>u.filter(_=>_.priority===x).sort((_,b)=>b.subPriority-_.subPriority)).map(x=>x[0]);let y=K(n);if(isNaN(y.getTime()))return ye(n,NaN);const w={};for(const x of g){if(!x.validate(y,l))return ye(n,NaN);const _=x.set(y,w,l);Array.isArray(_)?(y=_[0],Object.assign(w,_[1])):y=_}return ye(n,y)}function XV(t){return t.match(KV)[1].replace(qV,"'")}function JV(t,e){const r=nj(t);let i;if(r.date){const l=rj(r.date,2);i=ij(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,a;if(r.time&&(o=sj(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=oj(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(s+o),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(s+o+a)}const vc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ZV=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ej=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,tj=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nj(t){const e={},n=t.split(vc.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],vc.timeZoneDelimiter.test(e.date)&&(e.date=t.split(vc.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=vc.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function rj(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function ij(t,e){if(e===null)return new Date(NaN);const n=t.match(ZV);if(!n)return new Date(NaN);const r=!!n[4],i=na(n[1]),s=na(n[2])-1,o=na(n[3]),a=na(n[4]),l=na(n[5])-1;if(r)return dj(e,a,l)?aj(e,a,l):new Date(NaN);{const u=new Date(0);return!cj(e,s,o)||!uj(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}}function na(t){return t?parseInt(t):1}function sj(t){const e=t.match(ej);if(!e)return NaN;const n=df(e[1]),r=df(e[2]),i=df(e[3]);return hj(n,r,i)?n*zd+r*Wd+i*1e3:NaN}function df(t){return t&&parseFloat(t.replace(",","."))||0}function oj(t){if(t==="Z")return 0;const e=t.match(tj);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return fj(r,i)?n*(r*zd+i*Wd):NaN}function aj(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const lj=[31,null,31,30,31,30,31,31,30,31,30,31];function fI(t){return t%400===0||t%4===0&&t%100!==0}function cj(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(lj[e]||(fI(t)?29:28))}function uj(t,e){return e>=1&&e<=(fI(t)?366:365)}function dj(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function hj(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function fj(t,e){return e>=0&&e<=59}function pj(t,e){return Xg(t,e*1e3)}function mj(t,e){let n=K(t);return isNaN(+n)?ye(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=At(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function gj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Jp(t,e)}function Jp(t,e){return Jp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Jp(t,e)}function yj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function uw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vj(t,e,n){return t===e?!0:t.correspondingElement?t.correspondingElement.classList.contains(n):t.classList.contains(n)}function _j(t,e,n){if(t===e)return!0;for(;t.parentNode||t.host;){if(t.parentNode&&vj(t,e,n))return!0;t=t.parentNode||t.host}return t}function wj(t){return document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY}var Ej=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var e=!1,n=Object.defineProperty({},"passive",{get:function(){e=!0}}),r=function(){};return window.addEventListener("testPassiveEventSupport",r,n),window.removeEventListener("testPassiveEventSupport",r,n),e}};function kj(t){return t===void 0&&(t=0),function(){return++t}}var Tj=kj(),Zp,_c={},hf={},xj=["touchstart","touchmove"],Ij="ignore-react-onclickoutside";function dw(t,e){var n={},r=xj.indexOf(e)!==-1;return r&&Zp&&(n.passive=!t.props.preventDefault),n}function Yd(t,e){var n,r,i=t.displayName||t.name||"Component";return r=n=function(s){gj(o,s);function o(l){var u;return u=s.call(this,l)||this,u.__outsideClickHandler=function(d){if(typeof u.__clickOutsideHandlerProp=="function"){u.__clickOutsideHandlerProp(d);return}var f=u.getInstance();if(typeof f.props.handleClickOutside=="function"){f.props.handleClickOutside(d);return}if(typeof f.handleClickOutside=="function"){f.handleClickOutside(d);return}throw new Error("WrappedComponent: "+i+" lacks a handleClickOutside(event) function for processing outside click events.")},u.__getComponentNode=function(){var d=u.getInstance();return typeof d.setClickOutsideRef=="function"?d.setClickOutsideRef():Ed.findDOMNode(d)},u.enableOnClickOutside=function(){if(!(typeof document>"u"||hf[u._uid])){typeof Zp>"u"&&(Zp=Ej()),hf[u._uid]=!0;var d=u.props.eventTypes;d.forEach||(d=[d]),_c[u._uid]=function(f){if(u.componentNode!==null&&!(u.initTimeStamp>f.timeStamp)&&(u.props.preventDefault&&f.preventDefault(),u.props.stopPropagation&&f.stopPropagation(),!(u.props.excludeScrollbar&&wj(f)))){var g=f.composed&&f.composedPath&&f.composedPath().shift()||f.target;_j(g,u.componentNode,u.props.outsideClickIgnoreClass)===document&&u.__outsideClickHandler(f)}},d.forEach(function(f){document.addEventListener(f,_c[u._uid],dw(uw(u),f))})}},u.disableOnClickOutside=function(){delete hf[u._uid];var d=_c[u._uid];if(d&&typeof document<"u"){var f=u.props.eventTypes;f.forEach||(f=[f]),f.forEach(function(g){return document.removeEventListener(g,d,dw(uw(u),g))}),delete _c[u._uid]}},u.getRef=function(d){return u.instanceRef=d},u._uid=Tj(),u.initTimeStamp=performance.now(),u}var a=o.prototype;return a.getInstance=function(){if(t.prototype&&!t.prototype.isReactComponent)return this;var u=this.instanceRef;return u.getInstance?u.getInstance():u},a.componentDidMount=function(){typeof document>"u"||!document.createElement||(this.getInstance(),this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside())},a.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},a.componentWillUnmount=function(){this.disableOnClickOutside()},a.render=function(){var u=this.props;u.excludeScrollbar;var d=yj(u,["excludeScrollbar"]);return t.prototype&&t.prototype.isReactComponent?d.ref=this.getRef:d.wrappedRef=this.getRef,d.disableOnClickOutside=this.disableOnClickOutside,d.enableOnClickOutside=this.enableOnClickOutside,O.createElement(t,d)},o}(O.Component),n.displayName="OnClickOutside("+i+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:!1,outsideClickIgnoreClass:Ij,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return t.getClass?t.getClass():t},r}function Kd(){return typeof window<"u"}function No(t){return pI(t)?(t.nodeName||"").toLowerCase():"#document"}function Jt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qn(t){var e;return(e=(pI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function pI(t){return Kd()?t instanceof Node||t instanceof Jt(t).Node:!1}function Ot(t){return Kd()?t instanceof Element||t instanceof Jt(t).Element:!1}function Yn(t){return Kd()?t instanceof HTMLElement||t instanceof Jt(t).HTMLElement:!1}function hw(t){return!Kd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Jt(t).ShadowRoot}function Cl(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=hn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Sj(t){return["table","td","th"].includes(No(t))}function qd(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function ty(t){const e=ny(),n=Ot(t)?hn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function bj(t){let e=wi(t);for(;Yn(e)&&!wo(e);){if(ty(e))return e;if(qd(e))return null;e=wi(e)}return null}function ny(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wo(t){return["html","body","#document"].includes(No(t))}function hn(t){return Jt(t).getComputedStyle(t)}function Qd(t){return Ot(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function wi(t){if(No(t)==="html")return t;const e=t.assignedSlot||t.parentNode||hw(t)&&t.host||qn(t);return hw(e)?e.host:e}function mI(t){const e=wi(t);return wo(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yn(e)&&Cl(e)?e:mI(e)}function ll(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=mI(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Jt(i);if(s){const a=em(o);return e.concat(o,o.visualViewport||[],Cl(i)?i:[],a&&n?ll(a):[])}return e.concat(i,ll(i,[],n))}function em(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Eo=Math.min,zi=Math.max,Ju=Math.round,wc=Math.floor,Wn=t=>({x:t,y:t}),Cj={left:"right",right:"left",bottom:"top",top:"bottom"},Dj={start:"end",end:"start"};function Pj(t,e,n){return zi(t,Eo(e,n))}function Gd(t,e){return typeof t=="function"?t(e):t}function ko(t){return t.split("-")[0]}function Dl(t){return t.split("-")[1]}function Rj(t){return t==="x"?"y":"x"}function ry(t){return t==="y"?"height":"width"}function cl(t){return["top","bottom"].includes(ko(t))?"y":"x"}function iy(t){return Rj(cl(t))}function Nj(t,e,n){n===void 0&&(n=!1);const r=Dl(t),i=iy(t),s=ry(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Zu(o)),[o,Zu(o)]}function Aj(t){const e=Zu(t);return[tm(t),e,tm(e)]}function tm(t){return t.replace(/start|end/g,e=>Dj[e])}function Mj(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Oj(t,e,n,r){const i=Dl(t);let s=Mj(ko(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(tm)))),s}function Zu(t){return t.replace(/left|right|bottom|top/g,e=>Cj[e])}function Lj(t){return{top:0,right:0,bottom:0,left:0,...t}}function gI(t){return typeof t!="number"?Lj(t):{top:t,right:t,bottom:t,left:t}}function ed(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function fw(t,e,n){let{reference:r,floating:i}=t;const s=cl(e),o=iy(e),a=ry(o),l=ko(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,g=r[a]/2-i[a]/2;let y;switch(l){case"top":y={x:d,y:r.y-i.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-i.width,y:f};break;default:y={x:r.x,y:r.y}}switch(Dl(e)){case"start":y[o]-=g*(n&&u?-1:1);break;case"end":y[o]+=g*(n&&u?-1:1);break}return y}const Vj=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=fw(u,r,l),g=r,y={},w=0;for(let I=0;I<a.length;I++){const{name:C,fn:E}=a[I],{x:v,y:T,data:N,reset:j}=await E({x:d,y:f,initialPlacement:r,placement:g,strategy:i,middlewareData:y,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,f=T??f,y={...y,[C]:{...y[C],...N}},j&&w<=50&&(w++,typeof j=="object"&&(j.placement&&(g=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):j.rects),{x:d,y:f}=fw(u,g,l)),I=-1)}return{x:d,y:f,placement:g,strategy:i,middlewareData:y}};async function jj(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:g=!1,padding:y=0}=Gd(e,t),w=gI(y),C=a[g?f==="floating"?"reference":"floating":f],E=ed(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),N=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},j=ed(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:T,strategy:l}):v);return{top:(E.top-j.top+w.top)/N.y,bottom:(j.bottom-E.bottom+w.bottom)/N.y,left:(E.left-j.left+w.left)/N.x,right:(j.right-E.right+w.right)/N.x}}const Fj=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Gd(t,e)||{};if(u==null)return{};const f=gI(d),g={x:n,y:r},y=iy(i),w=ry(y),I=await o.getDimensions(u),C=y==="y",E=C?"top":"left",v=C?"bottom":"right",T=C?"clientHeight":"clientWidth",N=s.reference[w]+s.reference[y]-g[y]-s.floating[w],j=g[y]-s.reference[y],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let x=F?F[T]:0;(!x||!await(o.isElement==null?void 0:o.isElement(F)))&&(x=a.floating[T]||s.floating[w]);const _=N/2-j/2,b=x/2-I[w]/2-1,D=Eo(f[E],b),R=Eo(f[v],b),A=D,P=x-I[w]-R,ae=x/2-I[w]/2+_,Ge=Pj(A,ae,P),xe=!l.arrow&&Dl(i)!=null&&ae!==Ge&&s.reference[w]/2-(ae<A?D:R)-I[w]/2<0,ke=xe?ae<A?ae-A:ae-P:0;return{[y]:g[y]+ke,data:{[y]:Ge,centerOffset:ae-Ge-ke,...xe&&{alignmentOffset:ke}},reset:xe}}}),Uj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:I=!0,...C}=Gd(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=ko(i),v=cl(a),T=ko(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(u.floating)),j=g||(T||!I?[Zu(a)]:Aj(a)),F=w!=="none";!g&&F&&j.push(...Oj(a,I,w,N));const x=[a,...j],_=await jj(e,C),b=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&b.push(_[E]),f){const ae=Nj(i,o,N);b.push(_[ae[0]],_[ae[1]])}if(D=[...D,{placement:i,overflows:b}],!b.every(ae=>ae<=0)){var R,A;const ae=(((R=s.flip)==null?void 0:R.index)||0)+1,Ge=x[ae];if(Ge)return{data:{index:ae,overflows:D},reset:{placement:Ge}};let xe=(A=D.filter(ke=>ke.overflows[0]<=0).sort((ke,B)=>ke.overflows[1]-B.overflows[1])[0])==null?void 0:A.placement;if(!xe)switch(y){case"bestFit":{var P;const ke=(P=D.filter(B=>{if(F){const Q=cl(B.placement);return Q===v||Q==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(Q=>Q>0).reduce((Q,J)=>Q+J,0)]).sort((B,Q)=>B[1]-Q[1])[0])==null?void 0:P[0];ke&&(xe=ke);break}case"initialPlacement":xe=a;break}if(i!==xe)return{reset:{placement:xe}}}return{}}}};async function Bj(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ko(n),a=Dl(n),l=cl(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,f=Gd(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof w=="number"&&(y=a==="end"?w*-1:w),l?{x:y*d,y:g*u}:{x:g*u,y:y*d}}const $j=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Bj(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}};function yI(t){const e=hn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Yn(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Ju(n)!==s||Ju(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function sy(t){return Ot(t)?t:t.contextElement}function Zs(t){const e=sy(t);if(!Yn(e))return Wn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=yI(e);let o=(s?Ju(n.width):n.width)/r,a=(s?Ju(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Wj=Wn(0);function vI(t){const e=Jt(t);return!ny()||!e.visualViewport?Wj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zj(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Jt(t)?!1:e}function os(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=sy(t);let o=Wn(1);e&&(r?Ot(r)&&(o=Zs(r)):o=Zs(t));const a=zj(s,n,r)?vI(s):Wn(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const g=Jt(s),y=r&&Ot(r)?Jt(r):r;let w=g,I=em(w);for(;I&&r&&y!==w;){const C=Zs(I),E=I.getBoundingClientRect(),v=hn(I),T=E.left+(I.clientLeft+parseFloat(v.paddingLeft))*C.x,N=E.top+(I.clientTop+parseFloat(v.paddingTop))*C.y;l*=C.x,u*=C.y,d*=C.x,f*=C.y,l+=T,u+=N,w=Jt(I),I=em(w)}}return ed({width:d,height:f,x:l,y:u})}function oy(t,e){const n=Qd(t).scrollLeft;return e?e.left+n:os(qn(t)).left+n}function _I(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:oy(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function Hj(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=qn(r),a=e?qd(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Wn(1);const d=Wn(0),f=Yn(r);if((f||!f&&!s)&&((No(r)!=="body"||Cl(o))&&(l=Qd(r)),Yn(r))){const y=os(r);u=Zs(r),d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}const g=o&&!f&&!s?_I(o,l,!0):Wn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+g.x,y:n.y*u.y-l.scrollTop*u.y+d.y+g.y}}function Yj(t){return Array.from(t.getClientRects())}function Kj(t){const e=qn(t),n=Qd(t),r=t.ownerDocument.body,i=zi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=zi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+oy(t);const a=-n.scrollTop;return hn(r).direction==="rtl"&&(o+=zi(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function qj(t,e){const n=Jt(t),r=qn(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=ny();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Qj(t,e){const n=os(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Yn(t)?Zs(t):Wn(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function pw(t,e,n){let r;if(e==="viewport")r=qj(t,n);else if(e==="document")r=Kj(qn(t));else if(Ot(e))r=Qj(e,n);else{const i=vI(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ed(r)}function wI(t,e){const n=wi(t);return n===e||!Ot(n)||wo(n)?!1:hn(n).position==="fixed"||wI(n,e)}function Gj(t,e){const n=e.get(t);if(n)return n;let r=ll(t,[],!1).filter(a=>Ot(a)&&No(a)!=="body"),i=null;const s=hn(t).position==="fixed";let o=s?wi(t):t;for(;Ot(o)&&!wo(o);){const a=hn(o),l=ty(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Cl(o)&&!l&&wI(t,o))?r=r.filter(d=>d!==o):i=a,o=wi(o)}return e.set(t,r),r}function Xj(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?qd(e)?[]:Gj(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=pw(e,d,i);return u.top=zi(f.top,u.top),u.right=Eo(f.right,u.right),u.bottom=Eo(f.bottom,u.bottom),u.left=zi(f.left,u.left),u},pw(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Jj(t){const{width:e,height:n}=yI(t);return{width:e,height:n}}function Zj(t,e,n){const r=Yn(e),i=qn(e),s=n==="fixed",o=os(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Wn(0);if(r||!r&&!s)if((No(e)!=="body"||Cl(i))&&(a=Qd(e)),r){const g=os(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&(l.x=oy(i));const u=i&&!r&&!s?_I(i,a):Wn(0),d=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function ff(t){return hn(t).position==="static"}function mw(t,e){if(!Yn(t)||hn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return qn(t)===n&&(n=n.ownerDocument.body),n}function EI(t,e){const n=Jt(t);if(qd(t))return n;if(!Yn(t)){let i=wi(t);for(;i&&!wo(i);){if(Ot(i)&&!ff(i))return i;i=wi(i)}return n}let r=mw(t,e);for(;r&&Sj(r)&&ff(r);)r=mw(r,e);return r&&wo(r)&&ff(r)&&!ty(r)?n:r||bj(t)||n}const eF=async function(t){const e=this.getOffsetParent||EI,n=this.getDimensions,r=await n(t.floating);return{reference:Zj(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function tF(t){return hn(t).direction==="rtl"}const nF={convertOffsetParentRelativeRectToViewportRelativeRect:Hj,getDocumentElement:qn,getClippingRect:Xj,getOffsetParent:EI,getElementRects:eF,getClientRects:Yj,getDimensions:Jj,getScale:Zs,isElement:Ot,isRTL:tF};function kI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function rF(t,e){let n=null,r;const i=qn(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:g,height:y}=u;if(a||e(),!g||!y)return;const w=wc(f),I=wc(i.clientWidth-(d+g)),C=wc(i.clientHeight-(f+y)),E=wc(d),T={rootMargin:-w+"px "+-I+"px "+-C+"px "+-E+"px",threshold:zi(0,Eo(1,l))||1};let N=!0;function j(F){const x=F[0].intersectionRatio;if(x!==l){if(!N)return o();x?o(!1,x):r=setTimeout(()=>{o(!1,1e-7)},1e3)}x===1&&!kI(u,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(j,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(j,T)}n.observe(t)}return o(!0),s}function iF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=sy(t),d=i||s?[...u?ll(u):[],...ll(e)]:[];d.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const f=u&&a?rF(u,n):null;let g=-1,y=null;o&&(y=new ResizeObserver(E=>{let[v]=E;v&&v.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(e)})),n()}),u&&!l&&y.observe(u),y.observe(e));let w,I=l?os(t):null;l&&C();function C(){const E=os(t);I&&!kI(I,E)&&n(),I=E,w=requestAnimationFrame(C)}return n(),()=>{var E;d.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),f==null||f(),(E=y)==null||E.disconnect(),y=null,l&&cancelAnimationFrame(w)}}const sF=$j,oF=Uj,gw=Fj,aF=(t,e,n)=>{const r=new Map,i={platform:nF,...n},s={...i.platform,_c:r};return Vj(t,e,{...i,platform:s})};var Xc=typeof document<"u"?O.useLayoutEffect:O.useEffect;function td(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!td(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!td(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function TI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function yw(t,e){const n=TI(t);return Math.round(e*n)/n}function pf(t){const e=O.useRef(t);return Xc(()=>{e.current=t}),e}function lF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=O.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=O.useState(r);td(g,r)||y(r);const[w,I]=O.useState(null),[C,E]=O.useState(null),v=O.useCallback(B=>{B!==F.current&&(F.current=B,I(B))},[]),T=O.useCallback(B=>{B!==x.current&&(x.current=B,E(B))},[]),N=s||w,j=o||C,F=O.useRef(null),x=O.useRef(null),_=O.useRef(d),b=l!=null,D=pf(l),R=pf(i),A=pf(u),P=O.useCallback(()=>{if(!F.current||!x.current)return;const B={placement:e,strategy:n,middleware:g};R.current&&(B.platform=R.current),aF(F.current,x.current,B).then(Q=>{const J={...Q,isPositioned:A.current!==!1};ae.current&&!td(_.current,J)&&(_.current=J,Ed.flushSync(()=>{f(J)}))})},[g,e,n,R,A]);Xc(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[u]);const ae=O.useRef(!1);Xc(()=>(ae.current=!0,()=>{ae.current=!1}),[]),Xc(()=>{if(N&&(F.current=N),j&&(x.current=j),N&&j){if(D.current)return D.current(N,j,P);P()}},[N,j,P,D,b]);const Ge=O.useMemo(()=>({reference:F,floating:x,setReference:v,setFloating:T}),[v,T]),xe=O.useMemo(()=>({reference:N,floating:j}),[N,j]),ke=O.useMemo(()=>{const B={position:n,left:0,top:0};if(!xe.floating)return B;const Q=yw(xe.floating,d.x),J=yw(xe.floating,d.y);return a?{...B,transform:"translate("+Q+"px, "+J+"px)",...TI(xe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:J}},[n,a,xe.floating,d.x,d.y]);return O.useMemo(()=>({...d,update:P,refs:Ge,elements:xe,floatingStyles:ke}),[d,P,Ge,xe,ke])}const cF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?gw({element:r.current,padding:i}).fn(n):{}:r?gw({element:r,padding:i}).fn(n):{}}}},uF=(t,e)=>({...sF(t),options:[t,e]}),dF=(t,e)=>({...oF(t),options:[t,e]}),hF=(t,e)=>({...cF(t),options:[t,e]}),xI={...nE},fF=xI.useInsertionEffect,pF=fF||(t=>t());function mF(t){const e=O.useRef(()=>{});return pF(()=>{e.current=t}),O.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var nd=typeof document<"u"?O.useLayoutEffect:O.useEffect;function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nm.apply(this,arguments)}let vw=!1,gF=0;const _w=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+gF++;function yF(){const[t,e]=O.useState(()=>vw?_w():void 0);return nd(()=>{t==null&&e(_w())},[]),O.useEffect(()=>{vw=!0},[]),t}const vF=xI.useId,II=vF||yF,_F=O.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:a=14,height:l=7,tipRadius:u=0,strokeWidth:d=0,staticOffset:f,stroke:g,d:y,style:{transform:w,...I}={},...C}=e,E=II(),[v,T]=O.useState(!1);if(nd(()=>{if(!i)return;hn(i).direction==="rtl"&&T(!0)},[i]),!i)return null;const[N,j]=r.split("-"),F=N==="top"||N==="bottom";let x=f;(F&&o!=null&&o.x||!F&&o!=null&&o.y)&&(x=null);const _=d*2,b=_/2,D=a/2*(u/-8+1),R=l/2*u/4,A=!!y,P=x&&j==="end"?"bottom":"top";let ae=x&&j==="end"?"right":"left";x&&v&&(ae=j==="end"?"left":"right");const Ge=(s==null?void 0:s.x)!=null?x||s.x:"",xe=(s==null?void 0:s.y)!=null?x||s.y:"",ke=y||"M0,0"+(" H"+a)+(" L"+(a-D)+","+(l-R))+(" Q"+a/2+","+l+" "+D+","+(l-R))+" Z",B={top:A?"rotate(180deg)":"",left:A?"rotate(90deg)":"rotate(-90deg)",bottom:A?"":"rotate(180deg)",right:A?"rotate(-90deg)":"rotate(90deg)"}[N];return O.createElement("svg",nm({},C,{"aria-hidden":!0,ref:n,width:A?a:a+_,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[ae]:Ge,[P]:xe,[N]:F||A?"100%":"calc(100% - "+_/2+"px)",transform:[B,w].filter(Q=>!!Q).join(" "),...I}}),_>0&&O.createElement("path",{clipPath:"url(#"+E+")",fill:"none",stroke:g,strokeWidth:_+(y?0:1),d:ke}),O.createElement("path",{stroke:_&&!y?C.fill:"none",d:ke}),O.createElement("clipPath",{id:E},O.createElement("rect",{x:-b,y:b*(A?-1:1),width:a+_,height:a})))});function wF(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const EF=O.createContext(null),kF=O.createContext(null),TF=()=>{var t;return((t=O.useContext(EF))==null?void 0:t.id)||null},xF=()=>O.useContext(kF);function IF(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=II(),s=O.useRef({}),[o]=O.useState(()=>wF()),a=TF()!=null,[l,u]=O.useState(r.reference),d=mF((y,w,I)=>{s.current.openEvent=y?w:void 0,o.emit("openchange",{open:y,event:w,reason:I,nested:a}),n==null||n(y,w,I)}),f=O.useMemo(()=>({setPositionReference:u}),[]),g=O.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return O.useMemo(()=>({dataRef:s,open:e,onOpenChange:d,elements:g,events:o,floatingId:i,refs:f}),[e,d,g,o,i,f])}function SF(t){t===void 0&&(t={});const{nodeId:e}=t,n=IF({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=O.useState(null),[a,l]=O.useState(null),d=(i==null?void 0:i.domReference)||s,f=O.useRef(null),g=xF();nd(()=>{d&&(f.current=d)},[d]);const y=lF({...t,elements:{...i,...a&&{reference:a}}}),w=O.useCallback(T=>{const N=Ot(T)?{getBoundingClientRect:()=>T.getBoundingClientRect(),contextElement:T}:T;l(N),y.refs.setReference(N)},[y.refs]),I=O.useCallback(T=>{(Ot(T)||T===null)&&(f.current=T,o(T)),(Ot(y.refs.reference.current)||y.refs.reference.current===null||T!==null&&!Ot(T))&&y.refs.setReference(T)},[y.refs]),C=O.useMemo(()=>({...y.refs,setReference:I,setPositionReference:w,domReference:f}),[y.refs,I,w]),E=O.useMemo(()=>({...y.elements,domReference:d}),[y.elements,d]),v=O.useMemo(()=>({...y,...r,refs:C,elements:E,nodeId:e}),[y,C,E,e,r]);return nd(()=>{r.dataRef.current.floatingContext=v;const T=g==null?void 0:g.nodesRef.current.find(N=>N.id===e);T&&(T.context=v)}),O.useMemo(()=>({...y,context:v,refs:C,elements:E}),[y,C,E,v])}/*!
  react-datepicker v6.9.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/function ot(t,e,n){return e=rd(e),DF(t,SI()?Reflect.construct(e,n||[],rd(t).constructor):e.apply(t,n))}function SI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SI=function(){return!!t})()}function ww(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ww(Object(n),!0).forEach(function(r){S(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ww(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bI(t){var e=bF(t,"string");return typeof e=="symbol"?e:e+""}function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function at(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ew(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bI(r.key),r)}}function lt(t,e,n){return e&&Ew(t.prototype,e),n&&Ew(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function S(t,e,n){return e=bI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ul.apply(this,arguments)}function ct(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&im(t,e)}function rd(t){return rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rd(t)}function im(t,e){return im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},im(t,e)}function CF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DF(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CF(t)}function Ei(t){return PF(t)||RF(t)||NF(t)||AF()}function PF(t){if(Array.isArray(t))return sm(t)}function RF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NF(t,e){if(t){if(typeof t=="string")return sm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sm(t,e)}}function sm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Pl=12,MF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function ve(t){var e=t?typeof t=="string"||t instanceof String?JV(t):K(t):new Date;return Mr(e)?e:null}function OF(t,e,n,r,i){var s=null,o=ci(n)||ci(Hi()),a=!0;return Array.isArray(e)?(e.forEach(function(l){var u=uf(t,l,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(a=Mr(u,i)&&t===Ce(u,l,n)),Mr(u,i)&&a&&(s=u)}),s):(s=uf(t,e,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r?a=Mr(s)&&t===Ce(s,e,n):Mr(s)||(e=e.match(MF).map(function(l){var u=l[0];if(u==="p"||u==="P"){var d=Yu[u];return o?d(l,o.formatLong):u}return l}).join(""),t.length>0&&(s=uf(t,e.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Mr(s)||(s=new Date(t))),Mr(s)&&a?s:null)}function Mr(t,e){return e=e||new Date("1/1/1000"),sl(t)&&!ss(t,e)}function Ce(t,e,n){if(n==="en")return sw(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=ci(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&Hi()&&ci(Hi())&&(r=ci(Hi())),sw(t,e,{locale:r||null,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function nn(t,e){var n=e.dateFormat,r=e.locale;return t&&Ce(t,Array.isArray(n)?n[0]:n,r)||""}function LF(t,e,n){if(!t)return"";var r=nn(t,n),i=e?nn(e,n):"";return"".concat(r," - ").concat(i)}function VF(t,e){if(!(t!=null&&t.length))return"";var n=nn(t[0],e);if(t.length===1)return n;if(t.length===2){var r=nn(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function mf(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,s=i===void 0?0:i,o=e.second,a=o===void 0?0:o;return Gc(Qc(qc(t,a),s),r)}function jF(t,e){return Hi()&&ci(Hi()),Qg(t)}function FF(t,e){return Ce(t,"ddd",e)}function UF(t){return Un(t)}function ai(t,e,n){var r=ci(e||Hi());return kr(t,{locale:r,weekStartsOn:n})}function li(t){return aI(t)}function fa(t){return Hd(t)}function kw(t){return Gp(t)}function Tw(){return Un(ve())}function BF(t){return Q4(t)}function Cn(t,e){return t&&e?eV(t,e):!t&&!e}function Kt(t,e){return t&&e?Z4(t,e):!t&&!e}function id(t,e){return t&&e?tV(t,e):!t&&!e}function fe(t,e){return t&&e?J4(t,e):!t&&!e}function Ui(t,e){return t&&e?X4(t,e):!t&&!e}function pa(t,e,n){var r,i=Un(e),s=Xp(n);try{r=al(t,{start:i,end:s})}catch{r=!1}return r}function Hi(){var t=typeof window<"u"?window:globalThis;return t.__localeId__}function ci(t){if(typeof t=="string"){var e=typeof window<"u"?window:globalThis;return e.__localeData__?e.__localeData__[t]:null}else return t}function $F(t,e,n){return e(Ce(t,"EEEE",n))}function WF(t,e){return Ce(t,"EEEEEE",e)}function zF(t,e){return Ce(t,"EEE",e)}function ay(t,e){return Ce(At(ve(),t),"LLLL",e)}function CI(t,e){return Ce(At(ve(),t),"LLL",e)}function HF(t,e){return Ce(Ds(ve(),t),"QQQ",e)}function Xd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,s=e.excludeDateIntervals,o=e.includeDates,a=e.includeDateIntervals,l=e.filterDate;return Jd(t,{minDate:n,maxDate:r})||i&&i.some(function(u){return fe(t,u.date?u.date:u)})||s&&s.some(function(u){var d=u.start,f=u.end;return al(t,{start:d,end:f})})||o&&!o.some(function(u){return fe(t,u)})||a&&!a.some(function(u){var d=u.start,f=u.end;return al(t,{start:d,end:f})})||l&&!l(ve(t))||!1}function ly(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.excludeDates,r=e.excludeDateIntervals;return r&&r.length>0?r.some(function(i){var s=i.start,o=i.end;return al(t,{start:s,end:o})}):n&&n.some(function(i){return fe(t,i.date?i.date:i)})||!1}function Jc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,s=e.includeDates,o=e.filterDate;return Jd(t,{minDate:aI(n),maxDate:G4(r)})||i&&i.some(function(a){return Kt(t,a)})||s&&!s.some(function(a){return Kt(t,a)})||o&&!o(ve(t))||!1}function Ec(t,e,n,r){var i=re(t),s=Mt(t),o=re(e),a=Mt(e),l=re(r);if(i===o&&i===l)return s<=n&&n<=a;if(i<o)return l===i&&s<=n||l===o&&a>=n||l<o&&l>i}function gf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,s=e.includeDates,o=e.filterDate;return Jd(t,{minDate:n,maxDate:r})||i&&i.some(function(a){return id(t,a)})||s&&!s.some(function(a){return id(t,a)})||o&&!o(ve(t))||!1}function kc(t,e,n){if(!sl(e)||!sl(n))return!1;var r=re(e),i=re(n);return r<=t&&i>=t}function DI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,s=e.includeDates,o=e.filterDate,a=new Date(t,0,1);return Jd(a,{minDate:Hd(n),maxDate:lI(r)})||i&&i.some(function(l){return Cn(a,l)})||s&&!s.some(function(l){return Cn(a,l)})||o&&!o(ve(a))||!1}function Tc(t,e,n,r){var i=re(t),s=Wi(t),o=re(e),a=Wi(e),l=re(r);if(i===o&&i===l)return s<=n&&n<=a;if(i<o)return l===i&&s<=n||l===o&&a>=n||l<o&&l>i}function Jd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate;return n&&ol(t,n)<0||r&&ol(t,r)>0}function xw(t,e){return e.some(function(n){return $n(n)===$n(t)&&Bn(n)===Bn(t)&&fr(n)===fr(t)})}function Iw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.excludeTimes,r=e.includeTimes,i=e.filterTime;return n&&xw(t,n)||r&&!xw(t,r)||i&&!i(t)||!1}function Sw(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=ve();i=Gc(i,$n(t)),i=Qc(i,Bn(t)),i=qc(i,fr(t));var s=ve();s=Gc(s,$n(n)),s=Qc(s,Bn(n)),s=qc(s,fr(n));var o=ve();o=Gc(o,$n(r)),o=Qc(o,Bn(r)),o=qc(o,fr(r));var a;try{a=!al(i,{start:s,end:o})}catch{a=!1}return a}function bw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.includeDates,i=vo(t,1);return n&&qu(n,i)>0||r&&r.every(function(s){return qu(s,i)>0})||!1}function Cw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.includeDates,i=Tn(t,1);return n&&qu(i,n)>0||r&&r.every(function(s){return qu(i,s)>0})||!1}function YF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.includeDates,i=Hd(t),s=oI(i,1);return n&&Gu(n,s)>0||r&&r.every(function(o){return Gu(o,s)>0})||!1}function KF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.includeDates,i=lI(t),s=Jg(i,1);return n&&Gu(s,n)>0||r&&r.every(function(o){return Gu(s,o)>0})||!1}function Dw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.includeDates,i=_o(t,1);return n&&Qu(n,i)>0||r&&r.every(function(s){return Qu(s,i)>0})||!1}function qF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.yearItemNumber,i=r===void 0?Pl:r,s=fa(_o(t,i)),o=Yr(s,i),a=o.endPeriod,l=n&&re(n);return l&&l>a||!1}function Pw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.includeDates,i=hr(t,1);return n&&Qu(i,n)>0||r&&r.every(function(s){return Qu(i,s)>0})||!1}function QF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.yearItemNumber,i=r===void 0?Pl:r,s=hr(t,i),o=Yr(s,i),a=o.startPeriod,l=n&&re(n);return l&&l<a||!1}function PI(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return ol(i,e)>=0});return lw(r)}else return n?lw(n):e}function RI(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return ol(i,e)<=0});return cw(r)}else return n?cw(n):e}function Rw(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,i=t.length;r<i;r++){var s=t[r];if(is(s)){var o=Ce(s,"MM.dd.yyyy"),a=n.get(o)||[];a.includes(e)||(a.push(e),n.set(o,a))}else if(rm(s)==="object"){var l=Object.keys(s),u=l[0],d=s[l[0]];if(typeof u=="string"&&d.constructor===Array)for(var f=0,g=d.length;f<g;f++){var y=Ce(d[f],"MM.dd.yyyy"),w=n.get(y)||[];w.includes(u)||(w.push(u),n.set(y,w))}}}return n}function GF(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function XF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--holidays",n=new Map;return t.forEach(function(r){var i=r.date,s=r.holidayName;if(is(i)){var o=Ce(i,"MM.dd.yyyy"),a=n.get(o)||{};if(!("className"in a&&a.className===e&&GF(a.holidayNames,[s]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?[].concat(Ei(l),[s]):[s],n.set(o,a)}}}),n}function JF(t,e,n,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var l=t;l=H4(l,$n(i[a])),l=qp(l,Bn(i[a])),l=pj(l,fr(i[a]));var u=qp(t,(n+1)*r);_i(l,e)&&ss(l,u)&&o.push(i[a])}return o}function Nw(t){return t<10?"0".concat(t):"".concat(t)}function Yr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pl,n=Math.ceil(re(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function ZF(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function Aw(t){var e=t.getSeconds(),n=t.getMilliseconds();return K(t.getTime()-e*1e3-n)}function e3(t,e){return Aw(t).getTime()===Aw(e).getTime()}function Mw(t){if(!is(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function Ow(t,e){if(!is(t)||!is(e))throw new Error("Invalid date received");var n=Mw(t),r=Mw(e);return ss(n,r)}function NI(t){var e=" ";return t.key===e}function t3(t,e,n,r){for(var i=[],s=0;s<2*e+1;s++){var o=t+e-s,a=!0;n&&(a=re(n)<=o),r&&a&&(a=re(r)>=o),a&&i.push(o)}return i}var n3=function(t){function e(n){var r;at(this,e),r=ot(this,e,[n]),S(r,"renderOptions",function(){var a=r.props.year,l=r.state.yearsList.map(function(f){return L.createElement("div",{className:a===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:r.onChange.bind(r,f),"aria-selected":a===f?"true":void 0},a===f?L.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",f)}),u=r.props.minDate?re(r.props.minDate):null,d=r.props.maxDate?re(r.props.maxDate):null;return(!d||!r.state.yearsList.find(function(f){return f===d}))&&l.unshift(L.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},L.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!r.state.yearsList.find(function(f){return f===u}))&&l.push(L.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},L.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l}),S(r,"onChange",function(a){r.props.onChange(a)}),S(r,"handleClickOutside",function(){r.props.onCancel()}),S(r,"shiftYears",function(a){var l=r.state.yearsList.map(function(u){return u+a});r.setState({yearsList:l})}),S(r,"incrementYears",function(){return r.shiftYears(1)}),S(r,"decrementYears",function(){return r.shiftYears(-1)});var i=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:t3(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=O.createRef(),r}return ct(e,t),lt(e,[{key:"componentDidMount",value:function(){var r=this.dropdownRef.current;if(r){var i=r.children?Array.from(r.children):null,s=i?i.find(function(o){return o.ariaSelected}):null;r.scrollTop=s?s.offsetTop+(s.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}}},{key:"render",value:function(){var r=mt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return L.createElement("div",{className:r,ref:this.dropdownRef},this.renderOptions())}}])}(L.Component),r3=Yd(n3),i3=function(t){function e(){var n;at(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=ot(this,e,[].concat(i)),S(n,"state",{dropdownVisible:!1}),S(n,"renderSelectOptions",function(){for(var o=n.props.minDate?re(n.props.minDate):1900,a=n.props.maxDate?re(n.props.maxDate):2100,l=[],u=o;u<=a;u++)l.push(L.createElement("option",{key:u,value:u},u));return l}),S(n,"onSelectChange",function(o){n.onChange(o.target.value)}),S(n,"renderSelectMode",function(){return L.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())}),S(n,"renderReadView",function(o){return L.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(l){return n.toggleDropdown(l)}},L.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),L.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))}),S(n,"renderDropdown",function(){return L.createElement(r3,{key:"dropdown",year:n.props.year,onChange:n.onChange,onCancel:n.toggleDropdown,minDate:n.props.minDate,maxDate:n.props.maxDate,scrollableYearDropdown:n.props.scrollableYearDropdown,yearDropdownItemNumber:n.props.yearDropdownItemNumber})}),S(n,"renderScrollMode",function(){var o=n.state.dropdownVisible,a=[n.renderReadView(!o)];return o&&a.unshift(n.renderDropdown()),a}),S(n,"onChange",function(o){n.toggleDropdown(),o!==n.props.year&&n.props.onChange(o)}),S(n,"toggleDropdown",function(o){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,o)})}),S(n,"handleYearChange",function(o,a){n.onSelect(o,a),n.setOpen()}),S(n,"onSelect",function(o,a){n.props.onSelect&&n.props.onSelect(o,a)}),S(n,"setOpen",function(){n.props.setOpen&&n.props.setOpen(!0)}),n}return ct(e,t),lt(e,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return L.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])}(L.Component),s3=function(t){function e(){var n;at(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=ot(this,e,[].concat(i)),S(n,"isSelectedMonth",function(o){return n.props.month===o}),S(n,"renderOptions",function(){return n.props.monthNames.map(function(o,a){return L.createElement("div",{className:n.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:n.onChange.bind(n,a),"aria-selected":n.isSelectedMonth(a)?"true":void 0},n.isSelectedMonth(a)?L.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",o)})}),S(n,"onChange",function(o){return n.props.onChange(o)}),S(n,"handleClickOutside",function(){return n.props.onCancel()}),n}return ct(e,t),lt(e,[{key:"render",value:function(){return L.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}])}(L.Component),o3=Yd(s3),a3=function(t){function e(){var n;at(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=ot(this,e,[].concat(i)),S(n,"state",{dropdownVisible:!1}),S(n,"renderSelectOptions",function(o){return o.map(function(a,l){return L.createElement("option",{key:l,value:l},a)})}),S(n,"renderSelectMode",function(o){return L.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(l){return n.onChange(l.target.value)}},n.renderSelectOptions(o))}),S(n,"renderReadView",function(o,a){return L.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},L.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),L.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[n.props.month]))}),S(n,"renderDropdown",function(o){return L.createElement(o3,{key:"dropdown",month:n.props.month,monthNames:o,onChange:n.onChange,onCancel:n.toggleDropdown})}),S(n,"renderScrollMode",function(o){var a=n.state.dropdownVisible,l=[n.renderReadView(!a,o)];return a&&l.unshift(n.renderDropdown(o)),l}),S(n,"onChange",function(o){n.toggleDropdown(),o!==n.props.month&&n.props.onChange(o)}),S(n,"toggleDropdown",function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})}),n}return ct(e,t),lt(e,[{key:"render",value:function(){var r=this,i=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return CI(o,r.props.locale)}:function(o){return ay(o,r.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(i);break;case"select":s=this.renderSelectMode(i);break}return L.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)}}])}(L.Component);function l3(t,e){for(var n=[],r=li(t),i=li(e);!_i(r,i);)n.push(ve(r)),r=Tn(r,1);return n}var c3=function(t){function e(n){var r;return at(this,e),r=ot(this,e,[n]),S(r,"renderOptions",function(){return r.state.monthYearsList.map(function(i){var s=Qp(i),o=Cn(r.props.date,i)&&Kt(r.props.date,i);return L.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?L.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Ce(i,r.props.dateFormat,r.props.locale))})}),S(r,"onChange",function(i){return r.props.onChange(i)}),S(r,"handleClickOutside",function(){r.props.onCancel()}),r.state={monthYearsList:l3(r.props.minDate,r.props.maxDate)},r}return ct(e,t),lt(e,[{key:"render",value:function(){var r=mt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return L.createElement("div",{className:r},this.renderOptions())}}])}(L.Component),u3=Yd(c3),d3=function(t){function e(){var n;at(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=ot(this,e,[].concat(i)),S(n,"state",{dropdownVisible:!1}),S(n,"renderSelectOptions",function(){for(var o=li(n.props.minDate),a=li(n.props.maxDate),l=[];!_i(o,a);){var u=Qp(o);l.push(L.createElement("option",{key:u,value:u},Ce(o,n.props.dateFormat,n.props.locale))),o=Tn(o,1)}return l}),S(n,"onSelectChange",function(o){n.onChange(o.target.value)}),S(n,"renderSelectMode",function(){return L.createElement("select",{value:Qp(li(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())}),S(n,"renderReadView",function(o){var a=Ce(n.props.date,n.props.dateFormat,n.props.locale);return L.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(u){return n.toggleDropdown(u)}},L.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),L.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))}),S(n,"renderDropdown",function(){return L.createElement(u3,{key:"dropdown",date:n.props.date,dateFormat:n.props.dateFormat,onChange:n.onChange,onCancel:n.toggleDropdown,minDate:n.props.minDate,maxDate:n.props.maxDate,scrollableMonthYearDropdown:n.props.scrollableMonthYearDropdown,locale:n.props.locale})}),S(n,"renderScrollMode",function(){var o=n.state.dropdownVisible,a=[n.renderReadView(!o)];return o&&a.unshift(n.renderDropdown()),a}),S(n,"onChange",function(o){n.toggleDropdown();var a=ve(parseInt(o));Cn(n.props.date,a)&&Kt(n.props.date,a)||n.props.onChange(a)}),S(n,"toggleDropdown",function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})}),n}return ct(e,t),lt(e,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return L.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])}(L.Component),h3=function(t){function e(){var n;at(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=ot(this,e,[].concat(i)),S(n,"dayEl",L.createRef()),S(n,"handleClick",function(o){!n.isDisabled()&&n.props.onClick&&n.props.onClick(o)}),S(n,"handleMouseEnter",function(o){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(o)}),S(n,"handleOnKeyDown",function(o){var a=o.key;a===" "&&(o.preventDefault(),o.key="Enter"),n.props.handleOnKeyDown(o)}),S(n,"isSameDay",function(o){return fe(n.props.day,o)}),S(n,"isKeyboardSelected",function(){var o;if(n.props.disabledKeyboardNavigation)return!1;var a=n.props.selectsMultiple?(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(l){return n.isSameDayOrWeek(l)}):n.isSameDayOrWeek(n.props.selected);return!a&&n.isSameDayOrWeek(n.props.preSelection)}),S(n,"isDisabled",function(){return Xd(n.props.day,n.props)}),S(n,"isExcluded",function(){return ly(n.props.day,n.props)}),S(n,"isStartOfWeek",function(){return fe(n.props.day,ai(n.props.day,n.props.locale,n.props.calendarStartDay))}),S(n,"isSameWeek",function(o){return n.props.showWeekPicker&&fe(o,ai(n.props.day,n.props.locale,n.props.calendarStartDay))}),S(n,"isSameDayOrWeek",function(o){return n.isSameDay(o)||n.isSameWeek(o)}),S(n,"getHighLightedClass",function(){var o=n.props,a=o.day,l=o.highlightDates;if(!l)return!1;var u=Ce(a,"MM.dd.yyyy");return l.get(u)}),S(n,"getHolidaysClass",function(){var o=n.props,a=o.day,l=o.holidays;if(!l)return!1;var u=Ce(a,"MM.dd.yyyy");if(l.has(u))return[l.get(u).className]}),S(n,"isInRange",function(){var o=n.props,a=o.day,l=o.startDate,u=o.endDate;return!l||!u?!1:pa(a,l,u)}),S(n,"isInSelectingRange",function(){var o,a=n.props,l=a.day,u=a.selectsStart,d=a.selectsEnd,f=a.selectsRange,g=a.selectsDisabledDaysInRange,y=a.startDate,w=a.endDate,I=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(u||d||f)||!I||!g&&n.isDisabled()?!1:u&&w&&(ss(I,w)||Ui(I,w))?pa(l,I,w):d&&y&&(_i(I,y)||Ui(I,y))||f&&y&&!w&&(_i(I,y)||Ui(I,y))?pa(l,y,I):!1}),S(n,"isSelectingRangeStart",function(){var o;if(!n.isInSelectingRange())return!1;var a=n.props,l=a.day,u=a.startDate,d=a.selectsStart,f=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return d?fe(l,f):fe(l,u)}),S(n,"isSelectingRangeEnd",function(){var o;if(!n.isInSelectingRange())return!1;var a=n.props,l=a.day,u=a.endDate,d=a.selectsEnd,f=a.selectsRange,g=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return d||f?fe(l,g):fe(l,u)}),S(n,"isRangeStart",function(){var o=n.props,a=o.day,l=o.startDate,u=o.endDate;return!l||!u?!1:fe(l,a)}),S(n,"isRangeEnd",function(){var o=n.props,a=o.day,l=o.startDate,u=o.endDate;return!l||!u?!1:fe(u,a)}),S(n,"isWeekend",function(){var o=K4(n.props.day);return o===0||o===6}),S(n,"isAfterMonth",function(){return n.props.month!==void 0&&(n.props.month+1)%12===Mt(n.props.day)}),S(n,"isBeforeMonth",function(){return n.props.month!==void 0&&(Mt(n.props.day)+1)%12===n.props.month}),S(n,"isCurrentDay",function(){return n.isSameDay(ve())}),S(n,"isSelected",function(){if(n.props.selectsMultiple){var o;return(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(a){return n.isSameDayOrWeek(a)})}return n.isSameDayOrWeek(n.props.selected)}),S(n,"getClassNames",function(o){var a=n.props.dayClassName?n.props.dayClassName(o):void 0;return mt("react-datepicker__day",a,"react-datepicker__day--"+FF(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass("react-datepicker__day--highlighted"),n.getHolidaysClass())}),S(n,"getAriaLabel",function(){var o=n.props,a=o.day,l=o.ariaLabelPrefixWhenEnabled,u=l===void 0?"Choose":l,d=o.ariaLabelPrefixWhenDisabled,f=d===void 0?"Not available":d,g=n.isDisabled()||n.isExcluded()?f:u;return"".concat(g," ").concat(Ce(a,"PPPP",n.props.locale))}),S(n,"getTitle",function(){var o=n.props,a=o.day,l=o.holidays,u=l===void 0?new Map:l,d=o.excludeDates,f=Ce(a,"MM.dd.yyyy"),g=[];return u.has(f)&&g.push.apply(g,Ei(u.get(f).holidayNames)),n.isExcluded()&&g.push(d==null?void 0:d.filter(function(y){return fe(y.date?y.date:y,a)}).map(function(y){return y.message})),g.join(", ")}),S(n,"getTabIndex",function(o,a){var l=o||n.props.selected,u=a||n.props.preSelection,d=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(l)&&fe(u,l))?0:-1;return d}),S(n,"handleFocusDay",function(){var o,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=!1;n.getTabIndex()===0&&!a.isInputFocused&&n.isSameDay(n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(l=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(l=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(l=!0),n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()&&(l=!1),n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()&&(l=!1)),l&&((o=n.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))}),S(n,"renderDayContents",function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(aw(n.props.day),n.props.day):aw(n.props.day)}),S(n,"render",function(){return L.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&L.createElement("span",{className:"overlay"},n.getTitle()))}),n}return ct(e,t),lt(e,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(r){this.handleFocusDay(r)}}])}(L.Component),f3=function(t){function e(){var n;at(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=ot(this,e,[].concat(i)),S(n,"weekNumberEl",L.createRef()),S(n,"handleClick",function(o){n.props.onClick&&n.props.onClick(o)}),S(n,"handleOnKeyDown",function(o){var a=o.key;a===" "&&(o.preventDefault(),o.key="Enter"),n.props.handleOnKeyDown(o)}),S(n,"isKeyboardSelected",function(){return!n.props.disabledKeyboardNavigation&&!fe(n.props.date,n.props.selected)&&fe(n.props.date,n.props.preSelection)}),S(n,"getTabIndex",function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||fe(n.props.date,n.props.selected)&&fe(n.props.preSelection,n.props.selected))?0:-1}),S(n,"handleFocusWeekNumber",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=!1;n.getTabIndex()===0&&!o.isInputFocused&&fe(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(a=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})}),n}return ct(e,t),lt(e,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(r){this.handleFocusWeekNumber(r)}},{key:"render",value:function(){var r=this.props,i=r.weekNumber,s=r.ariaLabelPrefix,o=s===void 0?"week ":s,a=r.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a,"react-datepicker__week-number--selected":!!a&&fe(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return L.createElement("div",{ref:this.weekNumberEl,className:mt(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},i)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}])}(L.Component),p3=function(t){function e(){var n;at(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=ot(this,e,[].concat(i)),S(n,"handleDayClick",function(o,a){n.props.onDayClick&&n.props.onDayClick(o,a)}),S(n,"handleDayMouseEnter",function(o){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(o)}),S(n,"handleWeekClick",function(o,a,l){typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(o,a,l),n.props.showWeekPicker&&n.handleDayClick(o,l),n.props.shouldCloseOnSelect&&n.props.setOpen(!1)}),S(n,"formatWeekNumber",function(o){return n.props.formatWeekNumber?n.props.formatWeekNumber(o):jF(o)}),S(n,"renderDays",function(){var o=n.startOfWeek(),a=[],l=n.formatWeekNumber(o);if(n.props.showWeekNumber){var u=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,o,l):void 0;a.push(L.createElement(f3,{key:"W",weekNumber:l,date:o,onClick:u,selected:n.props.selected,preSelection:n.props.preSelection,ariaLabelPrefix:n.props.ariaLabelPrefix,showWeekPicker:n.props.showWeekPicker,showWeekNumber:n.props.showWeekNumber,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef}))}return a.concat([0,1,2,3,4,5,6].map(function(d){var f=bi(o,d);return L.createElement(h3,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,month:n.props.month,onClick:n.handleDayClick.bind(n,f),usePointerEvent:n.props.usePointerEvent,onMouseEnter:n.handleDayMouseEnter.bind(n,f),minDate:n.props.minDate,maxDate:n.props.maxDate,calendarStartDay:n.props.calendarStartDay,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,highlightDates:n.props.highlightDates,holidays:n.props.holidays,selectingDate:n.props.selectingDate,filterDate:n.props.filterDate,preSelection:n.props.preSelection,selected:n.props.selected,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,showWeekPicker:n.props.showWeekPicker,showWeekNumber:n.props.showWeekNumber,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,startDate:n.props.startDate,endDate:n.props.endDate,dayClassName:n.props.dayClassName,renderDayContents:n.props.renderDayContents,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef,inline:n.props.inline,shouldFocusDayInline:n.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:n.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:n.props.monthShowsDuplicateDaysStart,locale:n.props.locale})}))}),S(n,"startOfWeek",function(){return ai(n.props.day,n.props.locale,n.props.calendarStartDay)}),S(n,"isKeyboardSelected",function(){return!n.props.disabledKeyboardNavigation&&!fe(n.startOfWeek(),n.props.selected)&&fe(n.startOfWeek(),n.props.preSelection)}),n}return ct(e,t),lt(e,[{key:"render",value:function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":fe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return L.createElement("div",{className:mt(r)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}])}(L.Component),m3=6,eo={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},yf=S(S(S({},eo.TWO_COLUMNS,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),eo.THREE_COLUMNS,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),eo.FOUR_COLUMNS,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4}),xc=1;function Lw(t,e){return t?eo.FOUR_COLUMNS:e?eo.TWO_COLUMNS:eo.THREE_COLUMNS}var g3=function(t){function e(){var n;at(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=ot(this,e,[].concat(i)),S(n,"MONTH_REFS",Ei(Array(12)).map(function(){return L.createRef()})),S(n,"QUARTER_REFS",Ei(Array(4)).map(function(){return L.createRef()})),S(n,"isDisabled",function(o){return Xd(o,n.props)}),S(n,"isExcluded",function(o){return ly(o,n.props)}),S(n,"handleDayClick",function(o,a){n.props.onDayClick&&n.props.onDayClick(o,a,n.props.orderInDisplay)}),S(n,"handleDayMouseEnter",function(o){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(o)}),S(n,"handleMouseLeave",function(){n.props.onMouseLeave&&n.props.onMouseLeave()}),S(n,"isRangeStartMonth",function(o){var a=n.props,l=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:Kt(At(l,o),u)}),S(n,"isRangeStartQuarter",function(o){var a=n.props,l=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:id(Ds(l,o),u)}),S(n,"isRangeEndMonth",function(o){var a=n.props,l=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:Kt(At(l,o),d)}),S(n,"isRangeEndQuarter",function(o){var a=n.props,l=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:id(Ds(l,o),d)}),S(n,"isInSelectingRangeMonth",function(o){var a,l=n.props,u=l.day,d=l.selectsStart,f=l.selectsEnd,g=l.selectsRange,y=l.startDate,w=l.endDate,I=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(d||f||g)||!I?!1:d&&w?Ec(I,w,o,u):f&&y||g&&y&&!w?Ec(y,I,o,u):!1}),S(n,"isSelectingMonthRangeStart",function(o){var a;if(!n.isInSelectingRangeMonth(o))return!1;var l=n.props,u=l.day,d=l.startDate,f=l.selectsStart,g=At(u,o),y=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return f?Kt(g,y):Kt(g,d)}),S(n,"isSelectingMonthRangeEnd",function(o){var a;if(!n.isInSelectingRangeMonth(o))return!1;var l=n.props,u=l.day,d=l.endDate,f=l.selectsEnd,g=l.selectsRange,y=At(u,o),w=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return f||g?Kt(y,w):Kt(y,d)}),S(n,"isInSelectingRangeQuarter",function(o){var a,l=n.props,u=l.day,d=l.selectsStart,f=l.selectsEnd,g=l.selectsRange,y=l.startDate,w=l.endDate,I=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(d||f||g)||!I?!1:d&&w?Tc(I,w,o,u):f&&y||g&&y&&!w?Tc(y,I,o,u):!1}),S(n,"isWeekInMonth",function(o){var a=n.props.day,l=bi(o,6);return Kt(o,a)||Kt(l,a)}),S(n,"isCurrentMonth",function(o,a){return re(o)===re(ve())&&a===Mt(ve())}),S(n,"isCurrentQuarter",function(o,a){return re(o)===re(ve())&&a===Wi(ve())}),S(n,"isSelectedMonth",function(o,a,l){return Mt(l)===a&&re(o)===re(l)}),S(n,"isSelectedQuarter",function(o,a,l){return Wi(o)===a&&re(o)===re(l)}),S(n,"renderWeeks",function(){for(var o=[],a=n.props.fixedHeight,l=0,u=!1,d=ai(li(n.props.day),n.props.locale,n.props.calendarStartDay),f=n.props.showWeekPicker?ai(n.props.selected,n.props.locale,n.props.calendarStartDay):n.props.selected,g=n.props.showWeekPicker?ai(n.props.preSelection,n.props.locale,n.props.calendarStartDay):n.props.preSelection;o.push(L.createElement(p3,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:n.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:n.props.disabledDayAriaLabelPrefix,key:l,day:d,month:Mt(n.props.day),onDayClick:n.handleDayClick,usePointerEvent:n.props.usePointerEvent,onDayMouseEnter:n.handleDayMouseEnter,onWeekSelect:n.props.onWeekSelect,formatWeekNumber:n.props.formatWeekNumber,locale:n.props.locale,minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,inline:n.props.inline,shouldFocusDayInline:n.props.shouldFocusDayInline,highlightDates:n.props.highlightDates,holidays:n.props.holidays,selectingDate:n.props.selectingDate,filterDate:n.props.filterDate,preSelection:g,selected:f,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,showWeekNumber:n.props.showWeekNumbers,showWeekPicker:n.props.showWeekPicker,startDate:n.props.startDate,endDate:n.props.endDate,dayClassName:n.props.dayClassName,setOpen:n.props.setOpen,shouldCloseOnSelect:n.props.shouldCloseOnSelect,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,renderDayContents:n.props.renderDayContents,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef,calendarStartDay:n.props.calendarStartDay,monthShowsDuplicateDaysEnd:n.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:n.props.monthShowsDuplicateDaysStart})),!u;){l++,d=Ku(d,1);var y=a&&l>=m3,w=!a&&!n.isWeekInMonth(d);if(y||w)if(n.props.peekNextMonth)u=!0;else break}return o}),S(n,"onMonthClick",function(o,a){var l=At(n.props.day,a);Jc(l,n.props)||n.handleDayClick(li(l),o)}),S(n,"onMonthMouseEnter",function(o){var a=At(n.props.day,o);Jc(a,n.props)||n.handleDayMouseEnter(li(a))}),S(n,"handleMonthNavigation",function(o,a){n.isDisabled(a)||n.isExcluded(a)||(n.props.setPreSelection(a),n.MONTH_REFS[o].current&&n.MONTH_REFS[o].current.focus())}),S(n,"onMonthKeyDown",function(o,a){var l=n.props,u=l.selected,d=l.preSelection,f=l.disabledKeyboardNavigation,g=l.showTwoColumnMonthYearPicker,y=l.showFourColumnMonthYearPicker,w=l.setPreSelection,I=l.handleOnMonthKeyDown,C=o.key;if(C!=="Tab"&&o.preventDefault(),!f){var E=Lw(y,g),v=yf[E].verticalNavigationOffset,T=yf[E].grid;switch(C){case"Enter":n.onMonthClick(o,a),w(u);break;case"ArrowRight":n.handleMonthNavigation(a===11?0:a+xc,Tn(d,xc));break;case"ArrowLeft":n.handleMonthNavigation(a===0?11:a-xc,vo(d,xc));break;case"ArrowUp":n.handleMonthNavigation(T[0].includes(a)?a+12-v:a-v,vo(d,v));break;case"ArrowDown":n.handleMonthNavigation(T[T.length-1].includes(a)?a-12+v:a+v,Tn(d,v));break}}I&&I(o)}),S(n,"onQuarterClick",function(o,a){var l=Ds(n.props.day,a);gf(l,n.props)||n.handleDayClick(kw(l),o)}),S(n,"onQuarterMouseEnter",function(o){var a=Ds(n.props.day,o);gf(a,n.props)||n.handleDayMouseEnter(kw(a))}),S(n,"handleQuarterNavigation",function(o,a){n.isDisabled(a)||n.isExcluded(a)||(n.props.setPreSelection(a),n.QUARTER_REFS[o-1].current&&n.QUARTER_REFS[o-1].current.focus())}),S(n,"onQuarterKeyDown",function(o,a){var l=o.key;if(!n.props.disabledKeyboardNavigation)switch(l){case"Enter":n.onQuarterClick(o,a),n.props.setPreSelection(n.props.selected);break;case"ArrowRight":n.handleQuarterNavigation(a===4?1:a+1,Jg(n.props.preSelection,1));break;case"ArrowLeft":n.handleQuarterNavigation(a===1?4:a-1,oI(n.props.preSelection,1));break}}),S(n,"isMonthDisabled",function(o){var a=n.props,l=a.day,u=a.minDate,d=a.maxDate,f=a.excludeDates,g=a.includeDates,y=At(l,o);return(u||d||f||g)&&Jc(y,n.props)}),S(n,"getMonthClassNames",function(o){var a=n.props,l=a.day,u=a.startDate,d=a.endDate,f=a.selected,g=a.preSelection,y=a.monthClassName,w=y?y(At(l,o)):void 0;return mt("react-datepicker__month-text","react-datepicker__month-".concat(o),w,{"react-datepicker__month-text--disabled":n.isMonthDisabled(o),"react-datepicker__month-text--selected":n.isSelectedMonth(l,o,f),"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&n.isSelectedMonth(l,o,g),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":Ec(u,d,o,l),"react-datepicker__month-text--range-start":n.isRangeStartMonth(o),"react-datepicker__month-text--range-end":n.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":n.isCurrentMonth(l,o)})}),S(n,"getTabIndex",function(o){var a=Mt(n.props.preSelection),l=!n.props.disabledKeyboardNavigation&&o===a?"0":"-1";return l}),S(n,"getQuarterTabIndex",function(o){var a=Wi(n.props.preSelection),l=!n.props.disabledKeyboardNavigation&&o===a?"0":"-1";return l}),S(n,"getAriaLabel",function(o){var a=n.props,l=a.chooseDayAriaLabelPrefix,u=l===void 0?"Choose":l,d=a.disabledDayAriaLabelPrefix,f=d===void 0?"Not available":d,g=a.day,y=a.locale,w=At(g,o),I=n.isDisabled(w)||n.isExcluded(w)?f:u;return"".concat(I," ").concat(Ce(w,"MMMM yyyy",y))}),S(n,"getQuarterClassNames",function(o){var a=n.props,l=a.day,u=a.startDate,d=a.endDate,f=a.selected,g=a.minDate,y=a.maxDate,w=a.preSelection,I=a.disabledKeyboardNavigation;return mt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":(g||y)&&gf(Ds(l,o),n.props),"react-datepicker__quarter-text--selected":n.isSelectedQuarter(l,o,f),"react-datepicker__quarter-text--keyboard-selected":!I&&n.isSelectedQuarter(l,o,w),"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":Tc(u,d,o,l),"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(o)})}),S(n,"getMonthContent",function(o){var a=n.props,l=a.showFullMonthYearPicker,u=a.renderMonthContent,d=a.locale,f=a.day,g=CI(o,d),y=ay(o,d);return u?u(o,g,y,f):l?y:g}),S(n,"getQuarterContent",function(o){var a=n.props,l=a.renderQuarterContent,u=a.locale,d=HF(o,u);return l?l(o,d):d}),S(n,"renderMonths",function(){var o=n.props,a=o.showTwoColumnMonthYearPicker,l=o.showFourColumnMonthYearPicker,u=o.day,d=o.selected,f=yf[Lw(l,a)].grid;return f.map(function(g,y){return L.createElement("div",{className:"react-datepicker__month-wrapper",key:y},g.map(function(w,I){return L.createElement("div",{ref:n.MONTH_REFS[w],key:I,onClick:function(E){n.onMonthClick(E,w)},onKeyDown:function(E){NI(E)&&(E.preventDefault(),E.key="Enter"),n.onMonthKeyDown(E,w)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(w)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(w)}:void 0,tabIndex:n.getTabIndex(w),className:n.getMonthClassNames(w),"aria-disabled":n.isMonthDisabled(w),role:"option","aria-label":n.getAriaLabel(w),"aria-current":n.isCurrentMonth(u,w)?"date":void 0,"aria-selected":n.isSelectedMonth(u,w,d)},n.getMonthContent(w))}))})}),S(n,"renderQuarters",function(){var o=n.props,a=o.day,l=o.selected,u=[1,2,3,4];return L.createElement("div",{className:"react-datepicker__quarter-wrapper"},u.map(function(d,f){return L.createElement("div",{key:f,ref:n.QUARTER_REFS[f],role:"option",onClick:function(y){n.onQuarterClick(y,d)},onKeyDown:function(y){n.onQuarterKeyDown(y,d)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(d)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(d)}:void 0,className:n.getQuarterClassNames(d),"aria-selected":n.isSelectedQuarter(a,d,l),tabIndex:n.getQuarterTabIndex(d),"aria-current":n.isCurrentQuarter(a,d)?"date":void 0},n.getQuarterContent(d))}))}),S(n,"getClassNames",function(){var o=n.props,a=o.selectingDate,l=o.selectsStart,u=o.selectsEnd,d=o.showMonthYearPicker,f=o.showQuarterYearPicker,g=o.showWeekPicker;return mt("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(l||u)},{"react-datepicker__monthPicker":d},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":g})}),n}return ct(e,t),lt(e,[{key:"render",value:function(){var r=this.props,i=r.showMonthYearPicker,s=r.showQuarterYearPicker,o=r.day,a=r.ariaLabelPrefix,l=a===void 0?"Month ":a,u=l?l.trim()+" ":"";return L.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(u).concat(Ce(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},i?this.renderMonths():s?this.renderQuarters():this.renderWeeks())}}])}(L.Component),AI=function(t){function e(){var n;at(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=ot(this,e,[].concat(i)),S(n,"state",{height:null}),S(n,"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){n.list&&(n.list.scrollTop=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-n.header.clientHeight:n.list.clientHeight,n.centerLi))})}),S(n,"handleClick",function(o){(n.props.minTime||n.props.maxTime)&&Sw(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Iw(o,n.props)||n.props.onChange(o)}),S(n,"isSelectedTime",function(o){return n.props.selected&&e3(n.props.selected,o)}),S(n,"isDisabledTime",function(o){return(n.props.minTime||n.props.maxTime)&&Sw(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Iw(o,n.props)}),S(n,"liClasses",function(o){var a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(o):void 0];return n.isSelectedTime(o)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(o)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&($n(o)*3600+Bn(o)*60+fr(o))%(n.props.intervals*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")}),S(n,"handleOnKeyDown",function(o,a){o.key===" "&&(o.preventDefault(),o.key="Enter"),(o.key==="ArrowUp"||o.key==="ArrowLeft")&&o.target.previousSibling&&(o.preventDefault(),o.target.previousSibling.focus()),(o.key==="ArrowDown"||o.key==="ArrowRight")&&o.target.nextSibling&&(o.preventDefault(),o.target.nextSibling.focus()),o.key==="Enter"&&n.handleClick(a),n.props.handleOnKeyDown(o)}),S(n,"renderTimes",function(){for(var o=[],a=n.props.format?n.props.format:"p",l=n.props.intervals,u=n.props.selected||n.props.openToDate||ve(),d=UF(u),f=n.props.injectTimes&&n.props.injectTimes.sort(function(v,T){return v-T}),g=60*ZF(u),y=g/l,w=0;w<y;w++){var I=qp(d,w*l);if(o.push(I),f){var C=JF(d,I,w,l,f);o=o.concat(C)}}var E=o.reduce(function(v,T){return T.getTime()<=u.getTime()?T:v},o[0]);return o.map(function(v,T){return L.createElement("li",{key:T,onClick:n.handleClick.bind(n,v),className:n.liClasses(v),ref:function(j){v===E&&(n.centerLi=j)},onKeyDown:function(j){n.handleOnKeyDown(j,v)},tabIndex:v===E?0:-1,role:"option","aria-selected":n.isSelectedTime(v)?"true":void 0,"aria-disabled":n.isDisabledTime(v)?"true":void 0},Ce(v,a,n.props.locale))})}),n}return ct(e,t),lt(e,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var r=this,i=this.state.height;return L.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},L.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){r.header=o}},L.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),L.createElement("div",{className:"react-datepicker__time"},L.createElement("div",{className:"react-datepicker__time-box"},L.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){r.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}])}(L.Component);S(AI,"calcCenterPosition",function(t,e){return e.offsetTop-(t/2-e.clientHeight/2)});var Vw=3,y3=function(t){function e(n){var r;return at(this,e),r=ot(this,e,[n]),S(r,"YEAR_REFS",Ei(Array(r.props.yearItemNumber)).map(function(){return L.createRef()})),S(r,"isDisabled",function(i){return Xd(i,r.props)}),S(r,"isExcluded",function(i){return ly(i,r.props)}),S(r,"selectingDate",function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection}),S(r,"updateFocusOnPaginate",function(i){var s=(function(){this.YEAR_REFS[i].current.focus()}).bind(r);window.requestAnimationFrame(s)}),S(r,"handleYearClick",function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)}),S(r,"handleYearNavigation",function(i,s){var o=r.props,a=o.date,l=o.yearItemNumber,u=Yr(a,l),d=u.startPeriod;r.isDisabled(s)||r.isExcluded(s)||(r.props.setPreSelection(s),i-d<0?r.updateFocusOnPaginate(l-(d-i)):i-d>=l?r.updateFocusOnPaginate(Math.abs(l-(i-d))):r.YEAR_REFS[i-d].current.focus())}),S(r,"isSameDay",function(i,s){return fe(i,s)}),S(r,"isCurrentYear",function(i){return i===re(ve())}),S(r,"isRangeStart",function(i){return r.props.startDate&&r.props.endDate&&Cn(bn(ve(),i),r.props.startDate)}),S(r,"isRangeEnd",function(i){return r.props.startDate&&r.props.endDate&&Cn(bn(ve(),i),r.props.endDate)}),S(r,"isInRange",function(i){return kc(i,r.props.startDate,r.props.endDate)}),S(r,"isInSelectingRange",function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,u=s.startDate,d=s.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&d?kc(i,r.selectingDate(),d):a&&u||l&&u&&!d?kc(i,u,r.selectingDate()):!1}),S(r,"isSelectingRangeStart",function(i){if(!r.isInSelectingRange(i))return!1;var s=r.props,o=s.startDate,a=s.selectsStart,l=bn(ve(),i);return a?Cn(l,r.selectingDate()):Cn(l,o)}),S(r,"isSelectingRangeEnd",function(i){if(!r.isInSelectingRange(i))return!1;var s=r.props,o=s.endDate,a=s.selectsEnd,l=s.selectsRange,u=bn(ve(),i);return a||l?Cn(u,r.selectingDate()):Cn(u,o)}),S(r,"isKeyboardSelected",function(i){var s=fa(bn(r.props.date,i));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!fe(s,fa(r.props.selected))&&fe(s,fa(r.props.preSelection))}),S(r,"onYearClick",function(i,s){var o=r.props.date;r.handleYearClick(fa(bn(o,s)),i)}),S(r,"onYearKeyDown",function(i,s){var o=i.key,a=r.props,l=a.date,u=a.yearItemNumber,d=a.handleOnKeyDown;if(o!=="Tab"&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(o){case"Enter":r.onYearClick(i,s),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleYearNavigation(s+1,hr(r.props.preSelection,1));break;case"ArrowLeft":r.handleYearNavigation(s-1,_o(r.props.preSelection,1));break;case"ArrowUp":{var f=Yr(l,u),g=f.startPeriod,y=Vw,w=s-y;if(w<g){var I=u%y;s>=g&&s<g+I?y=I:y+=I,w=s-y}r.handleYearNavigation(w,_o(r.props.preSelection,y));break}case"ArrowDown":{var C=Yr(l,u),E=C.endPeriod,v=Vw,T=s+v;if(T>E){var N=u%v;s<=E&&s>E-N?v=N:v+=N,T=s+v}r.handleYearNavigation(T,hr(r.props.preSelection,v));break}}d&&d(i)}),S(r,"getYearClassNames",function(i){var s=r.props,o=s.date,a=s.minDate,l=s.maxDate,u=s.selected,d=s.excludeDates,f=s.includeDates,g=s.filterDate,y=s.yearClassName;return mt("react-datepicker__year-text","react-datepicker__year-".concat(i),y?y(bn(o,i)):void 0,{"react-datepicker__year-text--selected":i===re(u),"react-datepicker__year-text--disabled":(a||l||d||f||g)&&DI(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})}),S(r,"getYearTabIndex",function(i){if(r.props.disabledKeyboardNavigation)return"-1";var s=re(r.props.preSelection);return i===s?"0":"-1"}),S(r,"getYearContainerClassNames",function(){var i=r.props,s=i.selectingDate,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange;return mt("react-datepicker__year",{"react-datepicker__year--selecting-range":s&&(o||a||l)})}),S(r,"getYearContent",function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i}),r}return ct(e,t),lt(e,[{key:"render",value:function(){for(var r=this,i=[],s=this.props,o=s.date,a=s.yearItemNumber,l=s.onYearMouseEnter,u=s.onYearMouseLeave,d=Yr(o,a),f=d.startPeriod,g=d.endPeriod,y=function(C){i.push(L.createElement("div",{ref:r.YEAR_REFS[C-f],onClick:function(v){r.onYearClick(v,C)},onKeyDown:function(v){NI(v)&&(v.preventDefault(),v.key="Enter"),r.onYearKeyDown(v,C)},tabIndex:r.getYearTabIndex(C),className:r.getYearClassNames(C),onMouseEnter:r.props.usePointerEvent?void 0:function(E){return l(E,C)},onPointerEnter:r.props.usePointerEvent?function(E){return l(E,C)}:void 0,onMouseLeave:r.props.usePointerEvent?void 0:function(E){return u(E,C)},onPointerLeave:r.props.usePointerEvent?function(E){return u(E,C)}:void 0,key:C,"aria-current":r.isCurrentYear(C)?"date":void 0},r.getYearContent(C)))},w=f;w<=g;w++)y(w);return L.createElement("div",{className:this.getYearContainerClassNames()},L.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},i))}}])}(L.Component),v3=function(t){function e(n){var r;return at(this,e),r=ot(this,e,[n]),S(r,"onTimeChange",function(i){r.setState({time:i});var s=r.props.date,o=s instanceof Date&&!isNaN(s),a=o?s:new Date;a.setHours(i.split(":")[0]),a.setMinutes(i.split(":")[1]),r.props.onChange(a)}),S(r,"renderTimeInput",function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,l=s.customTimeInput;return l?L.cloneElement(l,{date:o,value:i,onChange:r.onTimeChange}):L.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:i,onChange:function(d){r.onTimeChange(d.target.value||a)}})}),r.state={time:r.props.timeString},r}return ct(e,t),lt(e,[{key:"render",value:function(){return L.createElement("div",{className:"react-datepicker__input-time-container"},L.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),L.createElement("div",{className:"react-datepicker-time__input-container"},L.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.timeString!==i.time?{time:r.timeString}:null}}])}(L.Component);function _3(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,s=t.className,o=t.children,a=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return L.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)}var w3=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],E3=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=(e.className||"").split(/\s+/);return w3.some(function(r){return n.indexOf(r)>=0})},k3=function(t){function e(n){var r;return at(this,e),r=ot(this,e,[n]),S(r,"handleClickOutside",function(i){r.props.onClickOutside(i)}),S(r,"setClickOutsideRef",function(){return r.containerRef.current}),S(r,"handleDropdownFocus",function(i){E3(i.target)&&r.props.onDropdownFocus()}),S(r,"getDateInView",function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,l=PI(r.props),u=RI(r.props),d=ve(),f=a||o||s;return f||(l&&ss(d,l)?l:u&&_i(d,u)?u:d)}),S(r,"increaseMonth",function(){r.setState(function(i){var s=i.date;return{date:Tn(s,1)}},function(){return r.handleMonthChange(r.state.date)})}),S(r,"decreaseMonth",function(){r.setState(function(i){var s=i.date;return{date:vo(s,1)}},function(){return r.handleMonthChange(r.state.date)})}),S(r,"handleDayClick",function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)}),S(r,"handleDayMouseEnter",function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)}),S(r,"handleMonthMouseLeave",function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()}),S(r,"handleYearMouseEnter",function(i,s){r.setState({selectingDate:bn(ve(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)}),S(r,"handleYearMouseLeave",function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)}),S(r,"handleYearChange",function(i){r.props.onYearChange&&(r.props.onYearChange(i),r.setState({isRenderAriaLiveMessage:!0})),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(i),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(i)}),S(r,"handleMonthChange",function(i){r.handleCustomMonthChange(i),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(i),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(i)}),S(r,"handleCustomMonthChange",function(i){r.props.onMonthChange&&(r.props.onMonthChange(i),r.setState({isRenderAriaLiveMessage:!0}))}),S(r,"handleMonthYearChange",function(i){r.handleYearChange(i),r.handleMonthChange(i)}),S(r,"changeYear",function(i){r.setState(function(s){var o=s.date;return{date:bn(o,i)}},function(){return r.handleYearChange(r.state.date)})}),S(r,"changeMonth",function(i){r.setState(function(s){var o=s.date;return{date:At(o,i)}},function(){return r.handleMonthChange(r.state.date)})}),S(r,"changeMonthYear",function(i){r.setState(function(s){var o=s.date;return{date:bn(At(o,Mt(i)),re(i))}},function(){return r.handleMonthYearChange(r.state.date)})}),S(r,"header",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,s=ai(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(L.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=bi(s,a),u=r.formatWeekday(l,r.props.locale),d=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return L.createElement("div",{key:a,"aria-label":Ce(l,"EEEE",r.props.locale),className:mt("react-datepicker__day-name",d)},u)}))}),S(r,"formatWeekday",function(i,s){return r.props.formatWeekDay?$F(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?zF(i,s):WF(i,s)}),S(r,"decreaseYear",function(){r.setState(function(i){var s=i.date;return{date:_o(s,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),S(r,"clearSelectingDate",function(){r.setState({selectingDate:null})}),S(r,"renderPreviousButton",function(){if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=Dw(r.state.date,r.props);break;case r.props.showYearPicker:i=qF(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=YF(r.state.date,r.props);break;default:i=bw(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],o=["react-datepicker__navigation","react-datepicker__navigation--previous"],a=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(a=r.decreaseYear),i&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--previous--disabled"),a=null);var l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,d=u.previousMonthButtonLabel,f=u.previousYearButtonLabel,g=r.props,y=g.previousMonthAriaLabel,w=y===void 0?typeof d=="string"?d:"Previous Month":y,I=g.previousYearAriaLabel,C=I===void 0?typeof f=="string"?f:"Previous Year":I;return L.createElement("button",{type:"button",className:o.join(" "),onClick:a,onKeyDown:r.props.handleOnKeyDown,"aria-label":l?C:w},L.createElement("span",{className:s.join(" ")},l?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel))}}}),S(r,"increaseYear",function(){r.setState(function(i){var s=i.date;return{date:hr(s,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),S(r,"renderNextButton",function(){if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=Pw(r.state.date,r.props);break;case r.props.showYearPicker:i=QF(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=KF(r.state.date,r.props);break;default:i=Cw(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var a=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(a=r.increaseYear),i&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),a=null);var l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,d=u.nextMonthButtonLabel,f=u.nextYearButtonLabel,g=r.props,y=g.nextMonthAriaLabel,w=y===void 0?typeof d=="string"?d:"Next Month":y,I=g.nextYearAriaLabel,C=I===void 0?typeof f=="string"?f:"Next Year":I;return L.createElement("button",{type:"button",className:s.join(" "),onClick:a,onKeyDown:r.props.handleOnKeyDown,"aria-label":l?C:w},L.createElement("span",{className:o.join(" ")},l?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel))}}}),S(r,"renderCurrentMonth",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),L.createElement("div",{className:s.join(" ")},Ce(i,r.props.dateFormat,r.props.locale))}),S(r,"renderYearDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showYearDropdown||i))return L.createElement(i3,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:re(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})}),S(r,"renderMonthDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthDropdown||i))return L.createElement(a3,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:Mt(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})}),S(r,"renderMonthYearDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthYearDropdown||i))return L.createElement(d3,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})}),S(r,"handleTodayButtonClick",function(i){r.props.onSelect(Tw(),i),r.props.setPreSelection&&r.props.setPreSelection(Tw())}),S(r,"renderTodayButton",function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return L.createElement("div",{className:"react-datepicker__today-button",onClick:function(s){return r.handleTodayButtonClick(s)}},r.props.todayButton)}),S(r,"renderDefaultHeader",function(i){var s=i.monthDate,o=i.i;return L.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),L.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),L.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))}),S(r,"renderCustomHeader",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=i.monthDate,o=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var a=bw(r.state.date,r.props),l=Cw(r.state.date,r.props),u=Dw(r.state.date,r.props),d=Pw(r.state.date,r.props),f=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return L.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(rr(rr({},r.state),{},{customHeaderCount:o,monthDate:s,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:a,nextMonthButtonDisabled:l,prevYearButtonDisabled:u,nextYearButtonDisabled:d})),f&&L.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))}),S(r,"renderYearHeader",function(i){var s=i.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,u=Yr(s,l),d=u.startPeriod,f=u.endPeriod;return L.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(d," - ").concat(f):re(s))}),S(r,"renderHeader",function(i){switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(i);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(i);default:return r.renderDefaultHeader(i)}}),S(r,"renderMonths",function(){var i;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],o=r.props.showPreviousMonths?r.props.monthsShown-1:0,a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?hr(r.state.date,o):vo(r.state.date,o),l=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:o,u=0;u<r.props.monthsShown;++u){var d=u-l+o,f=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?hr(a,d):Tn(a,d),g="month-".concat(u),y=u<r.props.monthsShown-1,w=u>0;s.push(L.createElement("div",{key:g,ref:function(C){r.monthContainer=C},className:"react-datepicker__month-container"},r.renderHeader({monthDate:f,i:u}),L.createElement(g3,{chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,ariaLabelPrefix:r.props.monthAriaLabelPrefix,onChange:r.changeMonthYear,day:f,dayClassName:r.props.dayClassName,calendarStartDay:r.props.calendarStartDay,monthClassName:r.props.monthClassName,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,usePointerEvent:r.props.usePointerEvent,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:u,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,setPreSelection:r.props.setPreSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,isInputFocused:r.props.isInputFocused,containerRef:r.containerRef,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:w})))}return s}}),S(r,"renderYears",function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return L.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),L.createElement(y3,ul({onDayClick:r.handleDayClick,selectingDate:r.state.selectingDate,clearSelectingDate:r.clearSelectingDate,date:r.state.date},r.props,{onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))}),S(r,"renderTimeSection",function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return L.createElement(AI,{selected:r.props.selected,openToDate:r.props.openToDate,onChange:r.props.onTimeChange,timeClassName:r.props.timeClassName,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale,handleOnKeyDown:r.props.handleOnKeyDown,showTimeSelectOnly:r.props.showTimeSelectOnly})}),S(r,"renderInputTimeSection",function(){var i=new Date(r.props.selected),s=Mr(i)&&!!r.props.selected,o=s?"".concat(Nw(i.getHours()),":").concat(Nw(i.getMinutes())):"";if(r.props.showTimeInput)return L.createElement(v3,{date:i,timeString:o,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange,customTimeInput:r.props.customTimeInput})}),S(r,"renderAriaLiveRegion",function(){var i=Yr(r.state.date,r.props.yearItemNumber),s=i.startPeriod,o=i.endPeriod,a;return r.props.showYearPicker?a="".concat(s," - ").concat(o):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?a=re(r.state.date):a="".concat(ay(Mt(r.state.date),r.props.locale)," ").concat(re(r.state.date)),L.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&a)}),S(r,"renderChildren",function(){if(r.props.children)return L.createElement("div",{className:"react-datepicker__children-container"},r.props.children)}),r.containerRef=L.createRef(),r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},r}return ct(e,t),lt(e,[{key:"componentDidMount",value:function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())}},{key:"componentDidUpdate",value:function(r){var i=this;if(this.props.preSelection&&(!fe(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var s=!Kt(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&i.handleCustomMonthChange(i.state.date)})}else this.props.openToDate&&!fe(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var r=this.props.container||_3;return L.createElement("div",{style:{display:"contents"},ref:this.containerRef},L.createElement(r,{className:mt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:Pl}}}])}(L.Component),T3=function(e){var n=e.icon,r=e.className,i=r===void 0?"":r,s=e.onClick,o="react-datepicker__calendar-icon";return L.isValidElement(n)?L.cloneElement(n,{className:"".concat(n.props.className||""," ").concat(o," ").concat(i),onClick:function(l){typeof n.props.onClick=="function"&&n.props.onClick(l),typeof s=="function"&&s(l)}}):typeof n=="string"?L.createElement("i",{className:"".concat(o," ").concat(n," ").concat(i),"aria-hidden":"true",onClick:s}):L.createElement("svg",{className:"".concat(o," ").concat(i),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},L.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},x3=T3,MI=function(t){function e(n){var r;return at(this,e),r=ot(this,e,[n]),r.el=document.createElement("div"),r}return ct(e,t),lt(e,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return iD.createPortal(this.props.children,this.el)}}])}(L.Component),I3="[tabindex], a, button, input, select, textarea",S3=function(e){return!e.disabled&&e.tabIndex!==-1},OI=function(t){function e(n){var r;return at(this,e),r=ot(this,e,[n]),S(r,"getTabChildren",function(){return Array.prototype.slice.call(r.tabLoopRef.current.querySelectorAll(I3),1,-1).filter(S3)}),S(r,"handleFocusStart",function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()}),S(r,"handleFocusEnd",function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()}),r.tabLoopRef=L.createRef(),r}return ct(e,t),lt(e,[{key:"render",value:function(){return this.props.enableTabLoop?L.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},L.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,L.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}])}(L.Component);function b3(t){var e=function(r){var i=rr(rr({},r),{},{popperModifiers:r.popperModifiers||[],popperProps:r.popperProps||{},hidePopper:typeof r.hidePopper=="boolean"?r.hidePopper:!0}),s=L.useRef(),o=SF(rr({open:!i.hidePopper,whileElementsMounted:iF,placement:i.popperPlacement,middleware:[dF({padding:15}),uF(10),hF({element:s})].concat(Ei(i.popperModifiers))},i.popperProps));return L.createElement(t,ul({},i,{popperProps:rr(rr({},o),{},{arrowRef:s})}))};return e}var C3=function(t){function e(){return at(this,e),ot(this,e,arguments)}return ct(e,t),lt(e,[{key:"render",value:function(){var r=this.props,i=r.className,s=r.wrapperClassName,o=r.hidePopper,a=r.popperComponent,l=r.targetComponent,u=r.enableTabLoop,d=r.popperOnKeyDown,f=r.portalId,g=r.portalHost,y=r.popperProps,w=r.showArrow,I;if(!o){var C=mt("react-datepicker-popper",i);I=L.createElement(OI,{enableTabLoop:u},L.createElement("div",{ref:y.refs.setFloating,style:y.floatingStyles,className:C,"data-placement":y.placement,onKeyDown:d},a,w&&L.createElement(_F,{ref:y.arrowRef,context:y.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(I=L.createElement(this.props.popperContainer,{},I)),f&&!o&&(I=L.createElement(MI,{portalId:f,portalHost:g},I));var E=mt("react-datepicker-wrapper",s);return L.createElement(L.Fragment,null,L.createElement("div",{ref:y.refs.setReference,className:E},l),I)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0}}}])}(L.Component),D3=b3(C3),jw="react-datepicker-ignore-onclickoutside",P3=Yd(k3);function R3(t,e){return t&&e?Mt(t)!==Mt(e)||re(t)!==re(e):t!==e}var vf="Date input not valid.",N3=function(t){function e(n){var r;return at(this,e),r=ot(this,e,[n]),S(r,"getPreSelection",function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:ve()}),S(r,"modifyHolidays",function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return sl(a)?[].concat(Ei(s),[rr(rr({},o),{},{date:a})]):s},[])}),S(r,"calcInitialState",function(){var i,s=r.getPreSelection(),o=PI(r.props),a=RI(r.props),l=o&&ss(s,Un(o))?o:a&&_i(s,Xp(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:Rw(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),S(r,"clearPreventFocusTimeout",function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)}),S(r,"setFocus",function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})}),S(r,"setBlur",function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()}),S(r,"setOpen",function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:_f},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.setBlur(),r.setState({inputValue:null})})})}),S(r,"inputOk",function(){return is(r.state.preSelection)}),S(r,"isCalendarOpen",function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open}),S(r,"handleFocus",function(i){r.state.preventFocus||(r.props.onFocus(i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})}),S(r,"sendFocusBackToInput",function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})}),S(r,"cancelFocusInput",function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null}),S(r,"deferFocusInput",function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)}),S(r,"handleDropdownFocus",function(){r.cancelFocusInput()}),S(r,"handleBlur",function(i){(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&r.props.onBlur(i),r.setState({focused:!1})}),S(r,"handleCalendarClickOutside",function(i){r.props.inline||r.setOpen(!1),r.props.onClickOutside(i),r.props.withPortal&&i.preventDefault()}),S(r,"handleChange",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var a=s[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,s),typeof a.isDefaultPrevented!="function"||a.isDefaultPrevented()))){r.setState({inputValue:a.target.value,lastPreSelectChange:A3});var l=OF(a.target.value,r.props.dateFormat,r.props.locale,r.props.strictParsing,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&l&&!fe(l,r.props.selected)&&(l=mj(r.props.selected,{hours:$n(l),minutes:Bn(l),seconds:fr(l)})),(l||!a.target.value)&&r.setSelected(l,a,!0)}}),S(r,"handleSelect",function(i,s,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,u=a.endDate;l&&!u&&(r.props.swapRange||!Ow(i,l))&&r.setOpen(!1)}}),S(r,"setSelected",function(i,s,o,a){var l=i;if(r.props.showYearPicker){if(l!==null&&DI(re(l),r.props))return}else if(r.props.showMonthYearPicker){if(l!==null&&Jc(l,r.props))return}else if(l!==null&&Xd(l,r.props))return;var u=r.props,d=u.onChange,f=u.selectsRange,g=u.startDate,y=u.endDate,w=u.selectsMultiple,I=u.selectedDates,C=u.minTime,E=u.swapRange;if(!Ui(r.props.selected,l)||r.props.allowSameDay||f||w)if(l!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(l=mf(l,{hour:$n(r.props.selected),minute:Bn(r.props.selected),second:fr(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&C&&(l=mf(l,{hour:C.getHours(),minute:C.getMinutes(),second:C.getSeconds()})),r.props.inline||r.setState({preSelection:l}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),f){var v=!g&&!y,T=g&&!y,N=g&&y;v?d([l,null],s):T&&(l===null?d([null,null],s):Ow(l,g)?d(E?[l,g]:[l,null],s):d([g,l],s)),N&&d([l,null],s)}else if(w)if(!(I!=null&&I.length))d([l],s);else{var j=I.some(function(x){return fe(x,l)});if(j){var F=I.filter(function(x){return!fe(x,l)});d(F,s)}else d([].concat(Ei(I),[l]),s)}else d(l,s);o||(r.props.onSelect(l,s),r.setState({inputValue:null}))}),S(r,"setPreSelection",function(i){var s=typeof r.props.minDate<"u",o=typeof r.props.maxDate<"u",a=!0;if(i){var l=Un(i);if(s&&o)a=pa(i,r.props.minDate,r.props.maxDate);else if(s){var u=Un(r.props.minDate);a=_i(i,u)||Ui(l,u)}else if(o){var d=Xp(r.props.maxDate);a=ss(i,d)||Ui(l,d)}}a&&r.setState({preSelection:i})}),S(r,"toggleCalendar",function(){r.setOpen(!r.state.open)}),S(r,"handleTimeChange",function(i){var s=r.props.selected?r.props.selected:r.getPreSelection(),o=r.props.selected?i:mf(s,{hour:$n(i),minute:Bn(i)});r.setState({preSelection:o}),r.props.onChange(o),r.props.shouldCloseOnSelect&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}),S(r,"onInputClick",function(){!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),r.props.onInputClick()}),S(r,"onInputKeyDown",function(i){r.props.onKeyDown(i);var s=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(s==="ArrowDown"||s==="ArrowUp"||s==="Enter")&&r.onInputClick();return}if(r.state.open){if(s==="ArrowDown"||s==="ArrowUp"){i.preventDefault();var o=r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',a=r.calendar.componentNode&&r.calendar.componentNode.querySelector(o);a&&a.focus({preventScroll:!0});return}var l=ve(r.state.preSelection);s==="Enter"?(i.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===_f?(r.handleSelect(l,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(l)):r.setOpen(!1)):s==="Escape"?(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):s==="Tab"&&r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:vf})}}),S(r,"onPortalKeyDown",function(i){var s=i.key;s==="Escape"&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))}),S(r,"onDayKeyDown",function(i){r.props.onKeyDown(i);var s=i.key,o=i.shiftKey,a=ve(r.state.preSelection);if(s==="Enter")i.preventDefault(),r.handleSelect(a,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(a);else if(s==="Escape")i.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:vf});else if(!r.props.disabledKeyboardNavigation){var l;switch(s){case"ArrowLeft":r.props.showWeekPicker?l=ow(a,1):l=Y4(a,1);break;case"ArrowRight":r.props.showWeekPicker?l=Ku(a,1):l=bi(a,1);break;case"ArrowUp":l=ow(a,1);break;case"ArrowDown":l=Ku(a,1);break;case"PageUp":l=o?_o(a,1):vo(a,1);break;case"PageDown":l=o?hr(a,1):Tn(a,1);break;case"Home":l=ai(a,r.props.locale,r.props.calendarStartDay);break;case"End":l=BF(a);break;default:l=null;break}if(!l){r.props.onInputError&&r.props.onInputError({code:1,msg:vf});return}if(i.preventDefault(),r.setState({lastPreSelectChange:_f}),r.props.adjustDateOnChange&&r.setSelected(l),r.setPreSelection(l),r.props.inline){var u=Mt(a),d=Mt(l),f=re(a),g=re(l);u!==d||f!==g?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}}),S(r,"onPopperKeyDown",function(i){var s=i.key;s==="Escape"&&(i.preventDefault(),r.sendFocusBackToInput())}),S(r,"onClearClick",function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput(),r.props.selectsRange?r.props.onChange([null,null],i):r.props.onChange(null,i),r.setState({inputValue:null})}),S(r,"clear",function(){r.onClearClick()}),S(r,"onScroll",function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)}),S(r,"renderCalendar",function(){return!r.props.inline&&!r.isCalendarOpen()?null:L.createElement(P3,{ref:function(s){r.calendar=s},locale:r.props.locale,calendarStartDay:r.props.calendarStartDay,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,monthAriaLabelPrefix:r.props.monthAriaLabelPrefix,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,holidays:XF(r.modifyHolidays()),includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,shouldFocusDayInline:r.state.shouldFocusDayInline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showPreviousMonths:r.props.showPreviousMonths,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:jw,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,weekDayClassName:r.props.weekDayClassName,monthClassName:r.props.monthClassName,timeClassName:r.props.timeClassName,showDateSelect:r.props.showDateSelect,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearItemNumber:r.props.yearItemNumber,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthAriaLabel:r.props.previousMonthAriaLabel,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthAriaLabel:r.props.nextMonthAriaLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,previousYearAriaLabel:r.props.previousYearAriaLabel,previousYearButtonLabel:r.props.previousYearButtonLabel,nextYearAriaLabel:r.props.nextYearAriaLabel,nextYearButtonLabel:r.props.nextYearButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,onYearMouseEnter:r.props.onYearMouseEnter,onYearMouseLeave:r.props.onYearMouseLeave,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,excludeScrollbar:r.props.excludeScrollbar,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,isInputFocused:r.state.focused,customTimeInput:r.props.customTimeInput,setPreSelection:r.setPreSelection,usePointerEvent:r.props.usePointerEvent,yearClassName:r.props.yearClassName},r.props.children)}),S(r,"renderAriaLiveRegion",function(){var i=r.props,s=i.dateFormat,o=i.locale,a=r.props.showTimeInput||r.props.showTimeSelect,l=a?"PPPPp":"PPPP",u;return r.props.selectsRange?u="Selected start date: ".concat(nn(r.props.startDate,{dateFormat:l,locale:o}),". ").concat(r.props.endDate?"End date: "+nn(r.props.endDate,{dateFormat:l,locale:o}):""):r.props.showTimeSelectOnly?u="Selected time: ".concat(nn(r.props.selected,{dateFormat:s,locale:o})):r.props.showYearPicker?u="Selected year: ".concat(nn(r.props.selected,{dateFormat:"yyyy",locale:o})):r.props.showMonthYearPicker?u="Selected month: ".concat(nn(r.props.selected,{dateFormat:"MMMM yyyy",locale:o})):r.props.showQuarterYearPicker?u="Selected quarter: ".concat(nn(r.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):u="Selected date: ".concat(nn(r.props.selected,{dateFormat:l,locale:o})),L.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)}),S(r,"renderDateInput",function(){var i,s=mt(r.props.className,S({},jw,r.state.open)),o=r.props.customInput||L.createElement("input",{type:"text"}),a=r.props.customInputRef||"ref",l=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?LF(r.props.startDate,r.props.endDate,r.props):r.props.selectsMultiple?VF(r.props.selectedDates,r.props):nn(r.props.selected,r.props);return L.cloneElement(o,(i={},S(S(S(S(S(S(S(S(S(S(i,a,function(u){r.input=u}),"value",l),"onBlur",r.handleBlur),"onChange",r.handleChange),"onClick",r.onInputClick),"onFocus",r.handleFocus),"onKeyDown",r.onInputKeyDown),"id",r.props.id),"name",r.props.name),"form",r.props.form),S(S(S(S(S(S(S(S(S(S(i,"autoFocus",r.props.autoFocus),"placeholder",r.props.placeholderText),"disabled",r.props.disabled),"autoComplete",r.props.autoComplete),"className",mt(o.props.className,s)),"title",r.props.title),"readOnly",r.props.readOnly),"required",r.props.required),"tabIndex",r.props.tabIndex),"aria-describedby",r.props.ariaDescribedBy),S(S(S(i,"aria-invalid",r.props.ariaInvalid),"aria-labelledby",r.props.ariaLabelledBy),"aria-required",r.props.ariaRequired)))}),S(r,"renderClearButton",function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,l=i.startDate,u=i.endDate,d=i.clearButtonTitle,f=i.clearButtonClassName,g=f===void 0?"":f,y=i.ariaLabelClose,w=y===void 0?"Close":y,I=i.selectedDates;return s&&(a!=null||l!=null||u!=null||I!=null&&I.length)?L.createElement("button",{type:"button",className:mt("react-datepicker__close-icon",g,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":w,onClick:r.onClearClick,title:d,tabIndex:-1}):null}),r.state=r.calcInitialState(),r.preventFocusTimeout=null,r}return ct(e,t),lt(e,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(r,i){r.inline&&R3(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Rw(this.props.highlightDates)}),!i.focused&&!Ui(r.selected,this.props.selected)&&this.setState({inputValue:null}),i.open!==this.state.open&&(i.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),i.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var r=this.props,i=r.showIcon,s=r.icon,o=r.calendarIconClassname,a=r.toggleCalendarOnIconClick,l=this.state.open;return L.createElement("div",{className:"react-datepicker__input-container".concat(i?" react-datepicker__view-calendar-icon":"")},i&&L.createElement(x3,ul({icon:s,className:"".concat(o," ").concat(l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var i=this.state.open?L.createElement(OI,{enableTabLoop:this.props.enableTabLoop},L.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(i=L.createElement(MI,{portalId:this.props.portalId,portalHost:this.props.portalHost},i)),L.createElement("div",null,this.renderInputContainer(),i)}return L.createElement(D3,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:r,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop,showArrow:this.props.showPopperArrow})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Pl,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}}}])}(L.Component),A3="input",_f="navigate";const M3=()=>{const{starId:t}=pk(),[e,n]=O.useState(new Date),[r,i]=O.useState("10:00"),s={id:t,name:"John Smith",category:"Musicians",image:"https://images.unsplash.com/photo-1510915361894-db8b60106cb1?auto=format&fit=crop&w=800",price:1e3,rating:4.8,reviews:156,description:"Award-winning musician with over 10 years of experience. Available for private performances, meet & greets, and virtual events.",availability:["10:00","12:00","14:00","16:00","18:00"]},o=()=>{window.location.href="/booking-confirmation"};return p.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8 text-gray-900 dark:text-gray-100",children:p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{children:[p.jsx("img",{src:s.image,alt:s.name,className:"w-full h-96 object-cover rounded-xl mb-6"}),p.jsx("h1",{className:"text-3xl font-bold mb-4 dark:text-white",children:s.name}),p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("span",{className:"bg-indigo-100 dark:bg-indigo-800 text-indigo-800 dark:text-indigo-200 px-3 py-1 rounded-full text-sm",children:s.category}),p.jsxs("div",{className:"ml-4 flex items-center",children:[p.jsx(ys,{className:"w-5 h-5 text-yellow-400"}),p.jsx("span",{className:"ml-1 dark:text-gray-300",children:s.rating}),p.jsxs("span",{className:"text-gray-400 dark:text-gray-400 ml-1",children:["(",s.reviews," reviews)"]})]})]}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:s.description}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(qg,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400 mr-2"}),p.jsx("span",{className:"dark:text-gray-300",children:"Professional Experience: 10+ years"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(ML,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400 mr-2"}),p.jsx("span",{className:"dark:text-gray-300",children:"Languages: English, Spanish"})]})]})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg",children:[p.jsx("h2",{className:"text-2xl font-semibold mb-6 dark:text-white",children:"Book an Experience"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Date"}),p.jsxs("div",{className:"relative",children:[p.jsx(zx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx(N3,{selected:e,onChange:a=>n(a),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-700 dark:text-gray-200",minDate:new Date})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Time"}),p.jsxs("div",{className:"relative",children:[p.jsx(Hx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("select",{value:r,onChange:a=>i(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-700 dark:text-gray-200",children:s.availability.map(a=>p.jsx("option",{value:a,children:a},a))})]})]}),p.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[p.jsxs("div",{className:"flex justify-between mb-2",children:[p.jsx("span",{className:"dark:text-gray-300",children:"Base Price"}),p.jsxs("span",{className:"dark:text-gray-300",children:["$",s.price]})]}),p.jsxs("div",{className:"flex justify-between mb-2",children:[p.jsx("span",{className:"dark:text-gray-300",children:"Service Fee"}),p.jsxs("span",{className:"dark:text-gray-300",children:["$",Math.round(s.price*.1)]})]}),p.jsxs("div",{className:"flex justify-between font-semibold text-lg pt-2 border-t border-gray-200 dark:border-gray-700",children:[p.jsx("span",{className:"dark:text-gray-300",children:"Total"}),p.jsxs("span",{className:"dark:text-gray-300",children:["$",Math.round(s.price*1.1)]})]})]}),p.jsx("button",{onClick:o,className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition",children:"Book Now"})]})]})]})})},O3=["All Categories","Musicians","Actors","Athletes","Influencers"],L3=[{id:1,name:"John Smith",category:"Musicians",image:"https://images.unsplash.com/photo-1510915361894-db8b60106cb1?auto=format&fit=crop&w=800",price:"$1000/hour",rating:4.8,reviews:156}],V3=()=>{const t=yl(),[e,n]=O.useState("All Categories"),[r,i]=O.useState("");return p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 text-gray-900 dark:text-gray-100",children:[p.jsx("div",{className:"mb-8",children:p.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[p.jsxs("div",{className:"flex-1 relative",children:[p.jsx(Qx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"text",placeholder:"Search stars...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800",value:r,onChange:s=>i(s.target.value)})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("select",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800",value:e,onChange:s=>n(s.target.value),children:O3.map(s=>p.jsx("option",{value:s,children:s},s))}),p.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition",children:[p.jsx(Yx,{className:"w-5 h-5"}),"Filters"]})]})]})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:L3.map(s=>p.jsxs("div",{onClick:()=>t(`/star/${s.id}`),className:"bg-white dark:bg-gray-700 rounded-xl shadow-md overflow-hidden cursor-pointer transform hover:scale-105 transition",children:[p.jsx("img",{src:s.image,alt:s.name,className:"w-full h-48 object-cover"}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("h3",{className:"text-xl font-semibold dark:text-white",children:s.name}),p.jsx("span",{className:"bg-indigo-100 dark:bg-indigo-800 text-indigo-800 dark:text-indigo-200 px-2 py-1 rounded text-sm",children:s.category})]}),p.jsxs("div",{className:"flex items-center mb-2",children:[p.jsx("span",{className:"text-yellow-400",children:""}),p.jsx("span",{className:"ml-1 dark:text-gray-300",children:s.rating}),p.jsxs("span",{className:"text-gray-400 dark:text-gray-400 ml-1",children:["(",s.reviews," reviews)"]})]}),p.jsx("p",{className:"text-indigo-600 dark:text-indigo-400 font-semibold",children:s.price})]})]},s.id))})]})},j3=()=>p.jsx("div",{className:"max-w-2xl mx-auto px-4 py-16 text-center text-gray-900 dark:text-gray-100",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[p.jsx(xL,{className:"w-16 h-16 text-green-500 mx-auto mb-6"}),p.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Booking Confirmed!"}),p.jsx("p",{className:"text-lg mb-8",children:"Thank you for booking with StarConnect. Your booking details have been sent to your email."}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"We look forward to providing you with an unforgettable experience!"})]})});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="firebasestorage.googleapis.com",VI="storageBucket",F3=2*60*1e3,U3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be extends Kn{constructor(e,n,r=0){super(wf(e),`Firebase Storage: ${n} (${wf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Be.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ue;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ue||(Ue={}));function wf(t){return"storage/"+t}function cy(){const t="An unknown error occurred, please check the error payload for server response.";return new Be(Ue.UNKNOWN,t)}function B3(t){return new Be(Ue.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function $3(t){return new Be(Ue.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function W3(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Be(Ue.UNAUTHENTICATED,t)}function z3(){return new Be(Ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function H3(t){return new Be(Ue.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Y3(){return new Be(Ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function K3(){return new Be(Ue.CANCELED,"User canceled the upload/download.")}function q3(t){return new Be(Ue.INVALID_URL,"Invalid URL '"+t+"'.")}function Q3(t){return new Be(Ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function G3(){return new Be(Ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+VI+"' property when initializing the app?")}function X3(){return new Be(Ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function J3(){return new Be(Ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Z3(t){return new Be(Ue.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function om(t){return new Be(Ue.INVALID_ARGUMENT,t)}function jI(){return new Be(Ue.APP_DELETED,"The Firebase app was deleted.")}function eU(t){return new Be(Ue.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Da(t,e){return new Be(Ue.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ra(t){throw new Be(Ue.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gt.makeFromUrl(e,n)}catch{return new Gt(e,"")}if(r.path==="")return r;throw Q3(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${d}/b/${i}/o${g}`,"i"),w={bucket:1,path:3},I=n===LI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",E=new RegExp(`^https?://${I}/${i}/${C}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:y,indices:w,postModify:u},{regex:E,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<T.length;N++){const j=T[N],F=j.regex.exec(e);if(F){const x=F[j.indices.bucket];let _=F[j.indices.path];_||(_=""),r=new Gt(x,_),j.postModify(r);break}}if(r==null)throw q3(e);return r}}class tU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...C){u||(u=!0,e.apply(null,C))}function f(C){i=setTimeout(()=>{i=null,t(y,l())},C)}function g(){s&&clearTimeout(s)}function y(C,...E){if(u){g();return}if(C){g(),d.call(null,C,...E);return}if(l()||o){g(),d.call(null,C,...E);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,f(T)}let w=!1;function I(C){w||(w=!0,g(),!u&&(i!==null?(C||(a=2),clearTimeout(i),f(0)):C||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,I(!0)},n),I}function rU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t){return t!==void 0}function sU(t){return typeof t=="object"&&!Array.isArray(t)}function uy(t){return typeof t=="string"||t instanceof String}function Fw(t){return dy()&&t instanceof Blob}function dy(){return typeof Blob<"u"}function Uw(t,e,n,r){if(r<e)throw om(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw om(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function FI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Yi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Yi||(Yi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,n,r,i,s,o,a,l,u,d,f,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,w)=>{this.resolve_=y,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ic(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Yi.NO_ERROR,l=s.getStatus();if(!a||oU(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Yi.ABORT;r(!1,new Ic(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Ic(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());iU(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=cy();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?jI():K3();o(l)}else{const l=Y3();o(l)}};this.canceled_?n(!1,new Ic(!1,null,!0)):this.backoffId_=nU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&rU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ic{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function lU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function cU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function uU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function dU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function hU(t,e,n,r,i,s,o=!0){const a=FI(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return uU(u,e),lU(u,n),cU(u,s),dU(u,r),new aU(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pU(...t){const e=fU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(dy())return new Blob(t);throw new Be(Ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t){if(typeof atob>"u")throw Z3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ef{constructor(e,n){this.data=e,this.contentType=n||null}}function yU(t,e){switch(t){case Nn.RAW:return new Ef(UI(e));case Nn.BASE64:case Nn.BASE64URL:return new Ef(BI(t,e));case Nn.DATA_URL:return new Ef(_U(e),wU(e))}throw cy()}function UI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function vU(t){let e;try{e=decodeURIComponent(t)}catch{throw Da(Nn.DATA_URL,"Malformed data URL.")}return UI(e)}function BI(t,e){switch(t){case Nn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Da(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Nn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Da(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=gU(e)}catch(i){throw i.message.includes("polyfill")?i:Da(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class $I{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Da(Nn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=EU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function _U(t){const e=new $I(t);return e.base64?BI(Nn.BASE64,e.rest):vU(e.rest)}function wU(t){return new $I(t).contentType}function EU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n){let r=0,i="";Fw(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Fw(this.data_)){const r=this.data_,i=mU(r,e,n);return i===null?null:new Br(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Br(r,!0)}}static getBlob(...e){if(dy()){const n=e.map(r=>r instanceof Br?r.data_:r);return new Br(pU.apply(null,n))}else{const n=e.map(o=>uy(o)?yU(Nn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Br(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t){let e;try{e=JSON.parse(t)}catch{return null}return sU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function TU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function zI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t,e){return e}class Rt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||xU}}let Sc=null;function IU(t){return!uy(t)||t.length<2?t:zI(t)}function HI(){if(Sc)return Sc;const t=[];t.push(new Rt("bucket")),t.push(new Rt("generation")),t.push(new Rt("metageneration")),t.push(new Rt("name","fullPath",!0));function e(s,o){return IU(o)}const n=new Rt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Rt("size");return i.xform=r,t.push(i),t.push(new Rt("timeCreated")),t.push(new Rt("updated")),t.push(new Rt("md5Hash",null,!0)),t.push(new Rt("cacheControl",null,!0)),t.push(new Rt("contentDisposition",null,!0)),t.push(new Rt("contentEncoding",null,!0)),t.push(new Rt("contentLanguage",null,!0)),t.push(new Rt("contentType",null,!0)),t.push(new Rt("metadata","customMetadata",!0)),Sc=t,Sc}function SU(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Gt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function bU(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return SU(r,t),r}function YI(t,e,n){const r=WI(e);return r===null?null:bU(t,r,n)}function CU(t,e,n,r){const i=WI(e);if(i===null||!uy(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=t.bucket,f=t.fullPath,g="/b/"+o(d)+"/o/"+o(f),y=hy(g,n,r),w=FI({alt:"media",token:u});return y+w})[0]}function DU(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class KI{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){if(!t)throw cy()}function PU(t,e){function n(r,i){const s=YI(t,i,e);return qI(s!==null),s}return n}function RU(t,e){function n(r,i){const s=YI(t,i,e);return qI(s!==null),CU(s,i,t.host,t._protocol)}return n}function QI(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=z3():i=W3():n.getStatus()===402?i=$3(t.bucket):n.getStatus()===403?i=H3(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function NU(t){const e=QI(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=B3(t.path)),s.serverResponse=i.serverResponse,s}return n}function AU(t,e,n){const r=e.fullServerUrl(),i=hy(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new KI(i,s,RU(t,n),o);return a.errorHandler=NU(e),a}function MU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function OU(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=MU(null,e)),r}function LU(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let N=0;N<2;N++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=OU(e,r,i),d=DU(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,g=`\r
--`+l+"--",y=Br.getBlob(f,r,g);if(y===null)throw X3();const w={name:u.fullPath},I=hy(s,t.host,t._protocol),C="POST",E=t.maxUploadRetryTime,v=new KI(I,C,PU(t,n),E);return v.urlParams=w,v.headers=o,v.body=y.uploadData(),v.errorHandler=QI(e),v}class VU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ra("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ra("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ra("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ra("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ra("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class jU extends VU{initXhr(){this.xhr_.responseType="text"}}function GI(){return new jU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){this._service=e,n instanceof Gt?this._location=n:this._location=Gt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new as(e,n)}get root(){const e=new Gt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zI(this._location.path)}get storage(){return this._service}get parent(){const e=kU(this._location.path);if(e===null)return null;const n=new Gt(this._location.bucket,e);return new as(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw eU(e)}}function FU(t,e,n){t._throwIfRoot("uploadBytes");const r=LU(t.storage,t._location,HI(),new Br(e,!0),n);return t.storage.makeRequestWithTokens(r,GI).then(i=>({metadata:i,ref:t}))}function UU(t){t._throwIfRoot("getDownloadURL");const e=AU(t.storage,t._location,HI());return t.storage.makeRequestWithTokens(e,GI).then(n=>{if(n===null)throw J3();return n})}function BU(t,e){const n=TU(t._location.path,e),r=new Gt(t._location.bucket,n);return new as(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t){return/^[A-Za-z]+:\/\//.test(t)}function WU(t,e){return new as(t,e)}function XI(t,e){if(t instanceof fy){const n=t;if(n._bucket==null)throw G3();const r=new as(n,n._bucket);return e!=null?XI(r,e):r}else return e!==void 0?BU(t,e):t}function zU(t,e){if(e&&$U(e)){if(t instanceof fy)return WU(t,e);throw om("To use ref(service, url), the first argument must be a Storage instance.")}else return XI(t,e)}function Bw(t,e){const n=e==null?void 0:e[VI];return n==null?null:Gt.makeFromBucketSpec(n,t)}function HU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Ik(i,t.app.options.projectId))}class fy{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=LI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=F3,this._maxUploadRetryTime=U3,this._requests=new Set,i!=null?this._bucket=Gt.makeFromBucketSpec(i,this._host):this._bucket=Bw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gt.makeFromBucketSpec(this._url,e):this._bucket=Bw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Uw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Uw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new as(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new tU(jI());{const o=hU(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const $w="@firebase/storage",Ww="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="storage";function kf(t,e,n){return t=st(t),FU(t,e,n)}function Tf(t){return t=st(t),UU(t)}function xf(t,e){return t=st(t),zU(t,e)}function YU(t=sg(),e){t=st(t);const r=Id(t,JI).getImmediate({identifier:e}),i=kk("storage");return i&&KU(r,...i),r}function KU(t,e,n,r={}){HU(t,e,n,r)}function qU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new fy(n,r,i,e,ds)}function QU(){Zi(new hi(JI,qU,"PUBLIC").setMultipleInstances(!0)),On($w,Ww,""),On($w,Ww,"esm2017")}QU();const GU=()=>{const t=yl(),[e,n]=O.useState({name:"",email:"",phone:"",category:"",experience:"",hourlyRate:"",profilePicture:"",profilePictureType:"url",videoIntroduction:"",socialMediaLinks:{instagram:"",twitter:"",facebook:"",youtube:""},governmentId:null,advertisingImages:[]}),[r,i]=O.useState(!1),[s,o]=O.useState(""),a=g=>{const{name:y,value:w,files:I}=g.target;if(y==="governmentId")n(C=>({...C,governmentId:I[0]}));else if(y.startsWith("socialMediaLinks.")){const C=y.split(".")[1];n(E=>({...E,socialMediaLinks:{...E.socialMediaLinks,[C]:w}}))}else y==="profilePictureType"?n(C=>({...C,profilePictureType:w,profilePicture:w==="url"?"":null})):y==="profilePicture"?e.profilePictureType==="file"?n(C=>({...C,profilePicture:I[0]})):n(C=>({...C,profilePicture:w})):n(C=>({...C,[y]:w}))},l=()=>{e.advertisingImages.length<5&&n(g=>({...g,advertisingImages:[...g.advertisingImages,{type:"url",value:""}]}))},u=(g,y)=>{const{value:w,files:I}=y.target,C=[...e.advertisingImages];y.target.name==="advertisingImageType"?(C[g].type=w,C[g].value=w==="url"?"":null):C[g].type==="file"?C[g].value=I[0]:C[g].value=w,n(E=>({...E,advertisingImages:C}))},d=g=>{const y=[...e.advertisingImages];y.splice(g,1),n(w=>({...w,advertisingImages:y}))},f=async g=>{if(g.preventDefault(),i(!0),o(""),!oi.currentUser){o("User not authenticated."),i(!1);return}const y=oi.currentUser,w=YU();try{let I="";if(e.governmentId){const T=xf(w,`governmentIds/${y.uid}/${e.governmentId.name}`),N=await kf(T,e.governmentId);I=await Tf(N.ref)}let C=e.profilePicture;if(e.profilePictureType==="file"&&e.profilePicture){const T=xf(w,`profilePictures/${y.uid}/${e.profilePicture.name}`),N=await kf(T,e.profilePicture);C=await Tf(N.ref)}const E=[];for(const T of e.advertisingImages)if(T.type==="file"&&T.value){const N=xf(w,`advertisingImages/${y.uid}/${T.value.name}`),j=await kf(N,T.value),F=await Tf(j.ref);E.push(F)}else T.type==="url"&&E.push(T.value);const v={name:e.name,email:e.email,phone:e.phone,category:e.category,experience:e.experience,hourlyRate:e.hourlyRate,profilePicture:C,videoIntroduction:e.videoIntroduction,socialMediaLinks:e.socialMediaLinks,governmentId:I,advertisingImages:E};await Bx(Bd($d,"stars",y.uid),v),t("/")}catch(I){console.error("Error registering star:",I),o("Failed to register. Please try again.")}finally{i(!1)}};return p.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-12 text-gray-900 dark:text-gray-100",children:[p.jsx("h1",{className:"text-3xl font-bold text-center mb-8 dark:text-white",children:"Register as a Star"}),s&&p.jsx("p",{className:"text-red-500 text-center mb-4",children:s}),p.jsxs("form",{onSubmit:f,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"Personal Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),p.jsxs("div",{className:"relative",children:[p.jsx(zu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"text",name:"name",value:e.name,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),p.jsxs("div",{className:"relative",children:[p.jsx(Kx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"email",name:"email",value:e.email,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),p.jsxs("div",{className:"relative",children:[p.jsx(LL,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]})]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"Professional Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),p.jsxs("div",{className:"relative",children:[p.jsx(TL,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsxs("select",{name:"category",value:e.category,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800",required:!0,children:[p.jsx("option",{value:"",children:"Select Category"}),p.jsx("option",{value:"Hip-Hop Artist",children:"Hip-Hop Artist"}),p.jsx("option",{value:"Pop Singer",children:"Pop Singer"}),p.jsx("option",{value:"DJ",children:"DJ"}),p.jsx("option",{value:"Music Band",children:"Music Band"})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Years of Experience"}),p.jsxs("div",{className:"relative",children:[p.jsx(qg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"number",name:"experience",value:e.experience,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Hourly Rate"}),p.jsxs("div",{className:"relative",children:[p.jsx(SL,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"number",name:"hourlyRate",value:e.hourlyRate,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]})]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"Media"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Profile Picture"}),p.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"radio",name:"profilePictureType",value:"url",checked:e.profilePictureType==="url",onChange:a,className:"text-indigo-600 focus:ring-indigo-500 h-4 w-4"}),p.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"URL"})]}),p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"radio",name:"profilePictureType",value:"file",checked:e.profilePictureType==="file",onChange:a,className:"text-indigo-600 focus:ring-indigo-500 h-4 w-4"}),p.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Upload"})]})]}),p.jsx("div",{className:"relative",children:e.profilePictureType==="url"?p.jsxs(p.Fragment,{children:[p.jsx(ew,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:"profilePicture",value:e.profilePicture,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]}):p.jsxs(p.Fragment,{children:[p.jsx(af,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"file",name:"profilePicture",onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Video Introduction URL"}),p.jsxs("div",{className:"relative",children:[p.jsx(BL,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:"videoIntroduction",value:e.videoIntroduction,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Government ID"}),p.jsxs("div",{className:"relative",children:[p.jsx(af,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"file",name:"governmentId",onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]})]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"Advertising Images (Max 5)"}),e.advertisingImages.map((g,y)=>p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Image ",y+1]}),p.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"radio",name:`advertisingImageType${y}`,value:"url",checked:g.type==="url",onChange:w=>u(y,w),className:"text-indigo-600 focus:ring-indigo-500 h-4 w-4"}),p.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"URL"})]}),p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"radio",name:`advertisingImageType${y}`,value:"file",checked:g.type==="file",onChange:w=>u(y,w),className:"text-indigo-600 focus:ring-indigo-500 h-4 w-4"}),p.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Upload"})]})]}),p.jsx("div",{className:"relative",children:g.type==="url"?p.jsxs(p.Fragment,{children:[p.jsx(ew,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:`advertisingImage${y}`,value:g.value,onChange:w=>u(y,w),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]}):p.jsxs(p.Fragment,{children:[p.jsx(af,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"file",name:`advertisingImage${y}`,onChange:w=>u(y,w),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})})]}),p.jsx("button",{type:"button",onClick:()=>d(y),className:"text-red-500 hover:text-red-700 mt-2",children:"Remove"})]},y)),p.jsxs("button",{type:"button",onClick:l,className:"text-indigo-600 hover:text-indigo-800 flex items-center",children:[p.jsx(VL,{className:"w-4 h-4 mr-1"}),"Add Image"]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"Social Media Links"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Instagram"}),p.jsxs("div",{className:"relative",children:[p.jsx(qx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:"socialMediaLinks.instagram",value:e.socialMediaLinks.instagram,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Twitter"}),p.jsxs("div",{className:"relative",children:[p.jsx(lf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:"socialMediaLinks.twitter",value:e.socialMediaLinks.twitter,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Facebook"}),p.jsxs("div",{className:"relative",children:[p.jsx(lf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:"socialMediaLinks.facebook",value:e.socialMediaLinks.facebook,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"YouTube"}),p.jsxs("div",{className:"relative",children:[p.jsx(lf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"url",name:"socialMediaLinks.youtube",value:e.socialMediaLinks.youtube,onChange:a,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800"})]})]})]})]}),p.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition disabled:bg-gray-400",disabled:r,children:r?"Registering...":"Register"})]})]})},XU=()=>{const{user:t}=Wx(),[e,n]=O.useState(null),[r,i]=O.useState(!0),[s,o]=O.useState("");return O.useEffect(()=>{(async()=>{if(t)try{const l=Bd($d,"stars",t.uid),u=await Ux(l);u.exists()?n(u.data()):o("Star profile not found.")}catch(l){console.error("Error fetching star data:",l),o("Failed to fetch profile data.")}finally{i(!1)}})()},[t]),r?p.jsx("div",{className:"container mx-auto p-4 text-center",children:"Loading..."}):s?p.jsx("div",{className:"container mx-auto p-4 text-center text-red-500",children:s}):e?p.jsxs("div",{className:"container mx-auto p-4",children:[p.jsx("h1",{className:"text-2xl font-bold text-center mb-8",children:"Star Profile"}),p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Personal Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Name:"}),p.jsx("p",{children:e.name})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Email:"}),p.jsx("p",{children:e.email})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Phone:"}),p.jsx("p",{children:e.phone})]})]})]}),p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Professional Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Category:"}),p.jsx("p",{children:e.category})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Experience:"}),p.jsxs("p",{children:[e.experience," years"]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Hourly Rate:"}),p.jsxs("p",{children:["$",e.hourlyRate]})]})]})]}),p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Media"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Profile Picture:"}),p.jsx("img",{src:e.profilePicture,alt:"Profile",className:"w-32 h-32 rounded-full object-cover"})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Video Introduction:"}),p.jsx("a",{href:e.videoIntroduction,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Watch Video"})]})]})]}),p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Social Media Links"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.socialMediaLinks.instagram&&p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Instagram:"}),p.jsx("a",{href:e.socialMediaLinks.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:e.socialMediaLinks.instagram})]}),e.socialMediaLinks.twitter&&p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Twitter:"}),p.jsx("a",{href:e.socialMediaLinks.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:e.socialMediaLinks.twitter})]}),e.socialMediaLinks.facebook&&p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Facebook:"}),p.jsx("a",{href:e.socialMediaLinks.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:e.socialMediaLinks.facebook})]}),e.socialMediaLinks.youtube&&p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"YouTube:"}),p.jsx("a",{href:e.socialMediaLinks.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:e.socialMediaLinks.youtube})]})]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Advertising Images"}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.advertisingImages.map((a,l)=>p.jsx("img",{src:a,alt:`Advertising ${l+1}`,className:"w-full h-48 object-cover rounded-lg"},l))})]})]}):p.jsx("div",{className:"container mx-auto p-4 text-center",children:"No profile data found."})},JU=({isOpen:t,onClose:e})=>{const[n,r]=O.useState(!0),[i,s]=O.useState(""),[o,a]=O.useState(""),{signIn:l,signUp:u}=O.useContext(Kg),d=async f=>{f.preventDefault(),n?await l(i,o):await u(i,o),e()};return p.jsx("div",{className:`fixed inset-0 z-50 ${t?"flex":"hidden"} items-center justify-center bg-black bg-opacity-50`,children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-2xl font-semibold dark:text-white",children:n?"Sign In":"Sign Up"}),p.jsx("button",{onClick:e,className:"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100",children:p.jsx(Gx,{className:"w-6 h-6"})})]}),p.jsxs("form",{onSubmit:d,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),p.jsxs("div",{className:"relative",children:[p.jsx(Kx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"email",value:i,onChange:f=>s(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-700 dark:text-gray-200",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(RL,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"password",value:o,onChange:f=>a(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-700 dark:text-gray-200",required:!0})]})]}),p.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 rounded-lg font-semibold hover:bg-indigo-700 transition",children:n?"Sign In":"Sign Up"})]}),p.jsx("div",{className:"text-center mt-4",children:p.jsx("button",{onClick:()=>r(!n),className:"text-sm text-indigo-600 dark:text-indigo-400 hover:underline",children:n?"Create an account":"Already have an account? Sign in"})})]})})},zw=({isDark:t,toggleDarkMode:e,onClose:n})=>{const[r,i]=O.useState(!1);O.useEffect(()=>{(async()=>{if(oi.currentUser){const a=Bd($d,"stars",oi.currentUser.uid),l=await Ux(a);i(l.exists())}})()},[]);const s=async()=>{try{await $N(oi),n()}catch(o){console.error("Error signing out:",o)}};return p.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 z-10 animate-fade-in",children:[p.jsx("div",{className:"absolute top-[-5px] right-3 h-0 w-0 border-l-[5px] border-r-[5px] border-b-[5px] border-l-transparent border-r-transparent border-b-white dark:border-b-gray-800"}),p.jsx("button",{onClick:e,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:t?p.jsxs(p.Fragment,{children:[p.jsx(Yp,{className:"w-4 h-4 mr-2"}),"Light Mode"]}):p.jsxs(p.Fragment,{children:[p.jsx(Hp,{className:"w-4 h-4 mr-2"}),"Dark Mode"]})}),r?p.jsxs(wp,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:n,children:[p.jsx(zu,{className:"w-4 h-4 mr-2 inline-block"}),"Profile"]}):p.jsxs(wp,{to:"/register-star",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:n,children:[p.jsx(ys,{className:"w-4 h-4 mr-2 inline-block"}),"Register as a Star"]}),p.jsxs("button",{onClick:s,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[p.jsx(NL,{className:"w-4 h-4 mr-2"}),"Logout"]})]})},ZU=()=>{const[t,e]=O.useState(!1),[n,r]=O.useState(!1),[i,s]=O.useState(!1),[o,a]=O.useState(!1),{user:l}=Wx();O.useEffect(()=>{(localStorage.theme==="dark"||!localStorage.theme&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(r(!0),document.documentElement.classList.add("dark"))},[]);const u=()=>{n?(document.documentElement.classList.remove("dark"),localStorage.theme="light"):(document.documentElement.classList.add("dark"),localStorage.theme="dark"),r(!n)},d=()=>{a(!o)},f=()=>{a(!1)};return p.jsxs(p.Fragment,{children:[p.jsx("nav",{className:"bg-white dark:bg-gray-800 shadow-lg",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex items-center justify-between h-16",children:[p.jsxs(wp,{to:"/",className:"flex items-center space-x-3 group",children:[p.jsx("div",{className:"transform group-hover:scale-110 transition-transform duration-300",children:p.jsx(Xx,{})}),p.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-indigo-800 bg-clip-text text-transparent",children:"StarConnect"})]}),p.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[p.jsx("button",{onClick:u,className:"p-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors","aria-label":"Toggle dark mode",children:n?p.jsx(Yp,{className:"w-5 h-5"}):p.jsx(Hp,{className:"w-5 h-5"})}),l?p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:d,className:"text-gray-700 dark:text-gray-200 flex items-center gap-1",children:[p.jsx("span",{children:l.displayName||l.email}),p.jsx(Z_,{className:"w-4 h-4"})]}),o&&p.jsx(zw,{isDark:n,toggleDarkMode:u,onClose:f})]}):p.jsxs("button",{onClick:()=>e(!0),className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-200 hover:text-indigo-600 dark:hover:text-indigo-400 transition",children:[p.jsx(zu,{className:"w-5 h-5"}),p.jsx("span",{children:"Sign In"})]})]}),p.jsx("div",{className:"md:hidden",children:p.jsx("button",{onClick:()=>s(!0),children:p.jsx(AL,{className:"h-6 w-6 text-gray-700 dark:text-gray-200"})})})]})})}),p.jsx("div",{className:`fixed top-0 right-0 h-screen w-64 bg-white dark:bg-gray-800 shadow-xl z-50 transition-transform duration-300 ease-in-out transform ${i?"translate-x-0":"translate-x-full"}`,children:p.jsxs("div",{className:"p-4",children:[p.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 text-gray-600 dark:text-gray-300",children:p.jsx(Gx,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex flex-col items-center mt-10 space-y-4",children:[p.jsx("button",{onClick:u,className:"p-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors","aria-label":"Toggle dark mode",children:n?p.jsx(Yp,{className:"w-8 h-8"}):p.jsx(Hp,{className:"w-8 h-8"})}),l?p.jsxs("div",{className:"relative w-full",children:[p.jsxs("button",{onClick:d,className:"text-gray-700 dark:text-gray-200 w-full text-center flex items-center justify-center gap-1",children:[p.jsx("span",{children:l.displayName||l.email}),p.jsx(Z_,{className:"w-4 h-4"})]}),o&&p.jsx(zw,{isDark:n,toggleDarkMode:u,onClose:f})]}):p.jsxs("button",{onClick:()=>e(!0),className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-200 hover:text-indigo-600 dark:hover:text-indigo-400 transition",children:[p.jsx(zu,{className:"w-5 h-5"}),p.jsx("span",{children:"Sign In"})]})]})]})}),p.jsx(JU,{isOpen:t,onClose:()=>e(!1)})]})},e6=()=>p.jsx("footer",{className:"bg-gray-900 text-white",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(ys,{className:"h-6 w-6"}),p.jsx("span",{className:"text-xl font-bold",children:"StarConnect"})]}),p.jsx("p",{className:"mt-2 text-gray-400",children:"Connect with your favorite stars and create unforgettable moments."})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{children:p.jsx("a",{href:"/book-star",className:"text-gray-400 hover:text-white",children:"Book a Star"})}),p.jsx("li",{children:p.jsx("a",{href:"/register-star",className:"text-gray-400 hover:text-white",children:"Register as Star"})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Categories"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{children:p.jsx("a",{href:"/category/musicians",className:"text-gray-400 hover:text-white",children:"Musicians"})}),p.jsx("li",{children:p.jsx("a",{href:"/category/actors",className:"text-gray-400 hover:text-white",children:"Actors"})}),p.jsx("li",{children:p.jsx("a",{href:"/category/athletes",className:"text-gray-400 hover:text-white",children:"Athletes"})}),p.jsx("li",{children:p.jsx("a",{href:"/category/influencers",className:"text-gray-400 hover:text-white",children:"Influencers"})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Follow Us"}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:p.jsx(PL,{className:"h-6 w-6"})}),p.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:p.jsx(FL,{className:"h-6 w-6"})}),p.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:p.jsx(bL,{className:"h-6 w-6"})})]})]})]}),p.jsx("div",{className:"mt-8 pt-8 border-t border-gray-800 text-center text-gray-400",children:p.jsxs("p",{children:[" ",new Date().getFullYear()," StarConnect. All rights reserved."]})})]})});function t6(){const[t,e]=O.useState(!1);O.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]);const n=()=>{e(!t)};return p.jsx(eP,{children:p.jsx(wL,{children:p.jsxs("div",{className:`min-h-screen bg-gray-100 dark:bg-gray-900 ${t?"dark":""}`,children:[p.jsx(ZU,{isDark:t,toggleDarkMode:n}),p.jsx("main",{className:"py-10",children:p.jsxs(KD,{children:[p.jsx(Rr,{path:"/",element:p.jsx(qL,{})}),p.jsx(Rr,{path:"/category/:categoryName",element:p.jsx(QL,{})}),p.jsx(Rr,{path:"/star/:starId",element:p.jsx(M3,{})}),p.jsx(Rr,{path:"/book/:starId",element:p.jsx(V3,{})}),p.jsx(Rr,{path:"/booking-confirmation",element:p.jsx(j3,{})}),p.jsx(Rr,{path:"/register-star",element:p.jsx(GU,{})}),p.jsx(Rr,{path:"/profile",element:p.jsx(XU,{})})," "]})}),p.jsx(e6,{})]})})})}sk(document.getElementById("root")).render(p.jsx(O.StrictMode,{children:p.jsx(t6,{})}));
